<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 30 Mapping Health Data in R | Reproducible Medical Research with R</title>
  <meta name="description" content="This book is for anyone in the medical field interested in learning R to analyze available health data." />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 30 Mapping Health Data in R | Reproducible Medical Research with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book is for anyone in the medical field interested in learning R to analyze available health data." />
  <meta name="github-repo" content="higgi13425/rmrwr-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 30 Mapping Health Data in R | Reproducible Medical Research with R" />
  
  <meta name="twitter:description" content="This book is for anyone in the medical field interested in learning R to analyze available health data." />
  

<meta name="author" content="Peter D.R. Higgins, MD, PhD, MSc" />


<meta name="date" content="2025-10-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="helping-out-with-ggplot.html"/>
<link rel="next" href="resources-for-learning-more-about-mapgl.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="libs/tabwid-1.1.3/tabwid.js"></script>
<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="include/webex.css" type="text/css" />
<link rel="stylesheet" href="include/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">RMRWR</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#who-this-book-is-for"><i class="fa fa-check"></i><b>1.1</b> Who This Book is For</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#the-upward-spiral-of-success-structure"><i class="fa fa-check"></i><b>1.3</b> The (Upward) Spiral of Success Structure</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#motivation-for-this-book"><i class="fa fa-check"></i><b>1.4</b> Motivation for this Book</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#the-scientific-reproducibility-crisis"><i class="fa fa-check"></i><b>1.5</b> The Scientific Reproducibility Crisis</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#features-of-a-bookdown-electronic-book"><i class="fa fa-check"></i><b>1.6</b> Features of a Bookdown electronic book</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#what-this-book-is-not"><i class="fa fa-check"></i><b>1.7</b> What this Book is Not</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="index.html"><a href="index.html#this-book-is-not-a-statistics-text"><i class="fa fa-check"></i><b>1.7.1</b> This Book is Not A Statistics Text</a></li>
<li class="chapter" data-level="1.7.2" data-path="index.html"><a href="index.html#this-book-does-not-provide-comprehensive-coverage-of-the-r-universe"><i class="fa fa-check"></i><b>1.7.2</b> This Book Does Not Provide Comprehensive Coverage of the R Universe</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#some-guideposts"><i class="fa fa-check"></i><b>1.8</b> Some Guideposts</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#helpful-tools"><i class="fa fa-check"></i><b>1.9</b> Helpful Tools</a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="index.html"><a href="index.html#demonstrations-in-flipbooks"><i class="fa fa-check"></i><b>1.9.1</b> Demonstrations in Flipbooks</a></li>
<li class="chapter" data-level="1.9.2" data-path="index.html"><a href="index.html#learnr-coding-exercises"><i class="fa fa-check"></i><b>1.9.2</b> Learnr Coding Exercises</a></li>
<li class="chapter" data-level="1.9.3" data-path="index.html"><a href="index.html#coding"><i class="fa fa-check"></i><b>1.9.3</b> Coding</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html"><i class="fa fa-check"></i><b>2</b> Getting Started and Installing Your Tools</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#goals-for-this-chapter"><i class="fa fa-check"></i><b>2.1</b> Goals for this Chapter</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#website-links-needed-for-this-chapter"><i class="fa fa-check"></i><b>2.2</b> Website links needed for this Chapter</a></li>
<li class="chapter" data-level="2.3" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#pathway-for-this-chapter"><i class="fa fa-check"></i><b>2.3</b> Pathway for this Chapter</a></li>
<li class="chapter" data-level="2.4" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#installing-r-on-your-computer"><i class="fa fa-check"></i><b>2.4</b> Installing R on your Computer</a></li>
<li class="chapter" data-level="2.5" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#windows-specific-steps-for-installing-r"><i class="fa fa-check"></i><b>2.5</b> Windows-Specific Steps for Installing R</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#testing-r-on-windows"><i class="fa fa-check"></i><b>2.5.1</b> Testing R on Windows</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#mac-specific-installation-of-r"><i class="fa fa-check"></i><b>2.6</b> Mac-specific Installation of R</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#testing-r-on-the-mac"><i class="fa fa-check"></i><b>2.6.1</b> Testing R on the Mac</a></li>
<li class="chapter" data-level="2.6.2" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#successful-testing"><i class="fa fa-check"></i><b>2.6.2</b> Successful testing!</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#installing-rstudio-on-your-computer"><i class="fa fa-check"></i><b>2.7</b> Installing RStudio on your Computer</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#windows-install-of-rstudio"><i class="fa fa-check"></i><b>2.7.1</b> Windows Install of RStudio</a></li>
<li class="chapter" data-level="2.7.2" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#testing-windows-rstudio"><i class="fa fa-check"></i><b>2.7.2</b> Testing Windows RStudio</a></li>
<li class="chapter" data-level="2.7.3" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#installing-rstudio-on-the-mac"><i class="fa fa-check"></i><b>2.7.3</b> Installing RStudio on the Mac</a></li>
<li class="chapter" data-level="2.7.4" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#testing-the-mac-installation-of-rstudio"><i class="fa fa-check"></i><b>2.7.4</b> Testing the Mac Installation of RStudio</a></li>
<li class="chapter" data-level="2.7.5" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#critical-setup---tuning-up-your-rstudio-installation"><i class="fa fa-check"></i><b>2.7.5</b> Critical Setup - Tuning Up Your RStudio Installation</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#installing-git-on-your-computer"><i class="fa fa-check"></i><b>2.8</b> Installing Git on your Computer</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#installing-git-on-macos"><i class="fa fa-check"></i><b>2.8.1</b> Installing Git on macOS</a></li>
<li class="chapter" data-level="2.8.2" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#installing-git-on-windows"><i class="fa fa-check"></i><b>2.8.2</b> Installing Git on Windows</a></li>
<li class="chapter" data-level="2.8.3" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#installing-git-on-linux"><i class="fa fa-check"></i><b>2.8.3</b> Installing Git on Linux</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="getting-started-and-installing-your-tools.html"><a href="getting-started-and-installing-your-tools.html#getting-acquainted-with-the-rstudio-ide"><i class="fa fa-check"></i><b>2.9</b> Getting Acquainted with the RStudio IDE</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html"><i class="fa fa-check"></i><b>3</b> A Tasting Menu of R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#setting-the-table"><i class="fa fa-check"></i><b>3.1</b> Setting the Table</a></li>
<li class="chapter" data-level="3.2" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#goals-for-this-chapter-1"><i class="fa fa-check"></i><b>3.2</b> Goals for this Chapter</a></li>
<li class="chapter" data-level="3.3" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#packages-needed-for-this-chapter"><i class="fa fa-check"></i><b>3.3</b> Packages needed for this Chapter</a></li>
<li class="chapter" data-level="3.4" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#website-links-needed-for-this-chapter-1"><i class="fa fa-check"></i><b>3.4</b> Website links needed for this Chapter</a></li>
<li class="chapter" data-level="3.5" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#setting-up-rpubs"><i class="fa fa-check"></i><b>3.5</b> Setting up RPubs</a></li>
<li class="chapter" data-level="3.6" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#open-a-new-rmarkdown-document"><i class="fa fa-check"></i><b>3.6</b> Open a New Rmarkdown document</a></li>
<li class="chapter" data-level="3.7" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#knitting-your-rmarkdown-document"><i class="fa fa-check"></i><b>3.7</b> Knitting your Rmarkdown document</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#installing-packages"><i class="fa fa-check"></i><b>3.7.1</b> Installing Packages</a></li>
<li class="chapter" data-level="3.7.2" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#loading-packages-with-library"><i class="fa fa-check"></i><b>3.7.2</b> Loading Packages with library()</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#your-turn-to-write-text"><i class="fa fa-check"></i><b>3.8</b> Your Turn to Write Text</a></li>
<li class="chapter" data-level="3.9" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#wrangle-your-data"><i class="fa fa-check"></i><b>3.9</b> Wrangle Your Data</a></li>
<li class="chapter" data-level="3.10" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#summarize-your-data"><i class="fa fa-check"></i><b>3.10</b> Summarize Your Data</a></li>
<li class="chapter" data-level="3.11" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#visualize-your-data"><i class="fa fa-check"></i><b>3.11</b> Visualize Your Data</a></li>
<li class="chapter" data-level="3.12" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#statistical-testing-of-differences"><i class="fa fa-check"></i><b>3.12</b> Statistical Testing of Differences</a></li>
<li class="chapter" data-level="3.13" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#publish-your-work-to-rpubs"><i class="fa fa-check"></i><b>3.13</b> Publish your work to RPubs</a></li>
<li class="chapter" data-level="3.14" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#the-dessert-cart"><i class="fa fa-check"></i><b>3.14</b> The Dessert Cart</a>
<ul>
<li class="chapter" data-level="3.14.1" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#interactive-plots"><i class="fa fa-check"></i><b>3.14.1</b> Interactive Plots</a></li>
<li class="chapter" data-level="3.14.2" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#animated-graphics"><i class="fa fa-check"></i><b>3.14.2</b> Animated Graphics</a></li>
<li class="chapter" data-level="3.14.3" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#a-clinical-trial-dashboard"><i class="fa fa-check"></i><b>3.14.3</b> A Clinical Trial Dashboard</a></li>
<li class="chapter" data-level="3.14.4" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#a-shiny-app"><i class="fa fa-check"></i><b>3.14.4</b> A Shiny App</a></li>
<li class="chapter" data-level="3.14.5" data-path="a-tasting-menu-of-r.html"><a href="a-tasting-menu-of-r.html#an-example-of-synergy-in-the-r-community"><i class="fa fa-check"></i><b>3.14.5</b> An Example of Synergy in the R Community</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introduction-to-reproducibility.html"><a href="introduction-to-reproducibility.html"><i class="fa fa-check"></i><b>4</b> Introduction to Reproducibility</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introduction-to-reproducibility.html"><a href="introduction-to-reproducibility.html#first-steps-to-research-reproducibility"><i class="fa fa-check"></i><b>4.1</b> First Steps to Research Reproducibility</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="introduction-to-reproducibility.html"><a href="introduction-to-reproducibility.html#have-a-plan"><i class="fa fa-check"></i><b>4.1.1</b> Have a Plan</a></li>
<li class="chapter" data-level="4.1.2" data-path="introduction-to-reproducibility.html"><a href="introduction-to-reproducibility.html#treat-your-raw-data-like-gold"><i class="fa fa-check"></i><b>4.1.2</b> Treat Your Raw Data Like Gold</a></li>
<li class="chapter" data-level="4.1.3" data-path="introduction-to-reproducibility.html"><a href="introduction-to-reproducibility.html#cleaning-and-analyzing-your-data"><i class="fa fa-check"></i><b>4.1.3</b> Cleaning and Analyzing Your Data</a></li>
<li class="chapter" data-level="4.1.4" data-path="introduction-to-reproducibility.html"><a href="introduction-to-reproducibility.html#the-first-level-of-reproducibility"><i class="fa fa-check"></i><b>4.1.4</b> The First Level of Reproducibility</a></li>
<li class="chapter" data-level="4.1.5" data-path="introduction-to-reproducibility.html"><a href="introduction-to-reproducibility.html#the-second-level-of-reproducibility"><i class="fa fa-check"></i><b>4.1.5</b> The Second Level of Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="introduction-to-reproducibility.html"><a href="introduction-to-reproducibility.html#the-foundations-of-reproducibility"><i class="fa fa-check"></i><b>4.2</b> The Foundations of Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html"><i class="fa fa-check"></i><b>5</b> Importing Your Data into R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#reading-data-with-the-readr-package"><i class="fa fa-check"></i><b>5.1</b> Reading data with the {readr} package</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#test-yourself-on-scurvy"><i class="fa fa-check"></i><b>5.1.1</b> Test yourself on scurvy</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#what-is-a-path"><i class="fa fa-check"></i><b>5.1.2</b> What is a path?<br></a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#try-it-yourself"><i class="fa fa-check"></i><b>5.1.3</b> Try it Yourself</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#reading-excel-files-with-readxl"><i class="fa fa-check"></i><b>5.2</b> Reading Excel Files with readxl</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#test-yourself-on-read_excel"><i class="fa fa-check"></i><b>5.2.1</b> Test yourself on read_excel()</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#bringing-in-data-from-other-statistical-programs-sas-stata-spss-with-the-haven-package"><i class="fa fa-check"></i><b>5.3</b> Bringing in data from other Statistical Programs (SAS, Stata, SPSS) with the {haven} package</a></li>
<li class="chapter" data-level="5.4" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#other-strange-file-types-with-rio"><i class="fa fa-check"></i><b>5.4</b> Other strange file types with rio</a></li>
<li class="chapter" data-level="5.5" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#data-exploration-with-glimpse-str-and-headtail"><i class="fa fa-check"></i><b>5.5</b> Data exploration with glimpse, str, and head/tail</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#taking-a-glimpse-with-glimpse"><i class="fa fa-check"></i><b>5.5.1</b> Taking a glimpse with <em>glimpse()</em></a></li>
<li class="chapter" data-level="5.5.2" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#try-this-out-yourself."><i class="fa fa-check"></i><b>5.5.2</b> Try this out yourself.</a></li>
<li class="chapter" data-level="5.5.3" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#test-yourself-on-strep_tb"><i class="fa fa-check"></i><b>5.5.3</b> Test yourself on strep_tb</a></li>
<li class="chapter" data-level="5.5.4" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#examining-structure-with-str"><i class="fa fa-check"></i><b>5.5.4</b> Examining Structure with <em>str()</em></a></li>
<li class="chapter" data-level="5.5.5" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#test-yourself-on-the-scurvy-dataset"><i class="fa fa-check"></i><b>5.5.5</b> Test yourself on the scurvy dataset</a></li>
<li class="chapter" data-level="5.5.6" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#examining-a-bit-of-data-with-head-and-tail"><i class="fa fa-check"></i><b>5.5.6</b> Examining a bit of data with <em>head()</em> and <em>tail()</em></a></li>
<li class="chapter" data-level="5.5.7" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#test-yourself-on-the-printing-tibbles"><i class="fa fa-check"></i><b>5.5.7</b> Test yourself on the printing tibbles</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#more-exploration-with-skimr-and-dataexplorer"><i class="fa fa-check"></i><b>5.6</b> More exploration with skimr and DataExplorer</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#test-yourself-on-the-skim-results"><i class="fa fa-check"></i><b>5.6.1</b> Test yourself on the <code>skim()</code> results</a></li>
<li class="chapter" data-level="5.6.2" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#test-yourself-on-the-create_report-results"><i class="fa fa-check"></i><b>5.6.2</b> Test yourself on the <code>create_report()</code> results</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#practice-loading-data-from-multiple-file-types"><i class="fa fa-check"></i><b>5.7</b> Practice loading data from multiple file types</a></li>
<li class="chapter" data-level="5.8" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#practice-saving-writing-to-disk-data-objects-in-formats-including-csv-rds-xls-xlsx-and-statistical-program-formats"><i class="fa fa-check"></i><b>5.8</b> Practice saving (writing to disk) data objects in formats including csv, rds, xls, xlsx and statistical program formats</a></li>
<li class="chapter" data-level="5.9" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#how-do-readr-and-readxl-parse-columns"><i class="fa fa-check"></i><b>5.9</b> How do readr and readxl parse columns?</a></li>
<li class="chapter" data-level="5.10" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#what-are-the-variable-types"><i class="fa fa-check"></i><b>5.10</b> What are the variable types?</a></li>
<li class="chapter" data-level="5.11" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#controlling-parsing"><i class="fa fa-check"></i><b>5.11</b> Controlling Parsing</a></li>
<li class="chapter" data-level="5.12" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#chapter-challenges"><i class="fa fa-check"></i><b>5.12</b> Chapter Challenges</a></li>
<li class="chapter" data-level="5.13" data-path="importing-your-data-into-r.html"><a href="importing-your-data-into-r.html#future-forms-of-data-ingestion"><i class="fa fa-check"></i><b>5.13</b> Future forms of data ingestion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html"><i class="fa fa-check"></i><b>6</b> Wrangling Rows in R with Filter</a>
<ul>
<li class="chapter" data-level="6.1" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#goals-for-this-chapter-2"><i class="fa fa-check"></i><b>6.1</b> Goals for this Chapter</a></li>
<li class="chapter" data-level="6.2" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#packages-needed-for-this-chapter-1"><i class="fa fa-check"></i><b>6.2</b> Packages needed for this Chapter</a></li>
<li class="chapter" data-level="6.3" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#pathway-for-this-chapter-1"><i class="fa fa-check"></i><b>6.3</b> Pathway for this Chapter</a></li>
<li class="chapter" data-level="6.4" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#logical-statements-in-r"><i class="fa fa-check"></i><b>6.4</b> Logical Statements in R</a></li>
<li class="chapter" data-level="6.5" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#filtering-on-numbers---starting-with-a-flipbook"><i class="fa fa-check"></i><b>6.5</b> Filtering on Numbers - Starting with A Flipbook</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#your-turn---learnr-exercises"><i class="fa fa-check"></i><b>6.5.1</b> Your Turn - learnr exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#filtering-on-multiple-criteria-with-boolean-logic"><i class="fa fa-check"></i><b>6.6</b> Filtering on Multiple Criteria with Boolean Logic</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#your-turn---learnr-exercises-1"><i class="fa fa-check"></i><b>6.6.1</b> Your Turn - learnr exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#filtering-strings"><i class="fa fa-check"></i><b>6.7</b> Filtering Strings</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#your-turn---learnr-exercises-2"><i class="fa fa-check"></i><b>6.7.1</b> Your Turn - learnr exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#filtering-dates"><i class="fa fa-check"></i><b>6.8</b> Filtering Dates</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#your-turn---learnr-exercises-3"><i class="fa fa-check"></i><b>6.8.1</b> Your Turn - learnr exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#filtering-out-or-identifying-missing-data"><i class="fa fa-check"></i><b>6.9</b> Filtering Out or Identifying Missing Data</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#working-with-missing-data"><i class="fa fa-check"></i><b>6.9.1</b> Working with Missing data</a></li>
<li class="chapter" data-level="6.9.2" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#your-turn---learnr-exercises-4"><i class="fa fa-check"></i><b>6.9.2</b> Your Turn - learnr exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#filtering-out-duplicate-observations"><i class="fa fa-check"></i><b>6.10</b> Filtering Out Duplicate observations</a></li>
<li class="chapter" data-level="6.11" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#slicing-data-by-row"><i class="fa fa-check"></i><b>6.11</b> Slicing Data by Row</a></li>
<li class="chapter" data-level="6.12" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#randomly-sampling-your-rows"><i class="fa fa-check"></i><b>6.12</b> Randomly Sampling Your Rows</a>
<ul>
<li class="chapter" data-level="6.12.1" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#your-turn---learnr-exercises-5"><i class="fa fa-check"></i><b>6.12.1</b> Your Turn - learnr exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#further-challenges"><i class="fa fa-check"></i><b>6.13</b> Further Challenges</a></li>
<li class="chapter" data-level="6.14" data-path="wrangling-rows-in-r-with-filter.html"><a href="wrangling-rows-in-r-with-filter.html#explore-more-about-filtering"><i class="fa fa-check"></i><b>6.14</b> Explore More about Filtering</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html"><i class="fa fa-check"></i><b>7</b> The Basics of R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#why-programming"><i class="fa fa-check"></i><b>7.1</b> Why Programming?</a></li>
<li class="chapter" data-level="7.2" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#programming-fears"><i class="fa fa-check"></i><b>7.2</b> Programming Fears</a></li>
<li class="chapter" data-level="7.3" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#thinking-about-wofkflow"><i class="fa fa-check"></i><b>7.3</b> Thinking about Wofkflow</a></li>
<li class="chapter" data-level="7.4" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#files-in-r"><i class="fa fa-check"></i><b>7.4</b> Files in R</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#data-files"><i class="fa fa-check"></i><b>7.4.1</b> Data Files</a></li>
<li class="chapter" data-level="7.4.2" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#script-files"><i class="fa fa-check"></i><b>7.4.2</b> Script files</a></li>
<li class="chapter" data-level="7.4.3" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#other-files"><i class="fa fa-check"></i><b>7.4.3</b> Other files</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#paths-in-r"><i class="fa fa-check"></i><b>7.5</b> Paths in R</a></li>
<li class="chapter" data-level="7.6" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#creating-variables-in-r"><i class="fa fa-check"></i><b>7.6</b> Creating variables in R</a></li>
<li class="chapter" data-level="7.7" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#the-pipe-operator"><i class="fa fa-check"></i><b>7.7</b> The Pipe Operator</a></li>
<li class="chapter" data-level="7.8" data-path="the-basics-of-r.html"><a href="the-basics-of-r.html#r-dialects"><i class="fa fa-check"></i><b>7.8</b> R Dialects</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html"><i class="fa fa-check"></i><b>8</b> Wrangling Columns in R with Select, Rename, and Relocate</a>
<ul>
<li class="chapter" data-level="8.1" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#goals-for-this-chapter-3"><i class="fa fa-check"></i><b>8.1</b> Goals for this Chapter</a></li>
<li class="chapter" data-level="8.2" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#packages-needed-for-this-chapter-2"><i class="fa fa-check"></i><b>8.2</b> Packages needed for this Chapter</a></li>
<li class="chapter" data-level="8.3" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#pathway-for-this-chapter-2"><i class="fa fa-check"></i><b>8.3</b> Pathway for this Chapter</a></li>
<li class="chapter" data-level="8.4" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#tidyselect-helpers-in-r"><i class="fa fa-check"></i><b>8.4</b> Tidyselect Helpers in R</a></li>
<li class="chapter" data-level="8.5" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#selecting-a-column-variables"><i class="fa fa-check"></i><b>8.5</b> Selecting a Column Variables</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#try-this-out"><i class="fa fa-check"></i><b>8.5.1</b> Try this out</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#selecting-columns-that-are-not-contiguous"><i class="fa fa-check"></i><b>8.6</b> Selecting Columns that are Not Contiguous</a></li>
<li class="chapter" data-level="8.7" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#selecting-columns-with-logical-operators"><i class="fa fa-check"></i><b>8.7</b> Selecting Columns With Logical Operators</a></li>
<li class="chapter" data-level="8.8" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#further-challenges-1"><i class="fa fa-check"></i><b>8.8</b> Further Challenges</a></li>
<li class="chapter" data-level="8.9" data-path="wrangling-columns-in-r-with-select-rename-and-relocate.html"><a href="wrangling-columns-in-r-with-select-rename-and-relocate.html#explore-more-about-filtering-1"><i class="fa fa-check"></i><b>8.9</b> Explore More about Filtering</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="using-mutate-to-make-new-variables-columns.html"><a href="using-mutate-to-make-new-variables-columns.html"><i class="fa fa-check"></i><b>9</b> Using Mutate to Make New Variables (Columns)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="using-mutate-to-make-new-variables-columns.html"><a href="using-mutate-to-make-new-variables-columns.html#calculating-bmi"><i class="fa fa-check"></i><b>9.1</b> Calculating BMI</a></li>
<li class="chapter" data-level="9.2" data-path="using-mutate-to-make-new-variables-columns.html"><a href="using-mutate-to-make-new-variables-columns.html#recoding-categorical-or-ordinal-data"><i class="fa fa-check"></i><b>9.2</b> Recoding categorical or ordinal data</a></li>
<li class="chapter" data-level="9.3" data-path="using-mutate-to-make-new-variables-columns.html"><a href="using-mutate-to-make-new-variables-columns.html#calculating-glomerular-filtration-rate"><i class="fa fa-check"></i><b>9.3</b> Calculating Glomerular Filtration Rate</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html"><i class="fa fa-check"></i><b>10</b> Mutating Joins to Combine Data Sources</a>
<ul>
<li class="chapter" data-level="10.1" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#what-are-joins"><i class="fa fa-check"></i><b>10.1</b> What are Joins?</a></li>
<li class="chapter" data-level="10.2" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#what-are-mutating-joins"><i class="fa fa-check"></i><b>10.2</b> What are Mutating Joins?</a></li>
<li class="chapter" data-level="10.3" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#lets-start-with-left-joins"><i class="fa fa-check"></i><b>10.3</b> Let’s Start with Left Joins</a></li>
<li class="chapter" data-level="10.4" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#left-join-in-action"><i class="fa fa-check"></i><b>10.4</b> Left Join in Action</a></li>
<li class="chapter" data-level="10.5" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#left-join-in-practice"><i class="fa fa-check"></i><b>10.5</b> Left Join in Practice</a></li>
<li class="chapter" data-level="10.6" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#quick-quiz"><i class="fa fa-check"></i><b>10.6</b> Quick Quiz</a></li>
<li class="chapter" data-level="10.7" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#problem-variable-names"><i class="fa fa-check"></i><b>10.7</b> Problem variable names</a></li>
<li class="chapter" data-level="10.8" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#right-join-in-action"><i class="fa fa-check"></i><b>10.8</b> Right Join in Action</a></li>
<li class="chapter" data-level="10.9" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#right-join-in-practice"><i class="fa fa-check"></i><b>10.9</b> Right Join in Practice</a></li>
<li class="chapter" data-level="10.10" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#inner-joins"><i class="fa fa-check"></i><b>10.10</b> Inner Joins</a></li>
<li class="chapter" data-level="10.11" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#quick-quiz-1"><i class="fa fa-check"></i><b>10.11</b> Quick Quiz</a></li>
<li class="chapter" data-level="10.12" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#now-lets-take-a-look-at-the-result"><i class="fa fa-check"></i><b>10.12</b> Now Let’s take a Look at the result</a></li>
<li class="chapter" data-level="10.13" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#full-joins"><i class="fa fa-check"></i><b>10.13</b> Full Joins</a></li>
<li class="chapter" data-level="10.14" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#quick-quiz-2"><i class="fa fa-check"></i><b>10.14</b> Quick Quiz</a></li>
<li class="chapter" data-level="10.15" data-path="mutating-joins-to-combine-data-sources.html"><a href="mutating-joins-to-combine-data-sources.html#now-lets-take-a-look-at-the-result-1"><i class="fa fa-check"></i><b>10.15</b> Now Let’s take a Look at the result</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html"><i class="fa fa-check"></i><b>11</b> Interpreting Error Messages</a>
<ul>
<li class="chapter" data-level="11.1" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#the-common-errors-table"><i class="fa fa-check"></i><b>11.1</b> The Common Errors Table</a></li>
<li class="chapter" data-level="11.2" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#examples-of-common-errors-and-how-to-fix-them"><i class="fa fa-check"></i><b>11.2</b> Examples of Common Errors and How to fix them</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#missing-parenthesis"><i class="fa fa-check"></i><b>11.2.1</b> Missing Parenthesis</a></li>
<li class="chapter" data-level="11.2.2" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#an-extra-parenthesis"><i class="fa fa-check"></i><b>11.2.2</b> An Extra Parenthesis</a></li>
<li class="chapter" data-level="11.2.3" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#missing-pipe-in-a-data-wrangling-pipeline"><i class="fa fa-check"></i><b>11.2.3</b> Missing pipe <code>%&gt;%</code> in a data wrangling pipeline</a></li>
<li class="chapter" data-level="11.2.4" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#missing-in-a-ggplot-pipeline"><i class="fa fa-check"></i><b>11.2.4</b> Missing + in a ggplot pipeline</a></li>
<li class="chapter" data-level="11.2.5" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#pipe-in-place-of-a"><i class="fa fa-check"></i><b>11.2.5</b> Pipe <code>%&gt;%</code> in Place of a <code>+</code></a></li>
<li class="chapter" data-level="11.2.6" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#missing-comma-within-a-function"><i class="fa fa-check"></i><b>11.2.6</b> Missing Comma Within a Function()</a></li>
<li class="chapter" data-level="11.2.7" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#a-missing-object"><i class="fa fa-check"></i><b>11.2.7</b> A Missing Object</a></li>
<li class="chapter" data-level="11.2.8" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#one-equals-sign-when-you-need-two"><i class="fa fa-check"></i><b>11.2.8</b> One Equals Sign When you Need Two</a></li>
<li class="chapter" data-level="11.2.9" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#non-numeric-argument-to-a-binary-operator"><i class="fa fa-check"></i><b>11.2.9</b> Non-numeric argument to a binary operator</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#errors-beyond-this-list"><i class="fa fa-check"></i><b>11.3</b> Errors Beyond This List</a></li>
<li class="chapter" data-level="11.4" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#when-things-get-weird"><i class="fa fa-check"></i><b>11.4</b> When Things Get Weird</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#restart-your-r-session-shift-cmd-f10"><i class="fa fa-check"></i><b>11.4.1</b> Restart your R Session (Shift-Cmd-F10)</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="interpreting-error-messages.html"><a href="interpreting-error-messages.html#references"><i class="fa fa-check"></i><b>11.5</b> References:</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html"><a href="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html"><i class="fa fa-check"></i><b>12</b> The Building Blocks of R: data types, data structures, functions, and packages</a>
<ul>
<li class="chapter" data-level="12.1" data-path="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html"><a href="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html#data-types"><i class="fa fa-check"></i><b>12.1</b> Data Types</a></li>
<li class="chapter" data-level="12.2" data-path="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html"><a href="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html#data-structures"><i class="fa fa-check"></i><b>12.2</b> Data Structures</a></li>
<li class="chapter" data-level="12.3" data-path="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html"><a href="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html#examining-data-types-and-data-structures"><i class="fa fa-check"></i><b>12.3</b> Examining Data Types and Data Structures</a></li>
<li class="chapter" data-level="12.4" data-path="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html"><a href="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html#functions"><i class="fa fa-check"></i><b>12.4</b> Functions</a></li>
<li class="chapter" data-level="12.5" data-path="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html"><a href="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html#packages"><i class="fa fa-check"></i><b>12.5</b> Packages</a></li>
<li class="chapter" data-level="12.6" data-path="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html"><a href="the-building-blocks-of-r-data-types-data-structures-functions-and-packages.html#the-building-blocks-of-r"><i class="fa fa-check"></i><b>12.6</b> The Building Blocks of R</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html"><i class="fa fa-check"></i><b>13</b> Building Your Table One with the {gtsummary} Package</a>
<ul>
<li class="chapter" data-level="13.1" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#using-tbl_summary-from-the-gtsummary-package"><i class="fa fa-check"></i><b>13.1</b> Using tbl_summary() from the gtsummary package</a></li>
<li class="chapter" data-level="13.2" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#making-a-basic-table"><i class="fa fa-check"></i><b>13.2</b> Making a Basic table</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#challenges"><i class="fa fa-check"></i><b>13.2.1</b> Challenges:</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#multiple-dimensions"><i class="fa fa-check"></i><b>13.3</b> Multiple Dimensions</a></li>
<li class="chapter" data-level="13.4" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#new-challenges"><i class="fa fa-check"></i><b>13.4</b> New Challenges</a></li>
<li class="chapter" data-level="13.5" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#even-more-help"><i class="fa fa-check"></i><b>13.5</b> Even More Help</a></li>
<li class="chapter" data-level="13.6" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#figuring-out-column-names"><i class="fa fa-check"></i><b>13.6</b> Figuring out Column names</a></li>
<li class="chapter" data-level="13.7" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#even-more-challenges"><i class="fa fa-check"></i><b>13.7</b> Even More Challenges</a></li>
<li class="chapter" data-level="13.8" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#adding-some-formatting"><i class="fa fa-check"></i><b>13.8</b> Adding Some Formatting</a>
<ul>
<li class="chapter" data-level="13.8.1" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#formatting-with-gt"><i class="fa fa-check"></i><b>13.8.1</b> Formatting with {gt}</a></li>
</ul></li>
<li class="chapter" data-level="13.9" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#a-fancier-version-for-gt"><i class="fa fa-check"></i><b>13.9</b> A Fancier Version for gt</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#the-flextable-package"><i class="fa fa-check"></i><b>13.9.1</b> The {flextable} package</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="building-your-table-one-with-the-gtsummary-package.html"><a href="building-your-table-one-with-the-gtsummary-package.html#a-fancier-version-for-flextable"><i class="fa fa-check"></i><b>13.10</b> A Fancier Version for Flextable</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><i class="fa fa-check"></i><b>14</b> Tips for Hashtag Debugging your Pipes and GGPlots</a>
<ul>
<li class="chapter" data-level="14.1" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#debugging"><i class="fa fa-check"></i><b>14.1</b> Debugging</a></li>
<li class="chapter" data-level="14.2" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#the-quick-screen"><i class="fa fa-check"></i><b>14.2</b> The Quick Screen</a></li>
<li class="chapter" data-level="14.3" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#systematic-hunting-for-bugs-in-pipes"><i class="fa fa-check"></i><b>14.3</b> Systematic Hunting For Bugs in Pipes</a></li>
<li class="chapter" data-level="14.4" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#systematic-hunting-for-bugs-in-plots"><i class="fa fa-check"></i><b>14.4</b> Systematic Hunting For Bugs in Plots</a></li>
<li class="chapter" data-level="14.5" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#hashtag-debugging"><i class="fa fa-check"></i><b>14.5</b> Hashtag Debugging</a></li>
<li class="chapter" data-level="14.6" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#pipe-2"><i class="fa fa-check"></i><b>14.6</b> Pipe 2</a></li>
<li class="chapter" data-level="14.7" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#plot-2"><i class="fa fa-check"></i><b>14.7</b> Plot 2</a></li>
<li class="chapter" data-level="14.8" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#plot3"><i class="fa fa-check"></i><b>14.8</b> Plot3</a></li>
<li class="chapter" data-level="14.9" data-path="tips-for-hashtag-debugging-your-pipes-and-ggplots.html"><a href="tips-for-hashtag-debugging-your-pipes-and-ggplots.html#pipe-3"><i class="fa fa-check"></i><b>14.9</b> Pipe 3</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html"><i class="fa fa-check"></i><b>15</b> Finding Help in R</a>
<ul>
<li class="chapter" data-level="15.1" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html#programming-in-r"><i class="fa fa-check"></i><b>15.1</b> Programming in R</a></li>
<li class="chapter" data-level="15.2" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html#starting-with-help"><i class="fa fa-check"></i><b>15.2</b> Starting with Help!</a></li>
<li class="chapter" data-level="15.3" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html#the-magic-of-vignettes"><i class="fa fa-check"></i><b>15.3</b> The Magic of Vignettes</a></li>
<li class="chapter" data-level="15.4" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html#googling-the-error-message"><i class="fa fa-check"></i><b>15.4</b> Googling the Error Message</a></li>
<li class="chapter" data-level="15.5" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html#you-know-what-you-want-to-do-but-dont-know-what-package-or-function-to-use"><i class="fa fa-check"></i><b>15.5</b> You Know What You Want to Do, but Don’t Know What Package or Function to Use</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html#cran-task-views"><i class="fa fa-check"></i><b>15.5.1</b> CRAN Task Views</a></li>
<li class="chapter" data-level="15.5.2" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html#google-is-your-friend"><i class="fa fa-check"></i><b>15.5.2</b> Google is Your Friend</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="finding-help-in-r.html"><a href="finding-help-in-r.html#seeking-advanced-help-with-a-minimal-reprex"><i class="fa fa-check"></i><b>15.6</b> Seeking Advanced Help with a Minimal REPREX</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html"><i class="fa fa-check"></i><b>16</b> The Basics of Base R</a>
<ul>
<li class="chapter" data-level="16.1" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#dimensions-of-data-rectangles"><i class="fa fa-check"></i><b>16.1</b> Dimensions of Data Rectangles</a></li>
<li class="chapter" data-level="16.2" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#naming-columns"><i class="fa fa-check"></i><b>16.2</b> Naming columns</a></li>
<li class="chapter" data-level="16.3" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#concatenation"><i class="fa fa-check"></i><b>16.3</b> Concatenation</a></li>
<li class="chapter" data-level="16.4" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#sequences"><i class="fa fa-check"></i><b>16.4</b> Sequences</a></li>
<li class="chapter" data-level="16.5" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#constants"><i class="fa fa-check"></i><b>16.5</b> Constants</a></li>
<li class="chapter" data-level="16.6" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#fancier-sequences"><i class="fa fa-check"></i><b>16.6</b> Fancier Sequences</a></li>
<li class="chapter" data-level="16.7" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#mathematical-functions"><i class="fa fa-check"></i><b>16.7</b> Mathematical functions</a></li>
<li class="chapter" data-level="16.8" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#handling-missing-data-nas"><i class="fa fa-check"></i><b>16.8</b> Handling missing data (NAs)</a></li>
<li class="chapter" data-level="16.9" data-path="the-basics-of-base-r.html"><a href="the-basics-of-base-r.html#cutting-continuous-data-into-levels"><i class="fa fa-check"></i><b>16.9</b> Cutting Continuous data into Levels</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="updating-r-rstudio-and-your-packages.html"><a href="updating-r-rstudio-and-your-packages.html"><i class="fa fa-check"></i><b>17</b> Updating R, RStudio, and Your Packages</a>
<ul>
<li class="chapter" data-level="17.1" data-path="updating-r-rstudio-and-your-packages.html"><a href="updating-r-rstudio-and-your-packages.html#installing-packages-1"><i class="fa fa-check"></i><b>17.1</b> Installing Packages</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="updating-r-rstudio-and-your-packages.html"><a href="updating-r-rstudio-and-your-packages.html#installing-packages-from-github"><i class="fa fa-check"></i><b>17.1.1</b> Installing Packages from Github</a></li>
<li class="chapter" data-level="17.1.2" data-path="updating-r-rstudio-and-your-packages.html"><a href="updating-r-rstudio-and-your-packages.html#problems-with-installing-packages"><i class="fa fa-check"></i><b>17.1.2</b> Problems with Installing Packages</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="updating-r-rstudio-and-your-packages.html"><a href="updating-r-rstudio-and-your-packages.html#loading-packages-with-library-1"><i class="fa fa-check"></i><b>17.2</b> Loading Packages with Library</a></li>
<li class="chapter" data-level="17.3" data-path="updating-r-rstudio-and-your-packages.html"><a href="updating-r-rstudio-and-your-packages.html#updating-r"><i class="fa fa-check"></i><b>17.3</b> Updating R</a></li>
<li class="chapter" data-level="17.4" data-path="updating-r-rstudio-and-your-packages.html"><a href="updating-r-rstudio-and-your-packages.html#updating-rstudio"><i class="fa fa-check"></i><b>17.4</b> Updating RStudio</a></li>
<li class="chapter" data-level="17.5" data-path="updating-r-rstudio-and-your-packages.html"><a href="updating-r-rstudio-and-your-packages.html#updating-your-packages"><i class="fa fa-check"></i><b>17.5</b> Updating Your Packages</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html"><i class="fa fa-check"></i><b>18</b> Major R Updates (Where Are My Packages?)</a>
<ul>
<li class="chapter" data-level="18.1" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#when-to-upgrade-r"><i class="fa fa-check"></i><b>18.1</b> When to Upgrade R</a></li>
<li class="chapter" data-level="18.2" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#preparing-for-a-minor-or-major-r-upgrade"><i class="fa fa-check"></i><b>18.2</b> Preparing for a Minor or Major R Upgrade</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#before-you-upgrade-r"><i class="fa fa-check"></i><b>18.2.1</b> Before you upgrade R</a></li>
<li class="chapter" data-level="18.2.2" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#step-1-clean-up-old-unused-packages"><i class="fa fa-check"></i><b>18.2.2</b> STEP 1: Clean up old, unused packages</a></li>
<li class="chapter" data-level="18.2.3" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#step-2-build-a-dataframe-of-your-currently-installed-packages."><i class="fa fa-check"></i><b>18.2.3</b> STEP 2: Build a dataframe of your currently installed packages.</a></li>
<li class="chapter" data-level="18.2.4" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#step-3-removing-unwanted-packages-from-the-dataframe"><i class="fa fa-check"></i><b>18.2.4</b> STEP 3: Removing unwanted Packages from the dataframe</a></li>
<li class="chapter" data-level="18.2.5" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#step-4-upgrading-r-to-the-new-version"><i class="fa fa-check"></i><b>18.2.5</b> STEP 4: Upgrading R to the new Version</a></li>
<li class="chapter" data-level="18.2.6" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#step-5-upgrading-the-rstudio-version"><i class="fa fa-check"></i><b>18.2.6</b> STEP 5: Upgrading the RStudio Version</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#step-6-rebuilding-all-of-your-packages-in-one-automated-step"><i class="fa fa-check"></i><b>18.3</b> STEP 6: Rebuilding All of your Packages in One (Automated) Step</a></li>
<li class="chapter" data-level="18.4" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#checking-the-new-library-path"><i class="fa fa-check"></i><b>18.4</b> Checking the new library path</a></li>
<li class="chapter" data-level="18.5" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#now-check-your-list-of-packages"><i class="fa fa-check"></i><b>18.5</b> Now Check your list of Packages</a></li>
<li class="chapter" data-level="18.6" data-path="major-r-updates-where-are-my-packages.html"><a href="major-r-updates-where-are-my-packages.html#updating-packages"><i class="fa fa-check"></i><b>18.6</b> Updating Packages</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="intermediate-steps-toward-reproducibility.html"><a href="intermediate-steps-toward-reproducibility.html"><i class="fa fa-check"></i><b>19</b> Intermediate Steps Toward Reproducibility</a>
<ul>
<li class="chapter" data-level="19.1" data-path="intermediate-steps-toward-reproducibility.html"><a href="intermediate-steps-toward-reproducibility.html#level-3-reproducibility"><i class="fa fa-check"></i><b>19.1</b> Level 3 Reproducibility</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="intermediate-steps-toward-reproducibility.html"><a href="intermediate-steps-toward-reproducibility.html#creating-a-new-project-in-rstudio"><i class="fa fa-check"></i><b>19.1.1</b> Creating a New Project in RStudio</a></li>
<li class="chapter" data-level="19.1.2" data-path="intermediate-steps-toward-reproducibility.html"><a href="intermediate-steps-toward-reproducibility.html#file-paths-and-the-here-package"><i class="fa fa-check"></i><b>19.1.2</b> File paths and the {here} package</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="intermediate-steps-toward-reproducibility.html"><a href="intermediate-steps-toward-reproducibility.html#code-review-with-a-coding-partner"><i class="fa fa-check"></i><b>19.2</b> Code Review with a Coding Partner</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="intermediate-steps-toward-reproducibility.html"><a href="intermediate-steps-toward-reproducibility.html#checklist-for-code-review"><i class="fa fa-check"></i><b>19.2.1</b> Checklist for Code Review</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="intermediate-steps-toward-reproducibility.html"><a href="intermediate-steps-toward-reproducibility.html#sharing-code-on-github"><i class="fa fa-check"></i><b>19.3</b> Sharing code on GitHub</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html"><i class="fa fa-check"></i><b>20</b> Building Table One for a Clinical Study</a>
<ul>
<li class="chapter" data-level="20.1" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#packages-needed-for-this-chapter-3"><i class="fa fa-check"></i><b>20.1</b> Packages Needed for this Chapter:</a></li>
<li class="chapter" data-level="20.2" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#pathway-for-this-chapter-3"><i class="fa fa-check"></i><b>20.2</b> Pathway for this Chapter</a></li>
<li class="chapter" data-level="20.3" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#baseline-characteristics"><i class="fa fa-check"></i><b>20.3</b> Baseline Characteristics</a></li>
<li class="chapter" data-level="20.4" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#building-your-table-1"><i class="fa fa-check"></i><b>20.4</b> Building Your Table 1</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#updating-variable-labels"><i class="fa fa-check"></i><b>20.4.1</b> Updating Variable Labels</a></li>
<li class="chapter" data-level="20.4.2" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#updating-variable-values"><i class="fa fa-check"></i><b>20.4.2</b> Updating Variable Values</a></li>
<li class="chapter" data-level="20.4.3" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#table-1-separated-by-treatment-arm"><i class="fa fa-check"></i><b>20.4.3</b> Table 1 separated by Treatment Arm</a></li>
<li class="chapter" data-level="20.4.4" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#styling-our-table-1"><i class="fa fa-check"></i><b>20.4.4</b> Styling our Table 1</a></li>
<li class="chapter" data-level="20.4.5" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#adding-a-column-spanner"><i class="fa fa-check"></i><b>20.4.5</b> Adding A Column Spanner</a></li>
<li class="chapter" data-level="20.4.6" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#further-styling-our-table-1"><i class="fa fa-check"></i><b>20.4.6</b> Further Styling our Table 1</a></li>
<li class="chapter" data-level="20.4.7" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#your-turn"><i class="fa fa-check"></i><b>20.4.7</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#try-this-with-a-new-dataset"><i class="fa fa-check"></i><b>20.5</b> Try this with a new dataset</a></li>
<li class="chapter" data-level="20.6" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#making-modifications-to-the-trial-table"><i class="fa fa-check"></i><b>20.6</b> Making Modifications to the trial table</a></li>
<li class="chapter" data-level="20.7" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#more-modifications-to-the-trial-table"><i class="fa fa-check"></i><b>20.7</b> More Modifications to the trial table</a></li>
<li class="chapter" data-level="20.8" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#taking-control-of-the-stats"><i class="fa fa-check"></i><b>20.8</b> Taking Control of the Stats</a>
<ul>
<li class="chapter" data-level="20.8.1" data-path="building-table-one-for-a-clinical-study.html"><a href="building-table-one-for-a-clinical-study.html#your-turn-1"><i class="fa fa-check"></i><b>20.8.1</b> Your Turn</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="comparing-two-measures-of-centrality.html"><a href="comparing-two-measures-of-centrality.html"><i class="fa fa-check"></i><b>21</b> Comparing Two Measures of Centrality</a>
<ul>
<li class="chapter" data-level="21.0.1" data-path="comparing-two-measures-of-centrality.html"><a href="comparing-two-measures-of-centrality.html#applying-the-t-test"><i class="fa fa-check"></i><b>21.0.1</b> Applying the t test</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html"><i class="fa fa-check"></i><b>22</b> Simple example of a t-test</a>
<ul>
<li class="chapter" data-level="22.1" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#common-problem"><i class="fa fa-check"></i><b>22.1</b> Common Problem</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#how-skewed-is-too-skewed"><i class="fa fa-check"></i><b>22.1.1</b> How Skewed is Too Skewed?</a></li>
<li class="chapter" data-level="22.1.2" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#visualize-the-distribution-of-data-variables-in-ggplot"><i class="fa fa-check"></i><b>22.1.2</b> Visualize the Distribution of data variables in ggplot</a></li>
<li class="chapter" data-level="22.1.3" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#visualize-the-distribution-of-datalen-in-ggplot"><i class="fa fa-check"></i><b>22.1.3</b> Visualize the Distribution of data$len in ggplot</a></li>
<li class="chapter" data-level="22.1.4" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#results-of-shapiro-wilk"><i class="fa fa-check"></i><b>22.1.4</b> Results of Shapiro-Wilk</a></li>
<li class="chapter" data-level="22.1.5" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#try-it-yourself-1"><i class="fa fa-check"></i><b>22.1.5</b> Try it yourself</a></li>
<li class="chapter" data-level="22.1.6" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#mammal-sleep-hours"><i class="fa fa-check"></i><b>22.1.6</b> Mammal sleep hours</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#one-sample-t-test"><i class="fa fa-check"></i><b>22.2</b> One Sample T test</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#how-to-do-one-sample-t-test"><i class="fa fa-check"></i><b>22.2.1</b> How to do One Sample T test</a></li>
<li class="chapter" data-level="22.2.2" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#interpreting-the-one-sample-t-test"><i class="fa fa-check"></i><b>22.2.2</b> Interpreting the One Sample T test</a></li>
<li class="chapter" data-level="22.2.3" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#what-are-the-arguments-of-the-t.test-function"><i class="fa fa-check"></i><b>22.2.3</b> What are the arguments of the t.test function?</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#insert-flipbook-for-ttest-here"><i class="fa fa-check"></i><b>22.3</b> Insert flipbook for ttest here</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#flipbook-time"><i class="fa fa-check"></i><b>22.3.1</b> Flipbook Time!</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#fine-but-what-about-2-groups"><i class="fa fa-check"></i><b>22.4</b> Fine, but what about 2 groups?</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#setting-up-2-group-t-test"><i class="fa fa-check"></i><b>22.4.1</b> Setting up 2 group t test</a></li>
<li class="chapter" data-level="22.4.2" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#results-of-the-2-group-t-test"><i class="fa fa-check"></i><b>22.4.2</b> Results of the 2 group t test</a></li>
<li class="chapter" data-level="22.4.3" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#interpreting-the-2-group-t-test"><i class="fa fa-check"></i><b>22.4.3</b> Interpreting the 2 group t test</a></li>
<li class="chapter" data-level="22.4.4" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#group-t-test-with-wide-data"><i class="fa fa-check"></i><b>22.4.4</b> 2 group t test with wide data</a></li>
<li class="chapter" data-level="22.4.5" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#results-of-2-group-t-test-with-wide-data"><i class="fa fa-check"></i><b>22.4.5</b> Results of 2 group t test with wide data</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#assumptions-of-students-t-test"><i class="fa fa-check"></i><b>22.5</b> 3 Assumptions of Student’s t test</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#testing-assumptions-of-students-t-test"><i class="fa fa-check"></i><b>22.5.1</b> Testing Assumptions of Student’s t test</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#getting-results-out-of-t.test"><i class="fa fa-check"></i><b>22.6</b> Getting results out of t.test</a>
<ul>
<li class="chapter" data-level="22.6.1" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#getting-results-out-of-t.test-1"><i class="fa fa-check"></i><b>22.6.1</b> Getting results out of t.test</a></li>
</ul></li>
<li class="chapter" data-level="22.7" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#reporting-the-results-from-t.test-using-inline-code"><i class="fa fa-check"></i><b>22.7</b> Reporting the results from t.test using inline code</a>
<ul>
<li class="chapter" data-level="22.7.1" data-path="simple-example-of-a-t-test.html"><a href="simple-example-of-a-t-test.html#for-next-time"><i class="fa fa-check"></i><b>22.7.1</b> For Next Time</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html"><i class="fa fa-check"></i><b>23</b> Sample Size Calculations with <code>{pwr}</code></a>
<ul>
<li class="chapter" data-level="23.1" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#sample-size-for-a-continuous-endpoint-t-test"><i class="fa fa-check"></i><b>23.1</b> Sample Size for a Continuous Endpoint (t-test)</a></li>
<li class="chapter" data-level="23.2" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#one-sample-t-test-for-lowering-creatinine"><i class="fa fa-check"></i><b>23.2</b> One Sample t-test for Lowering Creatinine</a></li>
<li class="chapter" data-level="23.3" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#paired-t-tests-before-vs-after-or-truly-paired"><i class="fa fa-check"></i><b>23.3</b> Paired t-tests (before vs after, or truly paired)</a></li>
<li class="chapter" data-level="23.4" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#sample-t-tests-with-unequal-study-arm-sizes"><i class="fa fa-check"></i><b>23.4</b> 2 Sample t tests with Unequal Study Arm Sizes</a></li>
<li class="chapter" data-level="23.5" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#testing-multiple-options-and-plotting-results"><i class="fa fa-check"></i><b>23.5</b> Testing Multiple Options and Plotting Results</a></li>
<li class="chapter" data-level="23.6" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#your-turn-2"><i class="fa fa-check"></i><b>23.6</b> Your Turn</a></li>
<li class="chapter" data-level="23.6.1" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#scenario-1-fev1-in-copd"><i class="fa fa-check"></i><b>23.6.1</b> Scenario 1: FEV1 in COPD</a></li>
<li class="chapter" data-level="23.6.2" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#scenario-2-bnp-in-chf"><i class="fa fa-check"></i><b>23.6.2</b> Scenario 2: BNP in CHF</a></li>
<li class="chapter" data-level="23.6.3" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#scenario-3-barthel-index-in-stroke"><i class="fa fa-check"></i><b>23.6.3</b> Scenario 3: Barthel Index in Stroke</a></li>
<li class="chapter" data-level="23.7" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#sample-sizes-for-proportions"><i class="fa fa-check"></i><b>23.7</b> Sample Sizes for Proportions</a></li>
<li class="chapter" data-level="23.8" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#sample-size-for-two-proportions-equal-n"><i class="fa fa-check"></i><b>23.8</b> Sample size for two proportions, equal n</a></li>
<li class="chapter" data-level="23.9" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#sample-size-for-two-proportions-unequal-arms"><i class="fa fa-check"></i><b>23.9</b> Sample size for two proportions, unequal arms</a></li>
<li class="chapter" data-level="23.10" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#your-turn-3"><i class="fa fa-check"></i><b>23.10</b> Your Turn</a></li>
<li class="chapter" data-level="23.10.1" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#scenario-1-mortality-on-renal-dialysis"><i class="fa fa-check"></i><b>23.10.1</b> Scenario 1: Mortality on Renal Dialysis</a></li>
<li class="chapter" data-level="23.10.2" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#scenario-2-intestinal-anastomosis-in-crohns-disease"><i class="fa fa-check"></i><b>23.10.2</b> Scenario 2: Intestinal anastomosis in Crohn’s disease</a></li>
<li class="chapter" data-level="23.10.3" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#scenario-3-metformin-in-donuts"><i class="fa fa-check"></i><b>23.10.3</b> Scenario 3: Metformin in Donuts</a></li>
<li class="chapter" data-level="23.11" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#add-chi-square"><i class="fa fa-check"></i><b>23.11</b> add chi square</a></li>
<li class="chapter" data-level="23.12" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#add-correlation-test"><i class="fa fa-check"></i><b>23.12</b> add correlation test</a></li>
<li class="chapter" data-level="23.13" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#add-anova"><i class="fa fa-check"></i><b>23.13</b> add anova</a></li>
<li class="chapter" data-level="23.14" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#add-linear-model"><i class="fa fa-check"></i><b>23.14</b> add linear model</a></li>
<li class="chapter" data-level="23.15" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#add-note-on-guessing-effect-sizes---cohen-small-medium-large"><i class="fa fa-check"></i><b>23.15</b> add note on guessing effect sizes - cohen small, medium, large</a></li>
<li class="chapter" data-level="23.16" data-path="sample-size-calculations-with-pwr.html"><a href="sample-size-calculations-with-pwr.html#explore-more"><i class="fa fa-check"></i><b>23.16</b> Explore More</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="randomization-for-clinical-trials-with-r.html"><a href="randomization-for-clinical-trials-with-r.html"><i class="fa fa-check"></i><b>24</b> Randomization for Clinical Trials with R</a>
<ul>
<li class="chapter" data-level="24.1" data-path="randomization-for-clinical-trials-with-r.html"><a href="randomization-for-clinical-trials-with-r.html#printing-these-on-cards"><i class="fa fa-check"></i><b>24.1</b> Printing these on Cards</a></li>
<li class="chapter" data-level="24.2" data-path="randomization-for-clinical-trials-with-r.html"><a href="randomization-for-clinical-trials-with-r.html#now-try-this-yourself"><i class="fa fa-check"></i><b>24.2</b> Now, try this yourself</a></li>
<li class="chapter" data-level="24.3" data-path="randomization-for-clinical-trials-with-r.html"><a href="randomization-for-clinical-trials-with-r.html#now-freestyle"><i class="fa fa-check"></i><b>24.3</b> Now Freestyle</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html"><i class="fa fa-check"></i><b>25</b> Univariate ggplots to Visualize Distributions</a>
<ul>
<li class="chapter" data-level="25.1" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#histograms"><i class="fa fa-check"></i><b>25.1</b> Histograms</a>
<ul>
<li class="chapter" data-level="25.1.1" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#comparisons-of-distributions-with-histograms"><i class="fa fa-check"></i><b>25.1.1</b> Comparisons of Distributions with Histograms</a></li>
<li class="chapter" data-level="25.1.2" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#histograms-and-categories"><i class="fa fa-check"></i><b>25.1.2</b> Histograms and Categories</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#density-plots"><i class="fa fa-check"></i><b>25.2</b> Density Plots</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#comparisons-with-density-plots"><i class="fa fa-check"></i><b>25.2.1</b> Comparisons with Density plots</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#comparing-distributions-across-categories"><i class="fa fa-check"></i><b>25.3</b> Comparing Distributions Across Categories</a></li>
<li class="chapter" data-level="25.4" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#boxplots"><i class="fa fa-check"></i><b>25.4</b> Boxplots</a></li>
<li class="chapter" data-level="25.5" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#violin-plots"><i class="fa fa-check"></i><b>25.5</b> Violin Plots</a></li>
<li class="chapter" data-level="25.6" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#ridgeline-plots"><i class="fa fa-check"></i><b>25.6</b> Ridgeline Plots</a>
<ul>
<li class="chapter" data-level="25.6.1" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#including-plots"><i class="fa fa-check"></i><b>25.6.1</b> Including Plots</a></li>
<li class="chapter" data-level="25.6.2" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#including-points"><i class="fa fa-check"></i><b>25.6.2</b> Including Points</a></li>
<li class="chapter" data-level="25.6.3" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#including-points-1"><i class="fa fa-check"></i><b>25.6.3</b> Including Points</a></li>
<li class="chapter" data-level="25.6.4" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#including-points-2"><i class="fa fa-check"></i><b>25.6.4</b> Including Points</a></li>
<li class="chapter" data-level="25.6.5" data-path="univariate-ggplots-to-visualize-distributions.html"><a href="univariate-ggplots-to-visualize-distributions.html#including-points-3"><i class="fa fa-check"></i><b>25.6.5</b> Including Points</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><i class="fa fa-check"></i><b>26</b> Bivariate ggplot2 Scatterplots to Visualize Relationships Between Variables</a>
<ul>
<li class="chapter" data-level="26.1" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#packages-used-in-this-chapter"><i class="fa fa-check"></i><b>26.1</b> Packages used in this Chapter</a></li>
<li class="chapter" data-level="26.2" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#data-exploration-and-validation-dev"><i class="fa fa-check"></i><b>26.2</b> Data Exploration and Validation (DEV)</a></li>
<li class="chapter" data-level="26.3" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#scatterplots"><i class="fa fa-check"></i><b>26.3</b> Scatterplots</a>
<ul>
<li class="chapter" data-level="26.3.1" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#micro-quiz"><i class="fa fa-check"></i><b>26.3.1</b> Micro-quiz!</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#mapping-more-variables"><i class="fa fa-check"></i><b>26.4</b> Mapping More Variables</a></li>
<li class="chapter" data-level="26.5" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#inheritance-and-layering-in-ggplot2"><i class="fa fa-check"></i><b>26.5</b> Inheritance and Layering in ggplot2</a></li>
<li class="chapter" data-level="26.6" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#aesthetic-mapping-micro-quiz"><i class="fa fa-check"></i><b>26.6</b> Aesthetic mapping Micro-Quiz!</a></li>
<li class="chapter" data-level="26.7" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#controlling-point-shape-size-and-color-manually"><i class="fa fa-check"></i><b>26.7</b> Controlling Point Shape, Size, and Color Manually</a>
<ul>
<li class="chapter" data-level="26.7.1" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#manual-shapes"><i class="fa fa-check"></i><b>26.7.1</b> Manual Shapes</a></li>
<li class="chapter" data-level="26.7.2" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#manual-sizes"><i class="fa fa-check"></i><b>26.7.2</b> Manual Sizes</a></li>
<li class="chapter" data-level="26.7.3" data-path="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html"><a href="bivariate-ggplot2-scatterplots-to-visualize-relationships-between-variables.html#manual-color"><i class="fa fa-check"></i><b>26.7.3</b> Manual Color</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="27" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html"><i class="fa fa-check"></i><b>27</b> Extensions to ggplot</a>
<ul>
<li class="chapter" data-level="27.1" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#goals-for-this-chapter-4"><i class="fa fa-check"></i><b>27.1</b> Goals for this Chapter</a></li>
<li class="chapter" data-level="27.2" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#packages-needed-for-this-chapter-4"><i class="fa fa-check"></i><b>27.2</b> Packages Needed for this chapter</a></li>
<li class="chapter" data-level="27.3" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#a-flipbook-of-where-we-are-going-with-ggplot-extensions"><i class="fa fa-check"></i><b>27.3</b> A Flipbook of Where We Are Going With ggplot Extensions</a>
<ul>
<li class="chapter" data-level="27.3.1" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#make-flipbook"><i class="fa fa-check"></i><b>27.3.1</b> MAKE FLIPBOOK</a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#a-waffle-plot"><i class="fa fa-check"></i><b>27.4</b> A Waffle Plot</a></li>
<li class="chapter" data-level="27.5" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#an-alluvial-plot"><i class="fa fa-check"></i><b>27.5</b> An Alluvial Plot</a></li>
<li class="chapter" data-level="27.6" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#lollipop-plots"><i class="fa fa-check"></i><b>27.6</b> Lollipop Plots</a></li>
<li class="chapter" data-level="27.7" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#dumbbell-plots"><i class="fa fa-check"></i><b>27.7</b> Dumbbell Plots</a></li>
<li class="chapter" data-level="27.8" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#spaghetti-plots-with-summary-smoothed-lines-for-change-over-time"><i class="fa fa-check"></i><b>27.8</b> Spaghetti Plots with Summary Smoothed Lines for Change Over Time</a></li>
<li class="chapter" data-level="27.9" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#swimmer-plots"><i class="fa fa-check"></i><b>27.9</b> Swimmer Plots</a></li>
<li class="chapter" data-level="27.10" data-path="extensions-to-ggplot.html"><a href="extensions-to-ggplot.html#adding-significance-comparisons-with-ggsignif"><i class="fa fa-check"></i><b>27.10</b> Adding Significance Comparisons with {ggsignif}</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html"><i class="fa fa-check"></i><b>28</b> Customizing Plot Scales</a>
<ul>
<li class="chapter" data-level="28.1" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#goals-for-this-chapter-5"><i class="fa fa-check"></i><b>28.1</b> Goals for this Chapter</a></li>
<li class="chapter" data-level="28.2" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#packages-needed-for-this-chapter-5"><i class="fa fa-check"></i><b>28.2</b> Packages Needed for this chapter</a></li>
<li class="chapter" data-level="28.3" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#a-flipbook-of-where-we-are-going-with-scales"><i class="fa fa-check"></i><b>28.3</b> A Flipbook of Where We Are Going With Scales</a></li>
<li class="chapter" data-level="28.4" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#a-basic-scatterplot"><i class="fa fa-check"></i><b>28.4</b> A Basic Scatterplot</a></li>
<li class="chapter" data-level="28.5" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#but-what-if-you-want-the-scale-for-risk-to-start-at-0"><i class="fa fa-check"></i><b>28.5</b> But what if you want the scale for risk to start at 0?</a></li>
<li class="chapter" data-level="28.6" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#but-this-axis-does-not-really-start-at-exactly-0"><i class="fa fa-check"></i><b>28.6</b> But this axis does not really start at Exactly 0</a></li>
<li class="chapter" data-level="28.7" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#control-the-limits-and-the-breaks"><i class="fa fa-check"></i><b>28.7</b> Control the Limits and the Breaks</a></li>
<li class="chapter" data-level="28.8" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#test-what-you-have-learned"><i class="fa fa-check"></i><b>28.8</b> Test what you have learned</a></li>
<li class="chapter" data-level="28.9" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#continuous-vs.-discrete-plots-and-scales"><i class="fa fa-check"></i><b>28.9</b> Continuous vs. Discrete Plots and Scales</a></li>
<li class="chapter" data-level="28.10" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#using-scales-to-customize-a-legend"><i class="fa fa-check"></i><b>28.10</b> Using Scales to Customize a Legend</a></li>
<li class="chapter" data-level="28.11" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#test-what-you-have-learned-1"><i class="fa fa-check"></i><b>28.11</b> Test what you have learned</a>
<ul>
<li class="chapter" data-level="28.11.1" data-path="customizing-plot-scales.html"><a href="customizing-plot-scales.html#more-examples-with-flipbooks"><i class="fa fa-check"></i><b>28.11.1</b> More Examples with Flipbooks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="29" data-path="helping-out-with-ggplot.html"><a href="helping-out-with-ggplot.html"><i class="fa fa-check"></i><b>29</b> Helping out with ggplot</a>
<ul>
<li class="chapter" data-level="29.1" data-path="helping-out-with-ggplot.html"><a href="helping-out-with-ggplot.html#ggxgghelp"><i class="fa fa-check"></i><b>29.1</b> ggx::gghelp()</a></li>
<li class="chapter" data-level="29.2" data-path="helping-out-with-ggplot.html"><a href="helping-out-with-ggplot.html#getting-more-help-with-theming-with-ggthemeassist"><i class="fa fa-check"></i><b>29.2</b> Getting more help with theming with ggThemeAssist</a></li>
<li class="chapter" data-level="29.3" data-path="helping-out-with-ggplot.html"><a href="helping-out-with-ggplot.html#website-helpers-for-ggplot"><i class="fa fa-check"></i><b>29.3</b> Website helpers for ggplot</a></li>
<li class="chapter" data-level="29.4" data-path="helping-out-with-ggplot.html"><a href="helping-out-with-ggplot.html#getting-even-more-help-with-esquisse"><i class="fa fa-check"></i><b>29.4</b> Getting Even more help with esquisse</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html"><i class="fa fa-check"></i><b>30</b> Mapping Health Data in R</a>
<ul>
<li class="chapter" data-level="30.1" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#the-tigris-package-and-basic-mapping-in-r"><i class="fa fa-check"></i><b>30.1</b> The {tigris} package and Basic Mapping in R</a></li>
<li class="chapter" data-level="30.2" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#mapping-with-openstreetmap-data"><i class="fa fa-check"></i><b>30.2</b> Mapping with OpenStreetMap Data</a></li>
<li class="chapter" data-level="30.3" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#another-example"><i class="fa fa-check"></i><b>30.3</b> Another Example</a></li>
<li class="chapter" data-level="30.4" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#mapping-population-by-county"><i class="fa fa-check"></i><b>30.4</b> Mapping Population By County</a></li>
<li class="chapter" data-level="30.5" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#finding-a-census-field"><i class="fa fa-check"></i><b>30.5</b> Finding a Census Field</a>
<ul>
<li class="chapter" data-level="30.5.1" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#mapping-commute-times"><i class="fa fa-check"></i><b>30.5.1</b> Mapping Commute Times</a></li>
<li class="chapter" data-level="30.5.2" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#mapping-work-from-home"><i class="fa fa-check"></i><b>30.5.2</b> Mapping Work From Home</a></li>
</ul></li>
<li class="chapter" data-level="30.6" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#mapping-and-merging-health-data"><i class="fa fa-check"></i><b>30.6</b> Mapping and Merging Health Data</a>
<ul>
<li class="chapter" data-level="30.6.1" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#solution"><i class="fa fa-check"></i><b>30.6.1</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="30.7" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#now-to-merge"><i class="fa fa-check"></i><b>30.7</b> Now to merge</a></li>
<li class="chapter" data-level="30.8" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#texas-health-data"><i class="fa fa-check"></i><b>30.8</b> Texas Health Data</a>
<ul>
<li class="chapter" data-level="30.8.1" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#solution-to-acs"><i class="fa fa-check"></i><b>30.8.1</b> Solution to ACS</a></li>
<li class="chapter" data-level="30.8.2" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#solution-to-merge"><i class="fa fa-check"></i><b>30.8.2</b> Solution to Merge</a></li>
<li class="chapter" data-level="30.8.3" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#solution-to-mapping"><i class="fa fa-check"></i><b>30.8.3</b> Solution to Mapping</a></li>
</ul></li>
<li class="chapter" data-level="30.9" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#mapping-california"><i class="fa fa-check"></i><b>30.9</b> Mapping California</a></li>
<li class="chapter" data-level="30.10" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#a-bit-of-us-geographic-unit-history"><i class="fa fa-check"></i><b>30.10</b> A bit of US geographic unit history</a></li>
<li class="chapter" data-level="30.11" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#merge-problems"><i class="fa fa-check"></i><b>30.11</b> Merge problems</a></li>
<li class="chapter" data-level="30.12" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#instead-of-using-names-match-by-geoid-in-us-counties-fips-health-data"><i class="fa fa-check"></i><b>30.12</b> Instead of using names, match by GEOID (in us counties) = fips (health data)</a></li>
<li class="chapter" data-level="30.13" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#mapping-distances"><i class="fa fa-check"></i><b>30.13</b> Mapping Distances</a></li>
<li class="chapter" data-level="30.14" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#we-can-narrow-this-down-to-a-smaller-area-such-as-philadelphia-and-driving-time-to-the-childrens-hospital-of-philadelphia-chop."><i class="fa fa-check"></i><b>30.14</b> We can narrow this down to a smaller Area, such as Philadelphia, and driving time to the Children’s Hospital of Philadelphia (CHOP).</a></li>
<li class="chapter" data-level="30.15" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#driving-to-ucla-reagan-hospital"><i class="fa fa-check"></i><b>30.15</b> Driving to UCLA Reagan Hospital</a></li>
<li class="chapter" data-level="30.16" data-path="mapping-health-data-in-r.html"><a href="mapping-health-data-in-r.html#you-can-learn-about-other-mapping-packages-like"><i class="fa fa-check"></i><b>30.16</b> You can learn about other mapping packages, like</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="resources-for-learning-more-about-mapgl.html"><a href="resources-for-learning-more-about-mapgl.html"><i class="fa fa-check"></i><b>31</b> Resources for Learning More about {mapgl}</a>
<ul>
<li class="chapter" data-level="31.1" data-path="resources-for-learning-more-about-mapgl.html"><a href="resources-for-learning-more-about-mapgl.html#resources-for-learning-more-about-tmap"><i class="fa fa-check"></i><b>31.1</b> Resources for learning more about {tmap}:</a></li>
<li class="chapter" data-level="31.2" data-path="resources-for-learning-more-about-mapgl.html"><a href="resources-for-learning-more-about-mapgl.html#resources-for-learning-more-about-leaflet"><i class="fa fa-check"></i><b>31.2</b> Resources for learning more about {leaflet}:</a></li>
<li class="chapter" data-level="31.3" data-path="resources-for-learning-more-about-mapgl.html"><a href="resources-for-learning-more-about-mapgl.html#resources-for-learning-more-about-ggmap"><i class="fa fa-check"></i><b>31.3</b> Resources for learning more about {ggmap}:</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="functions-1.html"><a href="functions-1.html"><i class="fa fa-check"></i><b>32</b> Functions</a>
<ul>
<li class="chapter" data-level="32.1" data-path="functions-1.html"><a href="functions-1.html#dont-repeat-yourself"><i class="fa fa-check"></i><b>32.1</b> Don’t repeat yourself</a></li>
<li class="chapter" data-level="32.2" data-path="functions-1.html"><a href="functions-1.html#your-turn-4"><i class="fa fa-check"></i><b>32.2</b> Your Turn</a></li>
<li class="chapter" data-level="32.3" data-path="functions-1.html"><a href="functions-1.html#freestyle"><i class="fa fa-check"></i><b>32.3</b> Freestyle</a>
<ul>
<li class="chapter" data-level="32.3.1" data-path="functions-1.html"><a href="functions-1.html#acknowledgement"><i class="fa fa-check"></i><b>32.3.1</b> Acknowledgement</a></li>
</ul></li>
<li class="chapter" data-level="32.4" data-path="functions-1.html"><a href="functions-1.html#read-more"><i class="fa fa-check"></i><b>32.4</b> Read More</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="using-found-web-data.html"><a href="using-found-web-data.html"><i class="fa fa-check"></i><b>33</b> Using Found (Web) Data</a>
<ul>
<li class="chapter" data-level="33.1" data-path="using-found-web-data.html"><a href="using-found-web-data.html#found-poetry"><i class="fa fa-check"></i><b>33.1</b> Found Poetry</a></li>
<li class="chapter" data-level="33.2" data-path="using-found-web-data.html"><a href="using-found-web-data.html#found-data"><i class="fa fa-check"></i><b>33.2</b> Found Data</a></li>
<li class="chapter" data-level="33.3" data-path="using-found-web-data.html"><a href="using-found-web-data.html#download-example"><i class="fa fa-check"></i><b>33.3</b> Download Example</a></li>
<li class="chapter" data-level="33.4" data-path="using-found-web-data.html"><a href="using-found-web-data.html#datapasta-small-table-example"><i class="fa fa-check"></i><b>33.4</b> Datapasta (small table) Example</a></li>
<li class="chapter" data-level="33.5" data-path="using-found-web-data.html"><a href="using-found-web-data.html#your-turn-5"><i class="fa fa-check"></i><b>33.5</b> Your Turn</a></li>
<li class="chapter" data-level="33.6" data-path="using-found-web-data.html"><a href="using-found-web-data.html#rvest-example"><i class="fa fa-check"></i><b>33.6</b> {rvest} Example</a></li>
<li class="chapter" data-level="33.7" data-path="using-found-web-data.html"><a href="using-found-web-data.html#your-turn-6"><i class="fa fa-check"></i><b>33.7</b> Your Turn</a></li>
<li class="chapter" data-level="33.8" data-path="using-found-web-data.html"><a href="using-found-web-data.html#api-example-with-tidycensus"><i class="fa fa-check"></i><b>33.8</b> API example with {tidycensus}</a></li>
<li class="chapter" data-level="33.9" data-path="using-found-web-data.html"><a href="using-found-web-data.html#challenges-1"><i class="fa fa-check"></i><b>33.9</b> Challenges</a></li>
<li class="chapter" data-level="33.10" data-path="using-found-web-data.html"><a href="using-found-web-data.html#advanced-challenge---dynamic-websites"><i class="fa fa-check"></i><b>33.10</b> Advanced Challenge - Dynamic Websites</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html"><i class="fa fa-check"></i><b>34</b> Linear Regression and Broom for Tidying Models</a>
<ul>
<li class="chapter" data-level="34.1" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#packages-needed"><i class="fa fa-check"></i><b>34.1</b> Packages needed</a></li>
<li class="chapter" data-level="34.2" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#building-a-simple-base-model-with-lm"><i class="fa fa-check"></i><b>34.2</b> Building a simple base model with {lm}</a>
<ul>
<li class="chapter" data-level="34.2.1" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#producing-manuscript-quality-tables-with-gtsummary"><i class="fa fa-check"></i><b>34.2.1</b> Producing manuscript-quality tables with {gtsummary}</a></li>
</ul></li>
<li class="chapter" data-level="34.3" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#is-your-model-valid"><i class="fa fa-check"></i><b>34.3</b> Is Your Model Valid?</a></li>
<li class="chapter" data-level="34.4" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#making-predictions-with-your-model"><i class="fa fa-check"></i><b>34.4</b> Making Predictions with Your Model</a>
<ul>
<li class="chapter" data-level="34.4.1" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#predictions-from-new-data"><i class="fa fa-check"></i><b>34.4.1</b> Predictions from new data</a></li>
</ul></li>
<li class="chapter" data-level="34.5" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#choosing-predictors-for-multivariate-modeling-testing-dealing-with-collinearity"><i class="fa fa-check"></i><b>34.5</b> Choosing predictors for multivariate modeling – testing, dealing with collinearity</a>
<ul>
<li class="chapter" data-level="34.5.1" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#challenges-2"><i class="fa fa-check"></i><b>34.5.1</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="34.6" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#presenting-model-results-with-rmarkdown"><i class="fa fa-check"></i><b>34.6</b> presenting model results with RMarkdown</a>
<ul>
<li class="chapter" data-level="34.6.1" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#challenges-3"><i class="fa fa-check"></i><b>34.6.1</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="34.7" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#presenting-model-results-with-a-shiny-app"><i class="fa fa-check"></i><b>34.7</b> presenting model results with a Shiny App</a>
<ul>
<li class="chapter" data-level="34.7.1" data-path="linear-regression-and-broom-for-tidying-models.html"><a href="linear-regression-and-broom-for-tidying-models.html#challenges-4"><i class="fa fa-check"></i><b>34.7.1</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="35" data-path="logistic-regression-and-broom-for-tidying-models.html"><a href="logistic-regression-and-broom-for-tidying-models.html"><i class="fa fa-check"></i><b>35</b> Logistic Regression and Broom for Tidying Models</a>
<ul>
<li class="chapter" data-level="35.1" data-path="logistic-regression-and-broom-for-tidying-models.html"><a href="logistic-regression-and-broom-for-tidying-models.html#the-model-summary"><i class="fa fa-check"></i><b>35.1</b> The Model Summary</a></li>
<li class="chapter" data-level="35.2" data-path="logistic-regression-and-broom-for-tidying-models.html"><a href="logistic-regression-and-broom-for-tidying-models.html#evaluating-your-model-assumptions"><i class="fa fa-check"></i><b>35.2</b> Evaluating your Model Assumptions</a></li>
<li class="chapter" data-level="35.3" data-path="logistic-regression-and-broom-for-tidying-models.html"><a href="logistic-regression-and-broom-for-tidying-models.html#converting-between-logit-odds-ratios-and-probability"><i class="fa fa-check"></i><b>35.3</b> Converting between logit, odds ratios, and probability</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html"><i class="fa fa-check"></i><b>36</b> Fast and Frugal Trees with the {FFTrees} Package</a>
<ul>
<li class="chapter" data-level="36.1" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#setup"><i class="fa fa-check"></i><b>36.1</b> Setup</a></li>
<li class="chapter" data-level="36.2" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#the-breast-cancer-dataset"><i class="fa fa-check"></i><b>36.2</b> The Breast Cancer Dataset</a>
<ul>
<li class="chapter" data-level="36.2.1" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#data-inspection"><i class="fa fa-check"></i><b>36.2.1</b> Data Inspection</a></li>
<li class="chapter" data-level="36.2.2" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#check-your-progress"><i class="fa fa-check"></i><b>36.2.2</b> Check Your Progress</a></li>
</ul></li>
<li class="chapter" data-level="36.3" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#building-a-fftrees-model-for-breast-cancer"><i class="fa fa-check"></i><b>36.3</b> Building a FFTrees Model for Breast Cancer</a></li>
<li class="chapter" data-level="36.4" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#your-turn-with-heart-disease-data"><i class="fa fa-check"></i><b>36.4</b> Your Turn with Heart Disease Data</a>
<ul>
<li class="chapter" data-level="36.4.1" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#test-what-you-have-learned-2"><i class="fa fa-check"></i><b>36.4.1</b> Test what you have learned</a></li>
</ul></li>
<li class="chapter" data-level="36.5" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#your-turn-to-build-and-interpret-a-model"><i class="fa fa-check"></i><b>36.5</b> Your Turn to Build and Interpret a Model</a></li>
<li class="chapter" data-level="36.6" data-path="fast-and-frugal-trees-with-the-fftrees-package.html"><a href="fast-and-frugal-trees-with-the-fftrees-package.html#now-build-your-fftrees-model-to-predict-improved-status-vs.-death"><i class="fa fa-check"></i><b>36.6</b> Now build your FFTrees model to predict improved status (vs. death)</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html"><i class="fa fa-check"></i><b>37</b> A Gentle Introduction to Shiny</a>
<ul>
<li class="chapter" data-level="37.1" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#what-is-shiny"><i class="fa fa-check"></i><b>37.1</b> What is Shiny?</a></li>
<li class="chapter" data-level="37.2" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#the-basic-structure-of-a-shiny-app"><i class="fa fa-check"></i><b>37.2</b> The Basic Structure of a Shiny App</a>
<ul>
<li class="chapter" data-level="37.2.1" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#the-weirdness-of-a-shiny-app"><i class="fa fa-check"></i><b>37.2.1</b> The weirdness of a Shiny app</a></li>
</ul></li>
<li class="chapter" data-level="37.3" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#the-user-interface-section-structure"><i class="fa fa-check"></i><b>37.3</b> The User Interface Section Structure</a></li>
<li class="chapter" data-level="37.4" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#the-server-section-structure"><i class="fa fa-check"></i><b>37.4</b> The Server Section Structure</a></li>
<li class="chapter" data-level="37.5" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#how-to-run-an-app"><i class="fa fa-check"></i><b>37.5</b> How to Run an App</a>
<ul>
<li class="chapter" data-level="37.5.1" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#how-to-stop-an-app"><i class="fa fa-check"></i><b>37.5.1</b> How to Stop an App</a></li>
</ul></li>
<li class="chapter" data-level="37.6" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#building-a-very-simple-app-version-1"><i class="fa fa-check"></i><b>37.6</b> Building a Very Simple App (Version 1)</a>
<ul>
<li class="chapter" data-level="37.6.1" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#the-ui-section"><i class="fa fa-check"></i><b>37.6.1</b> The ui section</a></li>
<li class="chapter" data-level="37.6.2" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#the-server-section"><i class="fa fa-check"></i><b>37.6.2</b> The server section</a></li>
</ul></li>
<li class="chapter" data-level="37.7" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#edit-this-app-version-2"><i class="fa fa-check"></i><b>37.7</b> Edit this App (Version 2)</a></li>
<li class="chapter" data-level="37.8" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#building-a-user-interface-for-inputs-and-outputs"><i class="fa fa-check"></i><b>37.8</b> Building a User Interface for Inputs and Outputs</a>
<ul>
<li class="chapter" data-level="37.8.1" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#inputs"><i class="fa fa-check"></i><b>37.8.1</b> Inputs</a></li>
<li class="chapter" data-level="37.8.2" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#outputs"><i class="fa fa-check"></i><b>37.8.2</b> Outputs</a></li>
</ul></li>
<li class="chapter" data-level="37.9" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#building-a-functioning-server-section"><i class="fa fa-check"></i><b>37.9</b> Building a Functioning Server Section</a>
<ul>
<li class="chapter" data-level="37.9.1" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#using-the-input-values-data"><i class="fa fa-check"></i><b>37.9.1</b> Using the input values &amp; Data</a></li>
<li class="chapter" data-level="37.9.2" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#wrangling-and-calculating"><i class="fa fa-check"></i><b>37.9.2</b> Wrangling and Calculating</a></li>
<li class="chapter" data-level="37.9.3" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#rendering-to-html-outputs"><i class="fa fa-check"></i><b>37.9.3</b> Rendering to HTML Outputs</a></li>
</ul></li>
<li class="chapter" data-level="37.10" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#building-a-simple-shiny-app-version-3"><i class="fa fa-check"></i><b>37.10</b> Building a Simple Shiny App (Version 3)</a></li>
<li class="chapter" data-level="37.11" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#publishing-your-shiny-app-on-the-web"><i class="fa fa-check"></i><b>37.11</b> Publishing Your Shiny App on the Web</a></li>
<li class="chapter" data-level="37.12" data-path="a-gentle-introduction-to-shiny.html"><a href="a-gentle-introduction-to-shiny.html#more-to-explore"><i class="fa fa-check"></i><b>37.12</b> More to Explore</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html"><i class="fa fa-check"></i><b>38</b> Sharing Models with Shiny</a>
<ul>
<li class="chapter" data-level="38.0.1" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#packages-needed-for-this-chapter-6"><i class="fa fa-check"></i><b>38.0.1</b> Packages Needed for this Chapter</a></li>
<li class="chapter" data-level="38.1" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#setting-up-and-saving-models"><i class="fa fa-check"></i><b>38.1</b> Setting up and Saving Models</a>
<ul>
<li class="chapter" data-level="38.1.1" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#linear-model"><i class="fa fa-check"></i><b>38.1.1</b> Linear Model</a></li>
<li class="chapter" data-level="38.1.2" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#logistic-model"><i class="fa fa-check"></i><b>38.1.2</b> Logistic Model</a></li>
<li class="chapter" data-level="38.1.3" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#random-forest-model"><i class="fa fa-check"></i><b>38.1.3</b> Random Forest Model</a></li>
</ul></li>
<li class="chapter" data-level="38.2" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#building-a-shiny-app-for-the-linear-model"><i class="fa fa-check"></i><b>38.2</b> Building a Shiny App for the Linear Model</a>
<ul>
<li class="chapter" data-level="38.2.1" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#the-default-shiny-app"><i class="fa fa-check"></i><b>38.2.1</b> The Default Shiny App</a></li>
<li class="chapter" data-level="38.2.2" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#editing-the-ui-sidebarpanel-for-the-input-predictor-variables"><i class="fa fa-check"></i><b>38.2.2</b> Editing the <strong>ui</strong> <em>sidebarPanel</em> for the Input Predictor Variables</a></li>
<li class="chapter" data-level="38.2.3" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#editing-the-server-section-to-make-predictions"><i class="fa fa-check"></i><b>38.2.3</b> Editing the <em>server</em> section to make Predictions</a></li>
<li class="chapter" data-level="38.2.4" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#editing-the-mainpanel-in-the-ui-section-to-display-your-prediction"><i class="fa fa-check"></i><b>38.2.4</b> Editing the mainPanel in the ui section to display your Prediction</a></li>
</ul></li>
<li class="chapter" data-level="38.3" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#building-a-shiny-app-for-the-logistic-model"><i class="fa fa-check"></i><b>38.3</b> Building a Shiny App for the Logistic Model</a>
<ul>
<li class="chapter" data-level="38.3.1" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#the-default-shiny-app-1"><i class="fa fa-check"></i><b>38.3.1</b> The Default Shiny App</a></li>
<li class="chapter" data-level="38.3.2" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#editing-the-ui-sidebarpanel-for-the-input-predictor-variables-1"><i class="fa fa-check"></i><b>38.3.2</b> Editing the <strong>ui</strong> <em>sidebarPanel</em> for the Input Predictor Variables</a></li>
<li class="chapter" data-level="38.3.3" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#editing-the-server-section-to-make-predictions-1"><i class="fa fa-check"></i><b>38.3.3</b> Editing the <em>server</em> section to make Predictions</a></li>
<li class="chapter" data-level="38.3.4" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#editing-the-mainpanel-in-the-ui-section-to-display-your-prediction-1"><i class="fa fa-check"></i><b>38.3.4</b> Editing the mainPanel in the ui section to display your Prediction</a></li>
</ul></li>
<li class="chapter" data-level="38.4" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#building-a-shiny-app-for-the-random-forest-model"><i class="fa fa-check"></i><b>38.4</b> Building a Shiny App for the Random Forest Model</a></li>
<li class="chapter" data-level="38.5" data-path="sharing-models-with-shiny.html"><a href="sharing-models-with-shiny.html#challenge-yourself"><i class="fa fa-check"></i><b>38.5</b> Challenge Yourself</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html"><i class="fa fa-check"></i><b>39</b> Introduction to R Markdown</a>
<ul>
<li class="chapter" data-level="39.1" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#what-makes-an-rmarkdown-document"><i class="fa fa-check"></i><b>39.1</b> What Makes an Rmarkdown document?</a></li>
<li class="chapter" data-level="39.2" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#trying-out-rmarkdown-with-a-mock-manuscript"><i class="fa fa-check"></i><b>39.2</b> Trying out RMarkdown with a Mock Manuscript</a></li>
<li class="chapter" data-level="39.3" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#inserting-code-chunks"><i class="fa fa-check"></i><b>39.3</b> Inserting Code Chunks</a>
<ul>
<li class="chapter" data-level="39.3.1" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#code-chunk-icons"><i class="fa fa-check"></i><b>39.3.1</b> Code Chunk Icons</a></li>
</ul></li>
<li class="chapter" data-level="39.4" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#including-plots-1"><i class="fa fa-check"></i><b>39.4</b> Including Plots</a></li>
<li class="chapter" data-level="39.5" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#including-tables"><i class="fa fa-check"></i><b>39.5</b> Including Tables</a></li>
<li class="chapter" data-level="39.6" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#including-links-and-images"><i class="fa fa-check"></i><b>39.6</b> Including Links and Images</a>
<ul>
<li class="chapter" data-level="39.6.1" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#links"><i class="fa fa-check"></i><b>39.6.1</b> Links</a></li>
<li class="chapter" data-level="39.6.2" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#images"><i class="fa fa-check"></i><b>39.6.2</b> Images</a></li>
</ul></li>
<li class="chapter" data-level="39.7" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#other-languages-in-code-chunks"><i class="fa fa-check"></i><b>39.7</b> Other languages in code chunks</a></li>
<li class="chapter" data-level="39.8" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#code-chunk-options"><i class="fa fa-check"></i><b>39.8</b> Code Chunk Options</a></li>
<li class="chapter" data-level="39.9" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#how-it-all-rmarkdown-knitr-pandoc-works"><i class="fa fa-check"></i><b>39.9</b> How It All (Rmarkdown + {knitr} + Pandoc) Works</a></li>
<li class="chapter" data-level="39.10" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#knitting-and-editing-and-re-knitting-your-rmd-document"><i class="fa fa-check"></i><b>39.10</b> Knitting and Editing (and re-Knitting() Your Rmd document</a></li>
<li class="chapter" data-level="39.11" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#try-out-other-chunk-options"><i class="fa fa-check"></i><b>39.11</b> Try Out Other Chunk Options</a></li>
<li class="chapter" data-level="39.12" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#the-setup-chunk"><i class="fa fa-check"></i><b>39.12</b> The <code>setup</code> chunk</a></li>
<li class="chapter" data-level="39.13" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#markdown-syntax"><i class="fa fa-check"></i><b>39.13</b> Markdown syntax</a></li>
<li class="chapter" data-level="39.14" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#nd-header"><i class="fa fa-check"></i><b>39.14</b> 2nd Header</a>
<ul>
<li class="chapter" data-level="39.14.1" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#rd-header"><i class="fa fa-check"></i><b>39.14.1</b> 3rd Header</a></li>
</ul></li>
<li class="chapter" data-level="39.15" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#line-breaks-and-page-breaks"><i class="fa fa-check"></i><b>39.15</b> Line Breaks and Page Breaks</a></li>
<li class="chapter" data-level="39.16" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#making-lists"><i class="fa fa-check"></i><b>39.16</b> Making Lists</a>
<ul>
<li class="chapter" data-level="39.16.1" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#ordered-lists"><i class="fa fa-check"></i><b>39.16.1</b> Ordered Lists</a></li>
<li class="chapter" data-level="39.16.2" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#un-ordered-lists"><i class="fa fa-check"></i><b>39.16.2</b> Un-ordered lists</a></li>
<li class="chapter" data-level="39.16.3" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#nested-lists"><i class="fa fa-check"></i><b>39.16.3</b> Nested Lists</a></li>
</ul></li>
<li class="chapter" data-level="39.17" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#the-easy-button---visual-markdown-editing"><i class="fa fa-check"></i><b>39.17</b> The Easy Button - Visual Markdown Editing</a>
<ul>
<li class="chapter" data-level="39.17.1" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#try-inserting-a-list-a-table-and-a-block-quote"><i class="fa fa-check"></i><b>39.17.1</b> Try inserting a list, a table and a block-quote</a></li>
</ul></li>
<li class="chapter" data-level="39.18" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#inline-code"><i class="fa fa-check"></i><b>39.18</b> Inline Code</a>
<ul>
<li class="chapter" data-level="39.18.1" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#try-inserting-some-in-line-r-code"><i class="fa fa-check"></i><b>39.18.1</b> Try inserting some in-line R code</a></li>
</ul></li>
<li class="chapter" data-level="39.19" data-path="introduction-to-r-markdown.html"><a href="introduction-to-r-markdown.html#a-quick-quiz"><i class="fa fa-check"></i><b>39.19</b> A Quick Quiz</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html"><i class="fa fa-check"></i><b>40</b> Rmarkdown Output Options</a>
<ul>
<li class="chapter" data-level="40.1" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#microsoft-word-output-from-rmarkdown"><i class="fa fa-check"></i><b>40.1</b> Microsoft Word Output from Rmarkdown</a>
<ul>
<li class="chapter" data-level="40.1.1" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#making-a-styles-reference-file-for-microsoft-word"><i class="fa fa-check"></i><b>40.1.1</b> Making a Styles Reference File for Microsoft Word</a></li>
<li class="chapter" data-level="40.1.2" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#lets-practice-this."><i class="fa fa-check"></i><b>40.1.2</b> Let’s Practice This.</a></li>
<li class="chapter" data-level="40.1.3" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#re-formatting-your-template"><i class="fa fa-check"></i><b>40.1.3</b> Re-formatting Your Template</a></li>
<li class="chapter" data-level="40.1.4" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#using-your-new-styles-template"><i class="fa fa-check"></i><b>40.1.4</b> Using Your New Styles Template</a></li>
<li class="chapter" data-level="40.1.5" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#now-you-are-ready"><i class="fa fa-check"></i><b>40.1.5</b> Now you are ready!</a></li>
</ul></li>
<li class="chapter" data-level="40.2" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#pdf-output-from-rmarkdown"><i class="fa fa-check"></i><b>40.2</b> PDF Output from RMarkdown</a>
<ul>
<li class="chapter" data-level="40.2.1" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#latex-and-tinytex"><i class="fa fa-check"></i><b>40.2.1</b> LaTeX and tinytex</a></li>
<li class="chapter" data-level="40.2.2" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#knitting-to-pdf"><i class="fa fa-check"></i><b>40.2.2</b> Knitting to PDF</a></li>
</ul></li>
<li class="chapter" data-level="40.3" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#microsoft-powerpoint-output-from-rmarkdown"><i class="fa fa-check"></i><b>40.3</b> Microsoft Powerpoint Output from Rmarkdown</a>
<ul>
<li class="chapter" data-level="40.3.1" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#tables-in-powerpoint"><i class="fa fa-check"></i><b>40.3.1</b> Tables in Powerpoint</a></li>
<li class="chapter" data-level="40.3.2" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#images-in-powerpoint"><i class="fa fa-check"></i><b>40.3.2</b> Images in Powerpoint</a></li>
<li class="chapter" data-level="40.3.3" data-path="rmarkdown-output-options.html"><a href="rmarkdown-output-options.html#plots-in-powerpoint"><i class="fa fa-check"></i><b>40.3.3</b> Plots in Powerpoint</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="41" data-path="adding-citations-to-your-rmarkdown.html"><a href="adding-citations-to-your-rmarkdown.html"><i class="fa fa-check"></i><b>41</b> Adding Citations to your RMarkdown</a></li>
<li class="chapter" data-level="42" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html"><i class="fa fa-check"></i><b>42</b> Quarto is a Next-Generation RMarkdown</a>
<ul>
<li class="chapter" data-level="42.1" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#goals-for-this-chapter-6"><i class="fa fa-check"></i><b>42.1</b> Goals for this Chapter</a></li>
<li class="chapter" data-level="42.2" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#packages-needed-for-this-chapter-7"><i class="fa fa-check"></i><b>42.2</b> Packages Needed for this chapter</a></li>
<li class="chapter" data-level="42.3" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#introducing-quarto"><i class="fa fa-check"></i><b>42.3</b> Introducing Quarto</a></li>
<li class="chapter" data-level="42.4" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#a-tour-of-quarto"><i class="fa fa-check"></i><b>42.4</b> A Tour of Quarto</a></li>
<li class="chapter" data-level="42.5" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#opening-a-new-quarto-document"><i class="fa fa-check"></i><b>42.5</b> Opening a New Quarto Document</a></li>
<li class="chapter" data-level="42.6" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#annotating-code-in-quarto"><i class="fa fa-check"></i><b>42.6</b> Annotating code in Quarto</a></li>
<li class="chapter" data-level="42.7" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#the-visual-editor-vs.-source-editor-in-quarto"><i class="fa fa-check"></i><b>42.7</b> The Visual Editor vs. Source Editor in Quarto</a></li>
<li class="chapter" data-level="42.8" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#adding-code-chunks"><i class="fa fa-check"></i><b>42.8</b> Adding Code Chunks</a></li>
<li class="chapter" data-level="42.9" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#organized-options-in-code-chunks-with-the-hash-pipe"><i class="fa fa-check"></i><b>42.9</b> Organized Options in Code Chunks with the Hash-Pipe #|</a></li>
<li class="chapter" data-level="42.10" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#stating-global-options-in-your-yaml-header"><i class="fa fa-check"></i><b>42.10</b> Stating Global Options in Your YAML Header</a>
<ul>
<li class="chapter" data-level="42.10.1" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#code-options-and-code-folding"><i class="fa fa-check"></i><b>42.10.1</b> Code Options and Code Folding</a></li>
<li class="chapter" data-level="42.10.2" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#parameters"><i class="fa fa-check"></i><b>42.10.2</b> Parameters</a></li>
</ul></li>
<li class="chapter" data-level="42.11" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#figures"><i class="fa fa-check"></i><b>42.11</b> Figures</a></li>
<li class="chapter" data-level="42.12" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#tables"><i class="fa fa-check"></i><b>42.12</b> Tables</a></li>
<li class="chapter" data-level="42.13" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#inline-code-and-caching"><i class="fa fa-check"></i><b>42.13</b> Inline Code and Caching</a></li>
<li class="chapter" data-level="42.14" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#quarto-at-the-command-line"><i class="fa fa-check"></i><b>42.14</b> Quarto at the Command Line</a></li>
<li class="chapter" data-level="42.15" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#citations-in-quarto"><i class="fa fa-check"></i><b>42.15</b> Citations in Quarto</a></li>
<li class="chapter" data-level="42.16" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#challenge-yourself-1"><i class="fa fa-check"></i><b>42.16</b> Challenge Yourself</a></li>
<li class="chapter" data-level="42.17" data-path="quarto-is-a-next-generation-rmarkdown.html"><a href="quarto-is-a-next-generation-rmarkdown.html#exploring-further"><i class="fa fa-check"></i><b>42.17</b> Exploring further</a></li>
</ul></li>
<li class="chapter" data-level="43" data-path="cmd-line.html"><a href="cmd-line.html"><i class="fa fa-check"></i><b>43</b> Running R from the UNIX Command Line</a>
<ul>
<li class="chapter" data-level="43.1" data-path="cmd-line.html"><a href="cmd-line.html#what-is-the-unix-command-line"><i class="fa fa-check"></i><b>43.1</b> What is the UNIX Command line?</a></li>
<li class="chapter" data-level="43.2" data-path="cmd-line.html"><a href="cmd-line.html#why-run-r-from-the-command-line"><i class="fa fa-check"></i><b>43.2</b> Why run R from the command line?</a></li>
<li class="chapter" data-level="43.3" data-path="cmd-line.html"><a href="cmd-line.html#how-do-you-get-started"><i class="fa fa-check"></i><b>43.3</b> How do you get started?</a>
<ul>
<li class="chapter" data-level="43.3.1" data-path="cmd-line.html"><a href="cmd-line.html#on-a-mac"><i class="fa fa-check"></i><b>43.3.1</b> On a Mac</a></li>
<li class="chapter" data-level="43.3.2" data-path="cmd-line.html"><a href="cmd-line.html#on-a-windows-pc"><i class="fa fa-check"></i><b>43.3.2</b> On a Windows PC</a></li>
</ul></li>
<li class="chapter" data-level="43.4" data-path="cmd-line.html"><a href="cmd-line.html#the-yawning-blackness-of-the-terminal-window"><i class="fa fa-check"></i><b>43.4</b> The Yawning Blackness of the Terminal Window</a></li>
<li class="chapter" data-level="43.5" data-path="cmd-line.html"><a href="cmd-line.html#where-are-we"><i class="fa fa-check"></i><b>43.5</b> Where Are We?</a></li>
<li class="chapter" data-level="43.6" data-path="cmd-line.html"><a href="cmd-line.html#cleaning-up"><i class="fa fa-check"></i><b>43.6</b> Cleaning Up</a></li>
<li class="chapter" data-level="43.7" data-path="cmd-line.html"><a href="cmd-line.html#other-helpful-file-commands"><i class="fa fa-check"></i><b>43.7</b> Other helpful file commands</a></li>
<li class="chapter" data-level="43.8" data-path="cmd-line.html"><a href="cmd-line.html#what-about-r"><i class="fa fa-check"></i><b>43.8</b> What about R?</a></li>
<li class="chapter" data-level="43.9" data-path="cmd-line.html"><a href="cmd-line.html#what-about-just-a-few-lines-of-r"><i class="fa fa-check"></i><b>43.9</b> What about just a few lines of R?</a></li>
<li class="chapter" data-level="43.10" data-path="cmd-line.html"><a href="cmd-line.html#running-an-r-script-from-the-terminal"><i class="fa fa-check"></i><b>43.10</b> Running an R Script from the Terminal</a></li>
<li class="chapter" data-level="43.11" data-path="cmd-line.html"><a href="cmd-line.html#rendering-an-rmarkdown-file-from-the-terminal"><i class="fa fa-check"></i><b>43.11</b> Rendering an Rmarkdown file from the Terminal</a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="secure-passwords-in-r.html"><a href="secure-passwords-in-r.html"><i class="fa fa-check"></i><b>44</b> Secure Passwords in R</a>
<ul>
<li class="chapter" data-level="44.1" data-path="secure-passwords-in-r.html"><a href="secure-passwords-in-r.html#setting-new-keys"><i class="fa fa-check"></i><b>44.1</b> Setting New Keys</a></li>
</ul></li>
<li class="chapter" data-level="45" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html"><i class="fa fa-check"></i><b>45</b> Dates and Times in R</a>
<ul>
<li class="chapter" data-level="45.1" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#data-types-for-dates-and-times"><i class="fa fa-check"></i><b>45.1</b> Data Types for Dates and Times</a></li>
<li class="chapter" data-level="45.2" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#using-posixlt"><i class="fa fa-check"></i><b>45.2</b> Using POSIXlt</a></li>
<li class="chapter" data-level="45.3" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#formatting-dates"><i class="fa fa-check"></i><b>45.3</b> Formatting dates</a>
<ul>
<li class="chapter" data-level="45.3.1" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#code-chunk-icons-1"><i class="fa fa-check"></i><b>45.3.1</b> Code Chunk Icons</a></li>
</ul></li>
<li class="chapter" data-level="45.4" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#including-plots-2"><i class="fa fa-check"></i><b>45.4</b> Including Plots</a></li>
<li class="chapter" data-level="45.5" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#including-tables-1"><i class="fa fa-check"></i><b>45.5</b> Including Tables</a></li>
<li class="chapter" data-level="45.6" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#other-languages-in-code-chunks-1"><i class="fa fa-check"></i><b>45.6</b> Other languages in code chunks</a></li>
<li class="chapter" data-level="45.7" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#code-chunk-options-1"><i class="fa fa-check"></i><b>45.7</b> Code Chunk Options</a></li>
<li class="chapter" data-level="45.8" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#try-out-other-chunk-options-1"><i class="fa fa-check"></i><b>45.8</b> Try Out Other Chunk Options</a></li>
<li class="chapter" data-level="45.9" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#the-setup-chunk-1"><i class="fa fa-check"></i><b>45.9</b> The <code>setup</code> chunk</a></li>
<li class="chapter" data-level="45.10" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#the-easy-button---visual-markdown-editing-1"><i class="fa fa-check"></i><b>45.10</b> The Easy Button - Visual Markdown Editing</a></li>
<li class="chapter" data-level="45.11" data-path="dates-and-times-in-r.html"><a href="dates-and-times-in-r.html#a-quick-quiz-1"><i class="fa fa-check"></i><b>45.11</b> A Quick Quiz</a></li>
</ul></li>
<li class="chapter" data-level="46" data-path="protecting-phi-protected-health-information.html"><a href="protecting-phi-protected-health-information.html"><i class="fa fa-check"></i><b>46</b> Protecting PHI (Protected Health Information)</a>
<ul>
<li class="chapter" data-level="46.1" data-path="protecting-phi-protected-health-information.html"><a href="protecting-phi-protected-health-information.html#protecting-not-inadvertently-sharing-phi"><i class="fa fa-check"></i><b>46.1</b> Protecting (Not Inadvertently Sharing) PHI</a></li>
<li class="chapter" data-level="46.2" data-path="protecting-phi-protected-health-information.html"><a href="protecting-phi-protected-health-information.html#identifying-phi"><i class="fa fa-check"></i><b>46.2</b> Identifying PHI</a></li>
<li class="chapter" data-level="46.3" data-path="protecting-phi-protected-health-information.html"><a href="protecting-phi-protected-health-information.html#selectively-deleting-phi"><i class="fa fa-check"></i><b>46.3</b> Selectively Deleting PHI</a></li>
<li class="chapter" data-level="46.4" data-path="protecting-phi-protected-health-information.html"><a href="protecting-phi-protected-health-information.html#problems-with-phi-free-data"><i class="fa fa-check"></i><b>46.4</b> Problems with PHI-free data</a></li>
<li class="chapter" data-level="46.5" data-path="protecting-phi-protected-health-information.html"><a href="protecting-phi-protected-health-information.html#encrypting-phi"><i class="fa fa-check"></i><b>46.5</b> Encrypting PHI</a>
<ul>
<li class="chapter" data-level="46.5.1" data-path="protecting-phi-protected-health-information.html"><a href="protecting-phi-protected-health-information.html#generating-public-and-private-keys"><i class="fa fa-check"></i><b>46.5.1</b> Generating Public and Private keys</a></li>
</ul></li>
<li class="chapter" data-level="46.6" data-path="protecting-phi-protected-health-information.html"><a href="protecting-phi-protected-health-information.html#sharing-synthetic-data-with-synthpop"><i class="fa fa-check"></i><b>46.6</b> Sharing synthetic data with {synthpop}</a></li>
</ul></li>
<li class="chapter" data-level="47" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html"><i class="fa fa-check"></i><b>47</b> Building Data Pipelines with {targets}</a>
<ul>
<li class="chapter" data-level="47.1" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#what-does-targets-do"><i class="fa fa-check"></i><b>47.1</b> What Does {targets} Do?</a></li>
<li class="chapter" data-level="47.2" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#air-quality-analysis"><i class="fa fa-check"></i><b>47.2</b> Air Quality Analysis</a>
<ul>
<li class="chapter" data-level="47.2.1" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#prepping-the-functions.r-file"><i class="fa fa-check"></i><b>47.2.1</b> Prepping The Functions.R file</a></li>
<li class="chapter" data-level="47.2.2" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#checking-your-functions"><i class="fa fa-check"></i><b>47.2.2</b> Checking Your Functions</a></li>
<li class="chapter" data-level="47.2.3" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#set-up-the-pipeline"><i class="fa fa-check"></i><b>47.2.3</b> Set Up the Pipeline</a></li>
<li class="chapter" data-level="47.2.4" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#pre-build-checks"><i class="fa fa-check"></i><b>47.2.4</b> Pre-Build Checks</a></li>
<li class="chapter" data-level="47.2.5" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#changing-the-pipeline"><i class="fa fa-check"></i><b>47.2.5</b> Changing the Pipeline</a></li>
</ul></li>
<li class="chapter" data-level="47.3" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#your-turn---a-tuberculosis-analysis-pipeline"><i class="fa fa-check"></i><b>47.3</b> Your Turn - A Tuberculosis Analysis Pipeline</a>
<ul>
<li class="chapter" data-level="47.3.1" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#making-new-functions"><i class="fa fa-check"></i><b>47.3.1</b> Making new Functions</a></li>
<li class="chapter" data-level="47.3.2" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#testing-functions"><i class="fa fa-check"></i><b>47.3.2</b> Testing functions</a></li>
</ul></li>
<li class="chapter" data-level="47.4" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#resetting-functions-before-the-pipeline-is-built"><i class="fa fa-check"></i><b>47.4</b> Resetting functions before the Pipeline is Built</a>
<ul>
<li class="chapter" data-level="47.4.1" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#setting-up-targets"><i class="fa fa-check"></i><b>47.4.1</b> Setting Up {targets}</a></li>
</ul></li>
<li class="chapter" data-level="47.5" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#editing-the-_targets.r-file"><i class="fa fa-check"></i><b>47.5</b> Editing the <code>_targets.R</code> File</a>
<ul>
<li class="chapter" data-level="47.5.1" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#running-the-pipeline"><i class="fa fa-check"></i><b>47.5.1</b> Running the Pipeline</a></li>
<li class="chapter" data-level="47.5.2" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#modificatons-to-the-pipeline"><i class="fa fa-check"></i><b>47.5.2</b> Modificatons to the Pipeline</a></li>
<li class="chapter" data-level="47.5.3" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#modify-the-plot"><i class="fa fa-check"></i><b>47.5.3</b> Modify the Plot</a></li>
</ul></li>
<li class="chapter" data-level="47.6" data-path="building-data-pipelines-with-targets.html"><a href="building-data-pipelines-with-targets.html#next-steps"><i class="fa fa-check"></i><b>47.6</b> Next Steps</a></li>
</ul></li>
<li class="chapter" data-level="48" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html"><i class="fa fa-check"></i><b>48</b> Colors and Scales in {ggplot2}</a>
<ul>
<li class="chapter" data-level="48.1" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#goals-for-this-chapter-7"><i class="fa fa-check"></i><b>48.1</b> Goals for this Chapter</a></li>
<li class="chapter" data-level="48.2" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#colors-in-r-and-ggplot2"><i class="fa fa-check"></i><b>48.2</b> Colors in R and {ggplot2}</a>
<ul>
<li class="chapter" data-level="48.2.1" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#using-pre-defined-color-names"><i class="fa fa-check"></i><b>48.2.1</b> Using pre-defined color names</a></li>
<li class="chapter" data-level="48.2.2" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#using-color-hex-codes"><i class="fa fa-check"></i><b>48.2.2</b> Using color hex codes</a></li>
<li class="chapter" data-level="48.2.3" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#screen-vs.-print-colors"><i class="fa fa-check"></i><b>48.2.3</b> Screen vs. Print Colors</a></li>
<li class="chapter" data-level="48.2.4" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#transparency-and-hex-colors"><i class="fa fa-check"></i><b>48.2.4</b> Transparency and hex colors</a></li>
<li class="chapter" data-level="48.2.5" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#more-obscure-ways-to-select-colors"><i class="fa fa-check"></i><b>48.2.5</b> More obscure ways to select colors</a></li>
<li class="chapter" data-level="48.2.6" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#using-color-palettes"><i class="fa fa-check"></i><b>48.2.6</b> Using color palettes</a></li>
<li class="chapter" data-level="48.2.7" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#color-blind-friendly-palettes"><i class="fa fa-check"></i><b>48.2.7</b> Color-blind friendly palettes</a></li>
</ul></li>
<li class="chapter" data-level="48.3" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#sequential-diverging-and-qualitative-palettes"><i class="fa fa-check"></i><b>48.3</b> Sequential, Diverging, and Qualitative Palettes</a></li>
<li class="chapter" data-level="48.4" data-path="colors-and-scales-in-ggplot2.html"><a href="colors-and-scales-in-ggplot2.html#choosing-colors-with-meaning"><i class="fa fa-check"></i><b>48.4</b> Choosing Colors with Meaning</a></li>
</ul></li>
<li class="chapter" data-level="49" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html"><i class="fa fa-check"></i><b>49</b> Using the {flowchart} package for CONSORT diagrams in R</a>
<ul>
<li class="chapter" data-level="49.1" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#why-flowcharts"><i class="fa fa-check"></i><b>49.1</b> Why Flowcharts?</a></li>
<li class="chapter" data-level="49.2" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#loading-libraries"><i class="fa fa-check"></i><b>49.2</b> Loading Libraries</a></li>
<li class="chapter" data-level="49.3" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#a-consort-flowchart-for-statins-to-prevent-hcc"><i class="fa fa-check"></i><b>49.3</b> A CONSORT Flowchart for Statins to Prevent HCC</a></li>
<li class="chapter" data-level="49.4" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#data"><i class="fa fa-check"></i><b>49.4</b> Data</a></li>
<li class="chapter" data-level="49.5" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#branching"><i class="fa fa-check"></i><b>49.5</b> Branching</a></li>
<li class="chapter" data-level="49.6" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#splitting-into-groups-treatment-arms"><i class="fa fa-check"></i><b>49.6</b> Splitting into Groups (Treatment Arms)</a>
<ul>
<li class="chapter" data-level="49.6.1" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#a-short-tangent-on-ifelse"><i class="fa fa-check"></i><b>49.6.1</b> A Short Tangent on {ifelse}</a></li>
</ul></li>
<li class="chapter" data-level="49.7" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#filtering-for-completers"><i class="fa fa-check"></i><b>49.7</b> Filtering for Completers</a></li>
<li class="chapter" data-level="49.8" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#modify-exclusions-for-more-detailed-labels"><i class="fa fa-check"></i><b>49.8</b> Modify exclusions for more detailed labels</a>
<ul>
<li class="chapter" data-level="49.8.1" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#time-for-a-quiz"><i class="fa fa-check"></i><b>49.8.1</b> Time for a Quiz</a></li>
</ul></li>
<li class="chapter" data-level="49.9" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#a-more-complicated-study"><i class="fa fa-check"></i><b>49.9</b> A More Complicated Study</a></li>
<li class="chapter" data-level="49.10" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#example"><i class="fa fa-check"></i><b>49.10</b> Example</a></li>
<li class="chapter" data-level="49.11" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#branching-1"><i class="fa fa-check"></i><b>49.11</b> Branching</a></li>
<li class="chapter" data-level="49.12" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#splitting-into-groups-treatment-arms-1"><i class="fa fa-check"></i><b>49.12</b> Splitting into Groups (Treatment Arms)</a></li>
<li class="chapter" data-level="49.13" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#filtering-for-completers-1"><i class="fa fa-check"></i><b>49.13</b> Filtering for Completers</a></li>
<li class="chapter" data-level="49.14" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#modify-exclusions-for-more-detailed-labels-1"><i class="fa fa-check"></i><b>49.14</b> Modify exclusions for more detailed labels</a></li>
<li class="chapter" data-level="49.15" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#next-step"><i class="fa fa-check"></i><b>49.15</b> Next step</a></li>
<li class="chapter" data-level="49.16" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#now-add-these-withdrawal-reasons"><i class="fa fa-check"></i><b>49.16</b> Now Add These Withdrawal Reasons</a></li>
<li class="chapter" data-level="49.17" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#your-turn-7"><i class="fa fa-check"></i><b>49.17</b> Your Turn</a></li>
<li class="chapter" data-level="49.17.1" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#fatigue-starting-box"><i class="fa fa-check"></i><b>49.17.1</b> Fatigue Starting Box</a></li>
<li class="chapter" data-level="49.17.2" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#fatigue-branching-fror-exclusions-with-fc_filter"><i class="fa fa-check"></i><b>49.17.2</b> Fatigue Branching fr=or Exclusions with fc_filter</a></li>
<li class="chapter" data-level="49.17.3" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#branching-fatigue"><i class="fa fa-check"></i><b>49.17.3</b> Branching Fatigue</a></li>
<li class="chapter" data-level="49.17.4" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#fatigue-completers"><i class="fa fa-check"></i><b>49.17.4</b> Fatigue Completers</a></li>
<li class="chapter" data-level="49.17.5" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#fatigue-text-for-exclusions"><i class="fa fa-check"></i><b>49.17.5</b> Fatigue Text for Exclusions</a></li>
<li class="chapter" data-level="49.17.6" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#fatigue-add-text-for-exclusions"><i class="fa fa-check"></i><b>49.17.6</b> Fatigue Add text for Exclusions</a></li>
<li class="chapter" data-level="49.17.7" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#withdrawal-reasons"><i class="fa fa-check"></i><b>49.17.7</b> Withdrawal Reasons</a></li>
<li class="chapter" data-level="49.17.8" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#now-add-these-to-your-flowchart-with-fc_modify"><i class="fa fa-check"></i><b>49.17.8</b> Now add these to Your Flowchart with fc_modify</a></li>
<li class="chapter" data-level="49.17.9" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#final-fatigue-flowchart-drawing-fatigue_fc6"><i class="fa fa-check"></i><b>49.17.9</b> Final Fatigue Flowchart Drawing fatigue_fc6</a></li>
<li class="chapter" data-level="49.17.10" data-path="using-the-flowchart-package-for-consort-diagrams-in-r.html"><a href="using-the-flowchart-package-for-consort-diagrams-in-r.html#explore-more-features"><i class="fa fa-check"></i><b>49.17.10</b> Explore More Features</a></li>
</ul></li>
<li class="chapter" data-level="50" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><i class="fa fa-check"></i><b>50</b> Using the {tabulapdf} package tp extract tables from PDFs</a>
<ul>
<li class="chapter" data-level="50.1" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#why-tables-from-pdfs"><i class="fa fa-check"></i><b>50.1</b> Why Tables from PDFs?</a></li>
<li class="chapter" data-level="50.2" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#extracting-tables-from-pdfs"><i class="fa fa-check"></i><b>50.2</b> Extracting Tables from PDFs</a></li>
<li class="chapter" data-level="50.3" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#extracting-tables-from-pdfs-1"><i class="fa fa-check"></i><b>50.3</b> Extracting Tables from PDFs</a></li>
<li class="chapter" data-level="50.4" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#extracting-tables-from-the-pdf"><i class="fa fa-check"></i><b>50.4</b> Extracting Tables from the PDF</a></li>
<li class="chapter" data-level="50.5" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#extracting-a-specific-table"><i class="fa fa-check"></i><b>50.5</b> Extracting a Specific Table</a></li>
<li class="chapter" data-level="50.6" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#extracting-a-specific-table-1"><i class="fa fa-check"></i><b>50.6</b> Extracting a Specific Table</a></li>
<li class="chapter" data-level="50.7" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#viewing-and-targeting-the-pdf"><i class="fa fa-check"></i><b>50.7</b> Viewing and Targeting the PDF</a></li>
<li class="chapter" data-level="50.8" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#your-turn-8"><i class="fa fa-check"></i><b>50.8</b> Your Turn</a></li>
<li class="chapter" data-level="50.8.1" data-path="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html"><a href="using-the-tabulapdf-package-tp-extract-tables-from-pdfs.html#explore-more-features-1"><i class="fa fa-check"></i><b>50.8.1</b> Explore More Features</a></li>
</ul></li>
<li class="chapter" data-level="51" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><i class="fa fa-check"></i><b>51</b> Using the {heemod} package to Evaluate Markov Models of Health Economic Strategies</a>
<ul>
<li class="chapter" data-level="51.1" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#why-health-economic-evaluation-and-markov-models"><i class="fa fa-check"></i><b>51.1</b> Why Health Economic Evaluation and Markov Models?</a></li>
<li class="chapter" data-level="51.2" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#preparation-for-modeling"><i class="fa fa-check"></i><b>51.2</b> Preparation for Modeling</a></li>
<li class="chapter" data-level="51.3" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#health-states"><i class="fa fa-check"></i><b>51.3</b> Health States</a></li>
<li class="chapter" data-level="51.4" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#utilities"><i class="fa fa-check"></i><b>51.4</b> Utilities</a></li>
<li class="chapter" data-level="51.5" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#transition-probabilities"><i class="fa fa-check"></i><b>51.5</b> Transition Probabilities</a></li>
<li class="chapter" data-level="51.6" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#costs"><i class="fa fa-check"></i><b>51.6</b> Costs</a>
<ul>
<li class="chapter" data-level="51.6.1" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#maintenance-health-care-costs"><i class="fa fa-check"></i><b>51.6.1</b> Maintenance Health Care Costs</a></li>
</ul></li>
<li class="chapter" data-level="51.7" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#cycle-time"><i class="fa fa-check"></i><b>51.7</b> Cycle Time</a></li>
<li class="chapter" data-level="51.8" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#building-your-model-and-calculating-outcomes"><i class="fa fa-check"></i><b>51.8</b> Building Your Model and Calculating Outcomes</a></li>
<li class="chapter" data-level="51.9" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#a-first-model"><i class="fa fa-check"></i><b>51.9</b> A First Model</a></li>
<li class="chapter" data-level="51.10" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#the-transition-state-matrix"><i class="fa fa-check"></i><b>51.10</b> The Transition State Matrix</a></li>
<li class="chapter" data-level="51.11" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#attach-values-to-states"><i class="fa fa-check"></i><b>51.11</b> Attach Values to States</a></li>
<li class="chapter" data-level="51.12" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#combining-transitions-and-values-into-a-model"><i class="fa fa-check"></i><b>51.12</b> Combining Transitions and Values into A Model</a></li>
<li class="chapter" data-level="51.13" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#run-the-model"><i class="fa fa-check"></i><b>51.13</b> Run the Model</a></li>
<li class="chapter" data-level="51.14" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#your-turn-9"><i class="fa fa-check"></i><b>51.14</b> Your Turn</a>
<ul>
<li class="chapter" data-level="51.14.1" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#explore-more-features-2"><i class="fa fa-check"></i><b>51.14.1</b> Explore More Features</a></li>
<li class="chapter" data-level="51.14.2" data-path="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html"><a href="using-the-heemod-package-to-evaluate-markov-models-of-health-economic-strategies.html#explore-health-economics-beyond-heemod"><i class="fa fa-check"></i><b>51.14.2</b> Explore Health Economics Beyond {heemod}</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="52" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets.html"><i class="fa fa-check"></i><b>52</b> Using your .Rprofile and .Renviron file and RStudio Code Snippets</a>
<ul>
<li class="chapter" data-level="52.1" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets.html#setting-up-your-.rprofile-file"><i class="fa fa-check"></i><b>52.1</b> Setting up your .Rprofile file</a></li>
<li class="chapter" data-level="52.2" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets.html#setting-up-your-.renviron-file"><i class="fa fa-check"></i><b>52.2</b> Setting up your .Renviron file</a>
<ul>
<li class="chapter" data-level="52.2.1" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets.html#explore-redcaptidier-and-quarto-dashboards"><i class="fa fa-check"></i><b>52.2.1</b> Explore REDCapTidieR and Quarto Dashboards</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="53" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html"><i class="fa fa-check"></i><b>53</b> Using your .Rprofile and .Renviron file and RStudio Code Snippets</a>
<ul>
<li class="chapter" data-level="53.1" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html#setting-up-your-.rprofile-file-1"><i class="fa fa-check"></i><b>53.1</b> Setting up your .Rprofile file</a></li>
<li class="chapter" data-level="53.2" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html#setting-up-your-.renviron-file-1"><i class="fa fa-check"></i><b>53.2</b> Setting up your .Renviron file</a>
<ul>
<li class="chapter" data-level="53.2.1" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html#using-rstudio-code-snippets"><i class="fa fa-check"></i><b>53.2.1</b> Using RStudio Code Snippets</a></li>
</ul></li>
<li class="chapter" data-level="53.3" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html#code-folding-and-sections-in-rstudio"><i class="fa fa-check"></i><b>53.3</b> Code Folding and Sections in RStudio</a>
<ul>
<li class="chapter" data-level="53.3.1" data-path="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html"><a href="using-your-.rprofile-and-.renviron-file-and-rstudio-code-snippets-1.html#explore-more-1"><i class="fa fa-check"></i><b>53.3.1</b> Explore More</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="title-holder.html"><a href="title-holder.html"><i class="fa fa-check"></i>Title holder</a></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Medical Research with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mapping-health-data-in-r" class="section level1 hasAnchor" number="30">
<h1><span class="header-section-number">Chapter 30</span> Mapping Health Data in R<a href="mapping-health-data-in-r.html#mapping-health-data-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="the-tigris-package-and-basic-mapping-in-r" class="section level2 hasAnchor" number="30.1">
<h2><span class="header-section-number">30.1</span> The {tigris} package and Basic Mapping in R<a href="mapping-health-data-in-r.html#the-tigris-package-and-basic-mapping-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The US Census Bureau provides a wealth of geographic data that can be used for mapping and analysis. The {tigris} package in R is designed to make it easy to access and use this data. It provides functions to download shapefiles for various geographic entities, such as states, counties, tracts, block groups, roads, rivers, and more.
Shapefiles are a common format for storing geographic data, and they can be used to create maps and perform spatial analysis.
This Census shapefiles are TIGER/Line shapefiles, and TIGER stands for Topologically Integrated Geographic Encoding and Referencing,
which are a set of shapefiles that provide geographic data for the United States. You can use the {tigris} package to download shapefiles for states, counties, tracts, block groups, roads, rivers, and more.</p>
<p>Let’s start with a simple map of some Midwestern states, using the <code>states()</code> function from the {tigris} package.</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="mapping-health-data-in-r.html#cb598-1" tabindex="-1"></a>us_states <span class="ot">&lt;-</span> </span>
<span id="cb598-2"><a href="mapping-health-data-in-r.html#cb598-2" tabindex="-1"></a>  <span class="fu">states</span>(<span class="at">cb =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb598-3"><a href="mapping-health-data-in-r.html#cb598-3" tabindex="-1"></a>  <span class="fu">filter</span>(STUSPS <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;MI&quot;</span>, <span class="st">&quot;OH&quot;</span>, <span class="st">&quot;IN&quot;</span>, <span class="st">&quot;IL&quot;</span>, <span class="st">&quot;WI&quot;</span>, <span class="st">&quot;MN&quot;</span>, <span class="st">&quot;IA&quot;</span>, <span class="st">&quot;MO&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb598-4"><a href="mapping-health-data-in-r.html#cb598-4" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">2163</span>) <span class="co"># a coordinate reference system transformation</span></span></code></pre></div>
<pre><code>## Warning in CPL_crs_from_input(x): GDAL Message 1: CRS EPSG:2163 is deprecated.
## Its non-deprecated replacement EPSG:9311 will be used instead. To use the
## original CRS, set the OSR_USE_NON_DEPRECATED configuration option to NO.</code></pre>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="mapping-health-data-in-r.html#cb600-1" tabindex="-1"></a> <span class="co"># that is suitable for the US Midwest</span></span>
<span id="cb600-2"><a href="mapping-health-data-in-r.html#cb600-2" tabindex="-1"></a></span>
<span id="cb600-3"><a href="mapping-health-data-in-r.html#cb600-3" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb600-4"><a href="mapping-health-data-in-r.html#cb600-4" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> us_states, <span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb600-5"><a href="mapping-health-data-in-r.html#cb600-5" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb600-6"><a href="mapping-health-data-in-r.html#cb600-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Midwestern US States&quot;</span>) <span class="sc">+</span></span>
<span id="cb600-7"><a href="mapping-health-data-in-r.html#cb600-7" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb600-8"><a href="mapping-health-data-in-r.html#cb600-8" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb600-9"><a href="mapping-health-data-in-r.html#cb600-9" tabindex="-1"></a>  ) </span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>Now let’s map a few rivers and lakes in New Orleans, using the <code>rivers()</code> function from the {tigris} package.</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="mapping-health-data-in-r.html#cb601-1" tabindex="-1"></a>no_rivers <span class="ot">&lt;-</span> </span>
<span id="cb601-2"><a href="mapping-health-data-in-r.html#cb601-2" tabindex="-1"></a>  <span class="fu">linear_water</span>(<span class="at">state =</span> <span class="st">&quot;LA&quot;</span>, <span class="at">county =</span> <span class="st">&quot;Orleans&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb601-3"><a href="mapping-health-data-in-r.html#cb601-3" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">2163</span>) <span class="co"># a coordinate reference system transformation</span></span>
<span id="cb601-4"><a href="mapping-health-data-in-r.html#cb601-4" tabindex="-1"></a></span>
<span id="cb601-5"><a href="mapping-health-data-in-r.html#cb601-5" tabindex="-1"></a>no_streets <span class="ot">&lt;-</span> </span>
<span id="cb601-6"><a href="mapping-health-data-in-r.html#cb601-6" tabindex="-1"></a>  <span class="fu">roads</span>(<span class="at">state =</span> <span class="st">&quot;LA&quot;</span>, <span class="at">county =</span> <span class="st">&quot;Orleans&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb601-7"><a href="mapping-health-data-in-r.html#cb601-7" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">2163</span>) <span class="co"># a coordinate reference system transformation</span></span>
<span id="cb601-8"><a href="mapping-health-data-in-r.html#cb601-8" tabindex="-1"></a></span>
<span id="cb601-9"><a href="mapping-health-data-in-r.html#cb601-9" tabindex="-1"></a>no_water <span class="ot">&lt;-</span></span>
<span id="cb601-10"><a href="mapping-health-data-in-r.html#cb601-10" tabindex="-1"></a>  <span class="fu">area_water</span>(<span class="at">state =</span> <span class="st">&quot;LA&quot;</span>, <span class="at">county =</span> <span class="st">&quot;Orleans&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb601-11"><a href="mapping-health-data-in-r.html#cb601-11" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">2163</span>) <span class="co"># a coordinate reference system transformation</span></span>
<span id="cb601-12"><a href="mapping-health-data-in-r.html#cb601-12" tabindex="-1"></a></span>
<span id="cb601-13"><a href="mapping-health-data-in-r.html#cb601-13" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb601-14"><a href="mapping-health-data-in-r.html#cb601-14" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> no_streets, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb601-15"><a href="mapping-health-data-in-r.html#cb601-15" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> no_rivers, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb601-16"><a href="mapping-health-data-in-r.html#cb601-16" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> no_water, <span class="at">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb601-17"><a href="mapping-health-data-in-r.html#cb601-17" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb601-18"><a href="mapping-health-data-in-r.html#cb601-18" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;New Orleans Rivers and Streams&quot;</span>) <span class="sc">+</span></span>
<span id="cb601-19"><a href="mapping-health-data-in-r.html#cb601-19" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb601-20"><a href="mapping-health-data-in-r.html#cb601-20" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb601-21"><a href="mapping-health-data-in-r.html#cb601-21" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>You get the idea.
You can map all sorts of things in the United states with the {tigris} package. You can learn more about what the {tigris} package can do at <a href="https://cran.r-project.org/web/packages/tigris/vignettes/tigris.html" class="uri">https://cran.r-project.org/web/packages/tigris/vignettes/tigris.html</a>.</p>
</div>
<div id="mapping-with-openstreetmap-data" class="section level2 hasAnchor" number="30.2">
<h2><span class="header-section-number">30.2</span> Mapping with OpenStreetMap Data<a href="mapping-health-data-in-r.html#mapping-with-openstreetmap-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are a number of mapping systems and packages that allow you to visualize gospatial data with R, rather than using a dedicated GIS system like ARCGIS or QGIS. Some of these packages include <code>sf</code>, <code>tmap</code>, <code>leaflet</code>, <code>mapboxapi</code>, and <code>ggplot2</code>.
Let’s start with a simple example of mapping.
We will use some open street map data from OpenStreetMap using the <code>osmdata</code> package to make a map of Ann Arbor, Michigan.
We will use the function <code>getbb()</code> to get bounding boxes for
streets, rivers, the coordinates for the town, etc. and then display
this with {ggplot2}.
Copy and try the plot below, and (if you have visited Ann Arbor), see if it
looks familiar.
Note the new geom - geom_sf() - which is used to plot simple features (sf) objects.
Simple features are a standard way to represent spatial data in R, and the <code>osmdata</code> package provides a convenient way to access OpenStreetMap data as simple features.</p>
<p>Try to:
1. Change colors to bring out the highways, rivers, etc.
2. Try this for a town you know well, and see if this looks familiar.</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="mapping-health-data-in-r.html#cb602-1" tabindex="-1"></a>streets <span class="ot">&lt;-</span> <span class="fu">getbb</span>(<span class="st">&quot;Ann Arbor Michigan USA&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb602-2"><a href="mapping-health-data-in-r.html#cb602-2" tabindex="-1"></a>  <span class="fu">opq</span>()<span class="sc">%&gt;%</span></span>
<span id="cb602-3"><a href="mapping-health-data-in-r.html#cb602-3" tabindex="-1"></a>  <span class="fu">add_osm_feature</span>(<span class="at">key =</span> <span class="st">&quot;highway&quot;</span>, </span>
<span id="cb602-4"><a href="mapping-health-data-in-r.html#cb602-4" tabindex="-1"></a>                  <span class="at">value =</span> <span class="fu">c</span>(<span class="st">&quot;motorway&quot;</span>, <span class="st">&quot;primary&quot;</span>, </span>
<span id="cb602-5"><a href="mapping-health-data-in-r.html#cb602-5" tabindex="-1"></a>                            <span class="st">&quot;secondary&quot;</span>, <span class="st">&quot;tertiary&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb602-6"><a href="mapping-health-data-in-r.html#cb602-6" tabindex="-1"></a>  <span class="fu">osmdata_sf</span>()</span>
<span id="cb602-7"><a href="mapping-health-data-in-r.html#cb602-7" tabindex="-1"></a>streets</span>
<span id="cb602-8"><a href="mapping-health-data-in-r.html#cb602-8" tabindex="-1"></a></span>
<span id="cb602-9"><a href="mapping-health-data-in-r.html#cb602-9" tabindex="-1"></a>small_streets <span class="ot">&lt;-</span> <span class="fu">getbb</span>(<span class="st">&quot;Ann Arbor Michigan USA&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb602-10"><a href="mapping-health-data-in-r.html#cb602-10" tabindex="-1"></a>  <span class="fu">opq</span>()<span class="sc">%&gt;%</span></span>
<span id="cb602-11"><a href="mapping-health-data-in-r.html#cb602-11" tabindex="-1"></a>  <span class="fu">add_osm_feature</span>(<span class="at">key =</span> <span class="st">&quot;highway&quot;</span>, </span>
<span id="cb602-12"><a href="mapping-health-data-in-r.html#cb602-12" tabindex="-1"></a>                  <span class="at">value =</span> <span class="fu">c</span>(<span class="st">&quot;residential&quot;</span>, <span class="st">&quot;living_street&quot;</span>,</span>
<span id="cb602-13"><a href="mapping-health-data-in-r.html#cb602-13" tabindex="-1"></a>                            <span class="st">&quot;unclassified&quot;</span>,</span>
<span id="cb602-14"><a href="mapping-health-data-in-r.html#cb602-14" tabindex="-1"></a>                            <span class="st">&quot;service&quot;</span>, <span class="st">&quot;footway&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb602-15"><a href="mapping-health-data-in-r.html#cb602-15" tabindex="-1"></a>  <span class="fu">osmdata_sf</span>()</span>
<span id="cb602-16"><a href="mapping-health-data-in-r.html#cb602-16" tabindex="-1"></a></span>
<span id="cb602-17"><a href="mapping-health-data-in-r.html#cb602-17" tabindex="-1"></a>river <span class="ot">&lt;-</span> <span class="fu">getbb</span>(<span class="st">&quot;Ann Arbor Michigan USA&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb602-18"><a href="mapping-health-data-in-r.html#cb602-18" tabindex="-1"></a>  <span class="fu">opq</span>()<span class="sc">%&gt;%</span></span>
<span id="cb602-19"><a href="mapping-health-data-in-r.html#cb602-19" tabindex="-1"></a>  <span class="fu">add_osm_feature</span>(<span class="at">key =</span> <span class="st">&quot;waterway&quot;</span>, <span class="at">value =</span> <span class="st">&quot;river&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb602-20"><a href="mapping-health-data-in-r.html#cb602-20" tabindex="-1"></a>  <span class="fu">osmdata_sf</span>()</span>
<span id="cb602-21"><a href="mapping-health-data-in-r.html#cb602-21" tabindex="-1"></a></span>
<span id="cb602-22"><a href="mapping-health-data-in-r.html#cb602-22" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">getbb</span>(<span class="st">&quot;Ann Arbor Michigan USA&quot;</span>)</span>
<span id="cb602-23"><a href="mapping-health-data-in-r.html#cb602-23" tabindex="-1"></a></span>
<span id="cb602-24"><a href="mapping-health-data-in-r.html#cb602-24" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb602-25"><a href="mapping-health-data-in-r.html#cb602-25" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> streets<span class="sc">$</span>osm_lines,</span>
<span id="cb602-26"><a href="mapping-health-data-in-r.html#cb602-26" tabindex="-1"></a>          <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>,</span>
<span id="cb602-27"><a href="mapping-health-data-in-r.html#cb602-27" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb602-28"><a href="mapping-health-data-in-r.html#cb602-28" tabindex="-1"></a>          <span class="at">size =</span> .<span class="dv">6</span>,</span>
<span id="cb602-29"><a href="mapping-health-data-in-r.html#cb602-29" tabindex="-1"></a>          <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb602-30"><a href="mapping-health-data-in-r.html#cb602-30" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> small_streets<span class="sc">$</span>osm_lines,</span>
<span id="cb602-31"><a href="mapping-health-data-in-r.html#cb602-31" tabindex="-1"></a>          <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>,</span>
<span id="cb602-32"><a href="mapping-health-data-in-r.html#cb602-32" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&quot;bisque1&quot;</span>,</span>
<span id="cb602-33"><a href="mapping-health-data-in-r.html#cb602-33" tabindex="-1"></a>          <span class="at">size =</span> .<span class="dv">2</span>,</span>
<span id="cb602-34"><a href="mapping-health-data-in-r.html#cb602-34" tabindex="-1"></a>          <span class="at">alpha =</span> .<span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb602-35"><a href="mapping-health-data-in-r.html#cb602-35" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> river<span class="sc">$</span>osm_lines,</span>
<span id="cb602-36"><a href="mapping-health-data-in-r.html#cb602-36" tabindex="-1"></a>          <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>,</span>
<span id="cb602-37"><a href="mapping-health-data-in-r.html#cb602-37" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&quot;skyblue3&quot;</span>,</span>
<span id="cb602-38"><a href="mapping-health-data-in-r.html#cb602-38" tabindex="-1"></a>          <span class="at">size =</span> <span class="fl">1.5</span>,</span>
<span id="cb602-39"><a href="mapping-health-data-in-r.html#cb602-39" tabindex="-1"></a>          <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb602-40"><a href="mapping-health-data-in-r.html#cb602-40" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">83.82</span>, <span class="sc">-</span><span class="fl">83.665</span>), </span>
<span id="cb602-41"><a href="mapping-health-data-in-r.html#cb602-41" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">42.22</span>, <span class="fl">42.33</span>),</span>
<span id="cb602-42"><a href="mapping-health-data-in-r.html#cb602-42" tabindex="-1"></a>           <span class="at">expand =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb602-43"><a href="mapping-health-data-in-r.html#cb602-43" tabindex="-1"></a>  <span class="fu">theme_void</span>()<span class="sc">+</span></span>
<span id="cb602-44"><a href="mapping-health-data-in-r.html#cb602-44" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb602-45"><a href="mapping-health-data-in-r.html#cb602-45" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;gray10&quot;</span>))</span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="another-example" class="section level2 hasAnchor" number="30.3">
<h2><span class="header-section-number">30.3</span> Another Example<a href="mapping-health-data-in-r.html#another-example" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s imagine you are trying to buy a house and be able to commute to Ann Arbor.
You know that there is a tradeoff between distance and house price, and your
budget is limited. Try this out using housing prices from the American Community Survey, available from the Census Beureau, and the Mapbox Directions API to get driving times from each Census tract to downtown Ann Arbor.
We will use the {crsuggest} package to help us find the right coordinate system projection for our area, and the {mapboxapi} package to access the Mapbox Directions API.
We will use the {tidycensus} package to get Census data, and the {tigris}
package to get Census tract shapes.</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="mapping-health-data-in-r.html#cb603-1" tabindex="-1"></a><span class="fu">library</span>(mapboxapi)</span>
<span id="cb603-2"><a href="mapping-health-data-in-r.html#cb603-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb603-3"><a href="mapping-health-data-in-r.html#cb603-3" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb603-4"><a href="mapping-health-data-in-r.html#cb603-4" tabindex="-1"></a><span class="fu">library</span>(tigris)</span>
<span id="cb603-5"><a href="mapping-health-data-in-r.html#cb603-5" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb603-6"><a href="mapping-health-data-in-r.html#cb603-6" tabindex="-1"></a><span class="fu">library</span>(crsuggest)</span>
<span id="cb603-7"><a href="mapping-health-data-in-r.html#cb603-7" tabindex="-1"></a><span class="fu">options</span>(<span class="at">tigris_use_cache =</span> <span class="cn">TRUE</span>) <span class="co"># caching speeds things up later</span></span>
<span id="cb603-8"><a href="mapping-health-data-in-r.html#cb603-8" tabindex="-1"></a></span>
<span id="cb603-9"><a href="mapping-health-data-in-r.html#cb603-9" tabindex="-1"></a><span class="co"># note that you need to set up a Mapbox account and get an API key</span></span>
<span id="cb603-10"><a href="mapping-health-data-in-r.html#cb603-10" tabindex="-1"></a><span class="co"># see https://docs.mapbox.com/help/getting-started/access-tokens/</span></span>
<span id="cb603-11"><a href="mapping-health-data-in-r.html#cb603-11" tabindex="-1"></a><span class="co"># and then store this token in your .Renviron file as MAPBOX_API_KEY</span></span>
<span id="cb603-12"><a href="mapping-health-data-in-r.html#cb603-12" tabindex="-1"></a><span class="co"># then we will access it for this script</span></span>
<span id="cb603-13"><a href="mapping-health-data-in-r.html#cb603-13" tabindex="-1"></a><span class="co"># mb_access_token(Sys.getenv(&quot;MAPBOX_API_KEY&quot;),  install = TRUE)</span></span>
<span id="cb603-14"><a href="mapping-health-data-in-r.html#cb603-14" tabindex="-1"></a></span>
<span id="cb603-15"><a href="mapping-health-data-in-r.html#cb603-15" tabindex="-1"></a><span class="co"># Grab median gross house price data from the  ACS for the Ann Arbor metro</span></span>
<span id="cb603-16"><a href="mapping-health-data-in-r.html#cb603-16" tabindex="-1"></a>county_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Washtenaw&quot;</span>, <span class="st">&quot;Wayne&quot;</span>, <span class="st">&quot;Jackson&quot;</span>, <span class="st">&quot;Ingham&quot;</span>, <span class="st">&quot;Lenawee&quot;</span>, <span class="st">&quot;Monroe&quot;</span>, <span class="st">&quot;Hillsdale&quot;</span>, <span class="st">&quot;Livingston&quot;</span>, <span class="st">&quot;Oakland&quot;</span>, <span class="st">&quot;Macomb&quot;</span>)</span>
<span id="cb603-17"><a href="mapping-health-data-in-r.html#cb603-17" tabindex="-1"></a></span>
<span id="cb603-18"><a href="mapping-health-data-in-r.html#cb603-18" tabindex="-1"></a><span class="co"># note rent variable is &quot;B25064_001&quot;</span></span>
<span id="cb603-19"><a href="mapping-health-data-in-r.html#cb603-19" tabindex="-1"></a><span class="co"># can find variables by running</span></span>
<span id="cb603-20"><a href="mapping-health-data-in-r.html#cb603-20" tabindex="-1"></a><span class="co"># ACSlist &lt;- tidycensus::load_variables(2021, &quot;acs5&quot;)</span></span>
<span id="cb603-21"><a href="mapping-health-data-in-r.html#cb603-21" tabindex="-1"></a><span class="co"># then View() and search box</span></span>
<span id="cb603-22"><a href="mapping-health-data-in-r.html#cb603-22" tabindex="-1"></a>aa_median_house <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb603-23"><a href="mapping-health-data-in-r.html#cb603-23" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">&quot;tract&quot;</span>,</span>
<span id="cb603-24"><a href="mapping-health-data-in-r.html#cb603-24" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">&quot;B25077_001&quot;</span>,</span>
<span id="cb603-25"><a href="mapping-health-data-in-r.html#cb603-25" tabindex="-1"></a>  <span class="at">state =</span> <span class="st">&quot;MI&quot;</span>,</span>
<span id="cb603-26"><a href="mapping-health-data-in-r.html#cb603-26" tabindex="-1"></a>  <span class="at">county =</span> county_names,</span>
<span id="cb603-27"><a href="mapping-health-data-in-r.html#cb603-27" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2022</span>,</span>
<span id="cb603-28"><a href="mapping-health-data-in-r.html#cb603-28" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">TRUE</span></span>
<span id="cb603-29"><a href="mapping-health-data-in-r.html#cb603-29" tabindex="-1"></a>)</span>
<span id="cb603-30"><a href="mapping-health-data-in-r.html#cb603-30" tabindex="-1"></a></span>
<span id="cb603-31"><a href="mapping-health-data-in-r.html#cb603-31" tabindex="-1"></a><span class="co"># Find the right coordinate system to use; in this case we&#39;ll use 26990</span></span>
<span id="cb603-32"><a href="mapping-health-data-in-r.html#cb603-32" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">suggest_top_crs</span>(aa_median_house, <span class="at">units =</span> <span class="st">&quot;m&quot;</span>))</span>
<span id="cb603-33"><a href="mapping-health-data-in-r.html#cb603-33" tabindex="-1"></a></span>
<span id="cb603-34"><a href="mapping-health-data-in-r.html#cb603-34" tabindex="-1"></a><span class="co"># Remove water areas - there are a lot in SE Michigan! - to help ensure that a point in a</span></span>
<span id="cb603-35"><a href="mapping-health-data-in-r.html#cb603-35" tabindex="-1"></a><span class="co"># given Census tract will be routable</span></span>
<span id="cb603-36"><a href="mapping-health-data-in-r.html#cb603-36" tabindex="-1"></a><span class="co"># slow but works well</span></span>
<span id="cb603-37"><a href="mapping-health-data-in-r.html#cb603-37" tabindex="-1"></a>aa_points <span class="ot">&lt;-</span> aa_median_house <span class="sc">%&gt;%</span></span>
<span id="cb603-38"><a href="mapping-health-data-in-r.html#cb603-38" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">26990</span>) <span class="sc">%&gt;%</span></span>
<span id="cb603-39"><a href="mapping-health-data-in-r.html#cb603-39" tabindex="-1"></a>  <span class="fu">erase_water</span>(<span class="at">area_threshold =</span> <span class="fl">0.95</span>) <span class="sc">%&gt;%</span></span>
<span id="cb603-40"><a href="mapping-health-data-in-r.html#cb603-40" tabindex="-1"></a>  <span class="fu">st_point_on_surface</span>()</span></code></pre></div>
<pre><code>## Warning: st_point_on_surface assumes attributes are constant over geometries</code></pre>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="mapping-health-data-in-r.html#cb605-1" tabindex="-1"></a><span class="co"># Determine the location of downtown</span></span>
<span id="cb605-2"><a href="mapping-health-data-in-r.html#cb605-2" tabindex="-1"></a>downtown_aa <span class="ot">&lt;-</span> <span class="fu">mb_geocode</span>(<span class="st">&quot;Ann Arbor City Hall, Ann Arbor, MI&quot;</span>)</span>
<span id="cb605-3"><a href="mapping-health-data-in-r.html#cb605-3" tabindex="-1"></a></span>
<span id="cb605-4"><a href="mapping-health-data-in-r.html#cb605-4" tabindex="-1"></a><span class="co"># Use mb_matrix() to calculate driving time from all A2 Area Census tracts to downtown</span></span>
<span id="cb605-5"><a href="mapping-health-data-in-r.html#cb605-5" tabindex="-1"></a><span class="co"># slower, but more reliable than mb_directions()</span></span>
<span id="cb605-6"><a href="mapping-health-data-in-r.html#cb605-6" tabindex="-1"></a>time_to_downtown <span class="ot">&lt;-</span> <span class="fu">mb_matrix</span>(</span>
<span id="cb605-7"><a href="mapping-health-data-in-r.html#cb605-7" tabindex="-1"></a>  <span class="at">origins =</span> aa_points,</span>
<span id="cb605-8"><a href="mapping-health-data-in-r.html#cb605-8" tabindex="-1"></a>  <span class="at">destinations =</span> downtown_aa</span>
<span id="cb605-9"><a href="mapping-health-data-in-r.html#cb605-9" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb605-10"><a href="mapping-health-data-in-r.html#cb605-10" tabindex="-1"></a>  <span class="fu">as.vector</span>()</span>
<span id="cb605-11"><a href="mapping-health-data-in-r.html#cb605-11" tabindex="-1"></a></span>
<span id="cb605-12"><a href="mapping-health-data-in-r.html#cb605-12" tabindex="-1"></a><span class="co"># small problem - there are 4 more rows in a_rent vs aa_rent_points.</span></span>
<span id="cb605-13"><a href="mapping-health-data-in-r.html#cb605-13" tabindex="-1"></a><span class="co"># Remove the 4 extra points in aa_rent that are not in aa_rent_points</span></span>
<span id="cb605-14"><a href="mapping-health-data-in-r.html#cb605-14" tabindex="-1"></a><span class="co"># first reduce both to GEOIDs</span></span>
<span id="cb605-15"><a href="mapping-health-data-in-r.html#cb605-15" tabindex="-1"></a>aa_house_geoids <span class="ot">&lt;-</span> aa_median_house <span class="sc">|&gt;</span></span>
<span id="cb605-16"><a href="mapping-health-data-in-r.html#cb605-16" tabindex="-1"></a>  <span class="fu">select</span>(GEOID) <span class="sc">|&gt;</span></span>
<span id="cb605-17"><a href="mapping-health-data-in-r.html#cb605-17" tabindex="-1"></a>  <span class="fu">as.tibble</span>()</span></code></pre></div>
<pre><code>## Warning: `as.tibble()` was deprecated in tibble 2.0.0.
## ℹ Please use `as_tibble()` instead.
## ℹ The signature and semantics have changed, see `?as_tibble`.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="mapping-health-data-in-r.html#cb607-1" tabindex="-1"></a>aa_house_points_geoids <span class="ot">&lt;-</span> aa_points <span class="sc">|&gt;</span></span>
<span id="cb607-2"><a href="mapping-health-data-in-r.html#cb607-2" tabindex="-1"></a>  <span class="fu">select</span>(GEOID) <span class="sc">|&gt;</span></span>
<span id="cb607-3"><a href="mapping-health-data-in-r.html#cb607-3" tabindex="-1"></a>  <span class="fu">as.tibble</span>()</span>
<span id="cb607-4"><a href="mapping-health-data-in-r.html#cb607-4" tabindex="-1"></a></span>
<span id="cb607-5"><a href="mapping-health-data-in-r.html#cb607-5" tabindex="-1"></a><span class="co"># find the missing GEOIDs</span></span>
<span id="cb607-6"><a href="mapping-health-data-in-r.html#cb607-6" tabindex="-1"></a>missing_geoids <span class="ot">&lt;-</span> aa_house_geoids <span class="sc">|&gt;</span></span>
<span id="cb607-7"><a href="mapping-health-data-in-r.html#cb607-7" tabindex="-1"></a>  <span class="fu">select</span>(GEOID) <span class="sc">|&gt;</span></span>
<span id="cb607-8"><a href="mapping-health-data-in-r.html#cb607-8" tabindex="-1"></a>  <span class="fu">as.tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb607-9"><a href="mapping-health-data-in-r.html#cb607-9" tabindex="-1"></a>  <span class="fu">anti_join</span>(aa_house_points_geoids, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;GEOID&quot;</span> <span class="ot">=</span> <span class="st">&quot;GEOID&quot;</span>))</span>
<span id="cb607-10"><a href="mapping-health-data-in-r.html#cb607-10" tabindex="-1"></a></span>
<span id="cb607-11"><a href="mapping-health-data-in-r.html#cb607-11" tabindex="-1"></a><span class="co"># then filter these out of aa_rent</span></span>
<span id="cb607-12"><a href="mapping-health-data-in-r.html#cb607-12" tabindex="-1"></a>aa_median_house <span class="ot">&lt;-</span> aa_median_house <span class="sc">|&gt;</span></span>
<span id="cb607-13"><a href="mapping-health-data-in-r.html#cb607-13" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>GEOID <span class="sc">%in%</span> missing_geoids<span class="sc">$</span>GEOID)</span>
<span id="cb607-14"><a href="mapping-health-data-in-r.html#cb607-14" tabindex="-1"></a></span>
<span id="cb607-15"><a href="mapping-health-data-in-r.html#cb607-15" tabindex="-1"></a><span class="co"># now can add time to aa_rent</span></span>
<span id="cb607-16"><a href="mapping-health-data-in-r.html#cb607-16" tabindex="-1"></a>aa_median_house<span class="sc">$</span>time <span class="ot">&lt;-</span> time_to_downtown</span>
<span id="cb607-17"><a href="mapping-health-data-in-r.html#cb607-17" tabindex="-1"></a></span>
<span id="cb607-18"><a href="mapping-health-data-in-r.html#cb607-18" tabindex="-1"></a><span class="co"># Visualize how price varies by travel time from downtown with ggplot2</span></span>
<span id="cb607-19"><a href="mapping-health-data-in-r.html#cb607-19" tabindex="-1"></a><span class="fu">ggplot</span>(aa_median_house, <span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb607-20"><a href="mapping-health-data-in-r.html#cb607-20" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb607-21"><a href="mapping-health-data-in-r.html#cb607-21" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb607-22"><a href="mapping-health-data-in-r.html#cb607-22" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb607-23"><a href="mapping-health-data-in-r.html#cb607-23" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Travel time to downtown Ann Arbor (in minutes)&quot;</span>,</span>
<span id="cb607-24"><a href="mapping-health-data-in-r.html#cb607-24" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Median Home Value in Census tract&quot;</span>,</span>
<span id="cb607-25"><a href="mapping-health-data-in-r.html#cb607-25" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Median Home value by drive-time to </span><span class="sc">\n</span><span class="st">downtown Ann Arbor&quot;</span>,</span>
<span id="cb607-26"><a href="mapping-health-data-in-r.html#cb607-26" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Census tracts in the ten-county Ann Arbor metropolitan area&quot;</span>,</span>
<span id="cb607-27"><a href="mapping-health-data-in-r.html#cb607-27" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data sources: Mapbox Directions API, 2018-2022 ACS&quot;</span></span>
<span id="cb607-28"><a href="mapping-health-data-in-r.html#cb607-28" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb607-29"><a href="mapping-health-data-in-r.html#cb607-29" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 116 rows containing non-finite outside the scale range
## (`stat_smooth()`).</code></pre>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="mapping-population-by-county" class="section level2 hasAnchor" number="30.4">
<h2><span class="header-section-number">30.4</span> Mapping Population By County<a href="mapping-health-data-in-r.html#mapping-population-by-county" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can also use R to map population data by county. We will zoom out to the entire state of Michigan.
This will require data from the US Census Bureau, which we can get using the {tidycensus} package.
You can search for data fields at the census website at
<a href="https://data.census.gov/table/" class="uri">https://data.census.gov/table/</a>, or use the <code>load_variables()</code> function in the {tidycensus} package. This one is a bit fancier, as it links a county map
with an interactive plot of income by county, using the {ggiraph} package.
Run the code below, then zoom it (with the zoom button at top left of the Plots
window) to see the details. Hover over each county to see the name and its
location on the plot.
See if you can find Wayne, Washtenaw, Keewenaw, and Leelenau counties.
Which counties have the highest and lowest incomes? Which have the most income disparity (wide CI bars)?</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="mapping-health-data-in-r.html#cb609-1" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb609-2"><a href="mapping-health-data-in-r.html#cb609-2" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb609-3"><a href="mapping-health-data-in-r.html#cb609-3" tabindex="-1"></a><span class="co">#library(mapboxapi)</span></span>
<span id="cb609-4"><a href="mapping-health-data-in-r.html#cb609-4" tabindex="-1"></a><span class="fu">library</span>(mapgl)</span>
<span id="cb609-5"><a href="mapping-health-data-in-r.html#cb609-5" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb609-6"><a href="mapping-health-data-in-r.html#cb609-6" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb609-7"><a href="mapping-health-data-in-r.html#cb609-7" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb609-8"><a href="mapping-health-data-in-r.html#cb609-8" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb609-9"><a href="mapping-health-data-in-r.html#cb609-9" tabindex="-1"></a></span>
<span id="cb609-10"><a href="mapping-health-data-in-r.html#cb609-10" tabindex="-1"></a><span class="co"># you need to set up a Census API key</span></span>
<span id="cb609-11"><a href="mapping-health-data-in-r.html#cb609-11" tabindex="-1"></a><span class="co"># go to the Developers website https://www.census.gov/data/developers.html</span></span>
<span id="cb609-12"><a href="mapping-health-data-in-r.html#cb609-12" tabindex="-1"></a><span class="co"># then click on the button for &quot;Request a Key&quot;</span></span>
<span id="cb609-13"><a href="mapping-health-data-in-r.html#cb609-13" tabindex="-1"></a><span class="co"># you will need to create a free account</span></span>
<span id="cb609-14"><a href="mapping-health-data-in-r.html#cb609-14" tabindex="-1"></a><span class="co"># then you can request a key</span></span>
<span id="cb609-15"><a href="mapping-health-data-in-r.html#cb609-15" tabindex="-1"></a><span class="co"># it will be emailed to you</span></span>
<span id="cb609-16"><a href="mapping-health-data-in-r.html#cb609-16" tabindex="-1"></a><span class="co"># Save this key in your .Renviron file as CENSUS_API_KEY</span></span>
<span id="cb609-17"><a href="mapping-health-data-in-r.html#cb609-17" tabindex="-1"></a></span>
<span id="cb609-18"><a href="mapping-health-data-in-r.html#cb609-18" tabindex="-1"></a><span class="co"># Set your Census API key in the code</span></span>
<span id="cb609-19"><a href="mapping-health-data-in-r.html#cb609-19" tabindex="-1"></a><span class="co"># census_api_key(&quot;YOUR_API_KEY_HERE&quot;, install = TRUE)</span></span>
<span id="cb609-20"><a href="mapping-health-data-in-r.html#cb609-20" tabindex="-1"></a></span>
<span id="cb609-21"><a href="mapping-health-data-in-r.html#cb609-21" tabindex="-1"></a></span>
<span id="cb609-22"><a href="mapping-health-data-in-r.html#cb609-22" tabindex="-1"></a><span class="co"># Get population data by county for Michigan</span></span>
<span id="cb609-23"><a href="mapping-health-data-in-r.html#cb609-23" tabindex="-1"></a>michigan_population <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb609-24"><a href="mapping-health-data-in-r.html#cb609-24" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb609-25"><a href="mapping-health-data-in-r.html#cb609-25" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">&quot;B01003_001&quot;</span>, <span class="co"># Total population variable</span></span>
<span id="cb609-26"><a href="mapping-health-data-in-r.html#cb609-26" tabindex="-1"></a>  <span class="at">state =</span> <span class="st">&quot;MI&quot;</span>,</span>
<span id="cb609-27"><a href="mapping-health-data-in-r.html#cb609-27" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2022</span>, <span class="co"># Most recent available year</span></span>
<span id="cb609-28"><a href="mapping-health-data-in-r.html#cb609-28" tabindex="-1"></a>  <span class="at">survey =</span> <span class="st">&quot;acs5&quot;</span>,</span>
<span id="cb609-29"><a href="mapping-health-data-in-r.html#cb609-29" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># Include geographic boundaries</span></span>
<span id="cb609-30"><a href="mapping-health-data-in-r.html#cb609-30" tabindex="-1"></a>  <span class="at">cache_table =</span> <span class="cn">TRUE</span></span>
<span id="cb609-31"><a href="mapping-health-data-in-r.html#cb609-31" tabindex="-1"></a>)</span>
<span id="cb609-32"><a href="mapping-health-data-in-r.html#cb609-32" tabindex="-1"></a></span>
<span id="cb609-33"><a href="mapping-health-data-in-r.html#cb609-33" tabindex="-1"></a><span class="co"># Clean and prepare the data</span></span>
<span id="cb609-34"><a href="mapping-health-data-in-r.html#cb609-34" tabindex="-1"></a>michigan_population <span class="ot">&lt;-</span> michigan_population <span class="sc">%&gt;%</span></span>
<span id="cb609-35"><a href="mapping-health-data-in-r.html#cb609-35" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">population =</span> estimate) <span class="sc">%&gt;%</span></span>
<span id="cb609-36"><a href="mapping-health-data-in-r.html#cb609-36" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb609-37"><a href="mapping-health-data-in-r.html#cb609-37" tabindex="-1"></a>    <span class="at">county_name =</span> <span class="fu">gsub</span>(<span class="st">&quot; County, Michigan&quot;</span>, <span class="st">&quot;&quot;</span>, NAME),</span>
<span id="cb609-38"><a href="mapping-health-data-in-r.html#cb609-38" tabindex="-1"></a>    <span class="co"># Create population categories for better visualization</span></span>
<span id="cb609-39"><a href="mapping-health-data-in-r.html#cb609-39" tabindex="-1"></a>    <span class="at">pop_category =</span> <span class="fu">case_when</span>(</span>
<span id="cb609-40"><a href="mapping-health-data-in-r.html#cb609-40" tabindex="-1"></a>      population <span class="sc">&lt;</span> <span class="dv">50000</span> <span class="sc">~</span> <span class="st">&quot;&lt; 50K&quot;</span>,</span>
<span id="cb609-41"><a href="mapping-health-data-in-r.html#cb609-41" tabindex="-1"></a>      population <span class="sc">&lt;</span> <span class="dv">100000</span> <span class="sc">~</span> <span class="st">&quot;50K - 100K&quot;</span>,</span>
<span id="cb609-42"><a href="mapping-health-data-in-r.html#cb609-42" tabindex="-1"></a>      population <span class="sc">&lt;</span> <span class="dv">250000</span> <span class="sc">~</span> <span class="st">&quot;100K - 250K&quot;</span>,</span>
<span id="cb609-43"><a href="mapping-health-data-in-r.html#cb609-43" tabindex="-1"></a>      population <span class="sc">&lt;</span> <span class="dv">500000</span> <span class="sc">~</span> <span class="st">&quot;250K - 500K&quot;</span>,</span>
<span id="cb609-44"><a href="mapping-health-data-in-r.html#cb609-44" tabindex="-1"></a>      population <span class="sc">&gt;=</span> <span class="dv">500000</span> <span class="sc">~</span> <span class="st">&quot;500K+&quot;</span></span>
<span id="cb609-45"><a href="mapping-health-data-in-r.html#cb609-45" tabindex="-1"></a>    ),</span>
<span id="cb609-46"><a href="mapping-health-data-in-r.html#cb609-46" tabindex="-1"></a>    <span class="at">pop_category =</span> <span class="fu">factor</span>(pop_category,</span>
<span id="cb609-47"><a href="mapping-health-data-in-r.html#cb609-47" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb609-48"><a href="mapping-health-data-in-r.html#cb609-48" tabindex="-1"></a>        <span class="st">&quot;&lt; 50K&quot;</span>, <span class="st">&quot;50K - 100K&quot;</span>, <span class="st">&quot;100K - 250K&quot;</span>,</span>
<span id="cb609-49"><a href="mapping-health-data-in-r.html#cb609-49" tabindex="-1"></a>        <span class="st">&quot;250K - 500K&quot;</span>, <span class="st">&quot;500K+&quot;</span></span>
<span id="cb609-50"><a href="mapping-health-data-in-r.html#cb609-50" tabindex="-1"></a>      )</span>
<span id="cb609-51"><a href="mapping-health-data-in-r.html#cb609-51" tabindex="-1"></a>    )</span>
<span id="cb609-52"><a href="mapping-health-data-in-r.html#cb609-52" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb609-53"><a href="mapping-health-data-in-r.html#cb609-53" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(population))</span>
<span id="cb609-54"><a href="mapping-health-data-in-r.html#cb609-54" tabindex="-1"></a></span>
<span id="cb609-55"><a href="mapping-health-data-in-r.html#cb609-55" tabindex="-1"></a><span class="co"># Transform to appropriate CRS for Michigan</span></span>
<span id="cb609-56"><a href="mapping-health-data-in-r.html#cb609-56" tabindex="-1"></a>michigan_population <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(michigan_population, <span class="at">crs =</span> <span class="dv">3857</span>)</span>
<span id="cb609-57"><a href="mapping-health-data-in-r.html#cb609-57" tabindex="-1"></a></span>
<span id="cb609-58"><a href="mapping-health-data-in-r.html#cb609-58" tabindex="-1"></a><span class="co"># Create choropleth map using mapbox</span></span>
<span id="cb609-59"><a href="mapping-health-data-in-r.html#cb609-59" tabindex="-1"></a></span>
<span id="cb609-60"><a href="mapping-health-data-in-r.html#cb609-60" tabindex="-1"></a><span class="co"># plot(michigan_population[&quot;population&quot;])</span></span>
<span id="cb609-61"><a href="mapping-health-data-in-r.html#cb609-61" tabindex="-1"></a></span>
<span id="cb609-62"><a href="mapping-health-data-in-r.html#cb609-62" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> michigan_population, <span class="fu">aes</span>(<span class="at">fill =</span> population)) <span class="sc">+</span></span>
<span id="cb609-63"><a href="mapping-health-data-in-r.html#cb609-63" tabindex="-1"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb609-64"><a href="mapping-health-data-in-r.html#cb609-64" tabindex="-1"></a>  <span class="fu">scale_fill_distiller</span>(</span>
<span id="cb609-65"><a href="mapping-health-data-in-r.html#cb609-65" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">&quot;RdPu&quot;</span>,</span>
<span id="cb609-66"><a href="mapping-health-data-in-r.html#cb609-66" tabindex="-1"></a>    <span class="at">direction =</span> <span class="dv">1</span></span>
<span id="cb609-67"><a href="mapping-health-data-in-r.html#cb609-67" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb609-68"><a href="mapping-health-data-in-r.html#cb609-68" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb609-69"><a href="mapping-health-data-in-r.html#cb609-69" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Michigan Population by County, 2022&quot;</span>,</span>
<span id="cb609-70"><a href="mapping-health-data-in-r.html#cb609-70" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data source: 2022 1-year ACS, US Census Bureau&quot;</span>,</span>
<span id="cb609-71"><a href="mapping-health-data-in-r.html#cb609-71" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;ACS estimate&quot;</span></span>
<span id="cb609-72"><a href="mapping-health-data-in-r.html#cb609-72" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb609-73"><a href="mapping-health-data-in-r.html#cb609-73" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="mapping-health-data-in-r.html#cb610-1" tabindex="-1"></a><span class="co"># linked maps</span></span>
<span id="cb610-2"><a href="mapping-health-data-in-r.html#cb610-2" tabindex="-1"></a><span class="fu">library</span>(tigris)</span>
<span id="cb610-3"><a href="mapping-health-data-in-r.html#cb610-3" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb610-4"><a href="mapping-health-data-in-r.html#cb610-4" tabindex="-1"></a><span class="fu">library</span>(ggiraph)</span>
<span id="cb610-5"><a href="mapping-health-data-in-r.html#cb610-5" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb610-6"><a href="mapping-health-data-in-r.html#cb610-6" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb610-7"><a href="mapping-health-data-in-r.html#cb610-7" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb610-8"><a href="mapping-health-data-in-r.html#cb610-8" tabindex="-1"></a></span>
<span id="cb610-9"><a href="mapping-health-data-in-r.html#cb610-9" tabindex="-1"></a></span>
<span id="cb610-10"><a href="mapping-health-data-in-r.html#cb610-10" tabindex="-1"></a></span>
<span id="cb610-11"><a href="mapping-health-data-in-r.html#cb610-11" tabindex="-1"></a>mi_income <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb610-12"><a href="mapping-health-data-in-r.html#cb610-12" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb610-13"><a href="mapping-health-data-in-r.html#cb610-13" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">&quot;B19013_001&quot;</span>,</span>
<span id="cb610-14"><a href="mapping-health-data-in-r.html#cb610-14" tabindex="-1"></a>  <span class="at">state =</span> <span class="st">&quot;MI&quot;</span>,</span>
<span id="cb610-15"><a href="mapping-health-data-in-r.html#cb610-15" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2022</span>,</span>
<span id="cb610-16"><a href="mapping-health-data-in-r.html#cb610-16" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">TRUE</span></span>
<span id="cb610-17"><a href="mapping-health-data-in-r.html#cb610-17" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb610-18"><a href="mapping-health-data-in-r.html#cb610-18" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NAME =</span> <span class="fu">str_remove</span>(NAME, <span class="st">&quot; County, Michigan&quot;</span>))</span>
<span id="cb610-19"><a href="mapping-health-data-in-r.html#cb610-19" tabindex="-1"></a></span>
<span id="cb610-20"><a href="mapping-health-data-in-r.html#cb610-20" tabindex="-1"></a>mi_map <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mi_income, <span class="fu">aes</span>(<span class="at">fill =</span> estimate)) <span class="sc">+</span></span>
<span id="cb610-21"><a href="mapping-health-data-in-r.html#cb610-21" tabindex="-1"></a>  <span class="fu">geom_sf_interactive</span>(<span class="fu">aes</span>(<span class="at">data_id =</span> GEOID, <span class="at">tooltip =</span> estimate)) <span class="sc">+</span></span>
<span id="cb610-22"><a href="mapping-health-data-in-r.html#cb610-22" tabindex="-1"></a>  <span class="fu">scale_fill_distiller</span>(</span>
<span id="cb610-23"><a href="mapping-health-data-in-r.html#cb610-23" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">&quot;Blues&quot;</span>,</span>
<span id="cb610-24"><a href="mapping-health-data-in-r.html#cb610-24" tabindex="-1"></a>    <span class="at">direction =</span> <span class="dv">1</span>,</span>
<span id="cb610-25"><a href="mapping-health-data-in-r.html#cb610-25" tabindex="-1"></a>    <span class="at">guide =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb610-26"><a href="mapping-health-data-in-r.html#cb610-26" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb610-27"><a href="mapping-health-data-in-r.html#cb610-27" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb610-28"><a href="mapping-health-data-in-r.html#cb610-28" tabindex="-1"></a></span>
<span id="cb610-29"><a href="mapping-health-data-in-r.html#cb610-29" tabindex="-1"></a>mi_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mi_income, <span class="fu">aes</span>(</span>
<span id="cb610-30"><a href="mapping-health-data-in-r.html#cb610-30" tabindex="-1"></a>  <span class="at">x =</span> estimate, <span class="at">y =</span> <span class="fu">reorder</span>(NAME, estimate),</span>
<span id="cb610-31"><a href="mapping-health-data-in-r.html#cb610-31" tabindex="-1"></a>  <span class="at">fill =</span> estimate</span>
<span id="cb610-32"><a href="mapping-health-data-in-r.html#cb610-32" tabindex="-1"></a>)) <span class="sc">+</span></span>
<span id="cb610-33"><a href="mapping-health-data-in-r.html#cb610-33" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> estimate <span class="sc">-</span> moe, <span class="at">xmax =</span> estimate <span class="sc">+</span> moe)) <span class="sc">+</span></span>
<span id="cb610-34"><a href="mapping-health-data-in-r.html#cb610-34" tabindex="-1"></a>  <span class="fu">geom_point_interactive</span>(</span>
<span id="cb610-35"><a href="mapping-health-data-in-r.html#cb610-35" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb610-36"><a href="mapping-health-data-in-r.html#cb610-36" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">data_id =</span> GEOID)</span>
<span id="cb610-37"><a href="mapping-health-data-in-r.html#cb610-37" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb610-38"><a href="mapping-health-data-in-r.html#cb610-38" tabindex="-1"></a>  <span class="fu">scale_fill_distiller</span>(</span>
<span id="cb610-39"><a href="mapping-health-data-in-r.html#cb610-39" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">&quot;Blues&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>,</span>
<span id="cb610-40"><a href="mapping-health-data-in-r.html#cb610-40" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">label_dollar</span>()</span>
<span id="cb610-41"><a href="mapping-health-data-in-r.html#cb610-41" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb610-42"><a href="mapping-health-data-in-r.html#cb610-42" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb610-43"><a href="mapping-health-data-in-r.html#cb610-43" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb610-44"><a href="mapping-health-data-in-r.html#cb610-44" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Household income by county in Michigan&quot;</span>,</span>
<span id="cb610-45"><a href="mapping-health-data-in-r.html#cb610-45" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;2016-2020 American Community Survey&quot;</span>,</span>
<span id="cb610-46"><a href="mapping-health-data-in-r.html#cb610-46" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb610-47"><a href="mapping-health-data-in-r.html#cb610-47" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;ACS estimate (bars represent margin of error)&quot;</span>,</span>
<span id="cb610-48"><a href="mapping-health-data-in-r.html#cb610-48" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;ACS estimate&quot;</span></span>
<span id="cb610-49"><a href="mapping-health-data-in-r.html#cb610-49" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb610-50"><a href="mapping-health-data-in-r.html#cb610-50" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>(<span class="at">base_size =</span> <span class="dv">8</span>)</span>
<span id="cb610-51"><a href="mapping-health-data-in-r.html#cb610-51" tabindex="-1"></a></span>
<span id="cb610-52"><a href="mapping-health-data-in-r.html#cb610-52" tabindex="-1"></a><span class="fu">girafe</span>(<span class="at">ggobj =</span> mi_map <span class="sc">+</span> mi_plot, <span class="at">width_svg =</span> <span class="dv">12</span>, <span class="at">height_svg =</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb610-53"><a href="mapping-health-data-in-r.html#cb610-53" tabindex="-1"></a>  <span class="fu">girafe_options</span>(<span class="fu">opts_hover</span>(<span class="at">css =</span> <span class="st">&quot;fill:red;&quot;</span>))</span></code></pre></div>
</div>
<div id="finding-a-census-field" class="section level2 hasAnchor" number="30.5">
<h2><span class="header-section-number">30.5</span> Finding a Census Field<a href="mapping-health-data-in-r.html#finding-a-census-field" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="mapping-health-data-in-r.html#cb611-1" tabindex="-1"></a><span class="co"># You can search for variables by running</span></span>
<span id="cb611-2"><a href="mapping-health-data-in-r.html#cb611-2" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">load_variables</span>(<span class="dv">2023</span>, <span class="st">&quot;acs5&quot;</span>, <span class="at">cache =</span> <span class="cn">TRUE</span>)</span>
<span id="cb611-3"><a href="mapping-health-data-in-r.html#cb611-3" tabindex="-1"></a><span class="co"># View(vars)</span></span></code></pre></div>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="mapping-health-data-in-r.html#cb612-1" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb612-2"><a href="mapping-health-data-in-r.html#cb612-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb612-3"><a href="mapping-health-data-in-r.html#cb612-3" tabindex="-1"></a><span class="fu">library</span>(crsuggest)</span>
<span id="cb612-4"><a href="mapping-health-data-in-r.html#cb612-4" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb612-5"><a href="mapping-health-data-in-r.html#cb612-5" tabindex="-1"></a></span>
<span id="cb612-6"><a href="mapping-health-data-in-r.html#cb612-6" tabindex="-1"></a>    <span class="co"># Example: Get median household income data for tracts in a specific county with geometry</span></span>
<span id="cb612-7"><a href="mapping-health-data-in-r.html#cb612-7" tabindex="-1"></a>    data_sf <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb612-8"><a href="mapping-health-data-in-r.html#cb612-8" tabindex="-1"></a>      <span class="at">state =</span> <span class="st">&quot;MI&quot;</span>,</span>
<span id="cb612-9"><a href="mapping-health-data-in-r.html#cb612-9" tabindex="-1"></a>      <span class="at">county =</span> <span class="st">&quot;Washtenaw&quot;</span>,</span>
<span id="cb612-10"><a href="mapping-health-data-in-r.html#cb612-10" tabindex="-1"></a>      <span class="at">geography =</span> <span class="st">&quot;tract&quot;</span>,</span>
<span id="cb612-11"><a href="mapping-health-data-in-r.html#cb612-11" tabindex="-1"></a>      <span class="at">variables =</span> <span class="st">&quot;B19013_001&quot;</span>, <span class="co"># Median household income</span></span>
<span id="cb612-12"><a href="mapping-health-data-in-r.html#cb612-12" tabindex="-1"></a>      <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># includes shapefiles</span></span>
<span id="cb612-13"><a href="mapping-health-data-in-r.html#cb612-13" tabindex="-1"></a>      <span class="at">year =</span> <span class="dv">2023</span></span>
<span id="cb612-14"><a href="mapping-health-data-in-r.html#cb612-14" tabindex="-1"></a>    )</span>
<span id="cb612-15"><a href="mapping-health-data-in-r.html#cb612-15" tabindex="-1"></a></span>
<span id="cb612-16"><a href="mapping-health-data-in-r.html#cb612-16" tabindex="-1"></a><span class="co"># get top crs (coordinate reference system</span></span>
<span id="cb612-17"><a href="mapping-health-data-in-r.html#cb612-17" tabindex="-1"></a>wc_crs <span class="ot">&lt;-</span> <span class="fu">suggest_top_crs</span>(data_sf)</span>
<span id="cb612-18"><a href="mapping-health-data-in-r.html#cb612-18" tabindex="-1"></a></span>
<span id="cb612-19"><a href="mapping-health-data-in-r.html#cb612-19" tabindex="-1"></a></span>
<span id="cb612-20"><a href="mapping-health-data-in-r.html#cb612-20" tabindex="-1"></a> <span class="co"># Plotting the data</span></span>
<span id="cb612-21"><a href="mapping-health-data-in-r.html#cb612-21" tabindex="-1"></a>    data_sf <span class="sc">%&gt;%</span></span>
<span id="cb612-22"><a href="mapping-health-data-in-r.html#cb612-22" tabindex="-1"></a>      <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> estimate)) <span class="sc">+</span></span>
<span id="cb612-23"><a href="mapping-health-data-in-r.html#cb612-23" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> <span class="co"># &#39;color = NA&#39; removes the outline of the polygons</span></span>
<span id="cb612-24"><a href="mapping-health-data-in-r.html#cb612-24" tabindex="-1"></a>      <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>) <span class="sc">+</span> <span class="co"># Example color scale</span></span>
<span id="cb612-25"><a href="mapping-health-data-in-r.html#cb612-25" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Median Household Income by Census Tract&quot;</span>,</span>
<span id="cb612-26"><a href="mapping-health-data-in-r.html#cb612-26" tabindex="-1"></a>           <span class="at">subtitle =</span> <span class="st">&quot;Washtenaw County, 2023 ACS Estimates&quot;</span>) <span class="sc">+</span></span>
<span id="cb612-27"><a href="mapping-health-data-in-r.html#cb612-27" tabindex="-1"></a>      <span class="fu">coord_sf</span>(<span class="at">crs =</span> wc_crs) <span class="sc">+</span></span>
<span id="cb612-28"><a href="mapping-health-data-in-r.html#cb612-28" tabindex="-1"></a>      <span class="fu">theme_void</span>() <span class="co"># Removes axes and grid lines for a cleaner map</span></span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div id="mapping-commute-times" class="section level3 hasAnchor" number="30.5.1">
<h3><span class="header-section-number">30.5.1</span> Mapping Commute Times<a href="mapping-health-data-in-r.html#mapping-commute-times" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="mapping-health-data-in-r.html#cb613-1" tabindex="-1"></a>data_sf <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb613-2"><a href="mapping-health-data-in-r.html#cb613-2" tabindex="-1"></a>      <span class="at">state =</span> <span class="st">&quot;CA&quot;</span>,</span>
<span id="cb613-3"><a href="mapping-health-data-in-r.html#cb613-3" tabindex="-1"></a>      <span class="at">county =</span> <span class="st">&quot;Los Angeles&quot;</span>,</span>
<span id="cb613-4"><a href="mapping-health-data-in-r.html#cb613-4" tabindex="-1"></a>      <span class="at">geography =</span> <span class="st">&quot;tract&quot;</span>,</span>
<span id="cb613-5"><a href="mapping-health-data-in-r.html#cb613-5" tabindex="-1"></a>      <span class="at">variables =</span> <span class="st">&quot;B08134_020&quot;</span>, <span class="co"># Commute &gt; 1 hour by car </span></span>
<span id="cb613-6"><a href="mapping-health-data-in-r.html#cb613-6" tabindex="-1"></a>      <span class="co">#&quot;B08128_061&quot;, # Work from Home </span></span>
<span id="cb613-7"><a href="mapping-health-data-in-r.html#cb613-7" tabindex="-1"></a>      <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># includes shapefiles</span></span>
<span id="cb613-8"><a href="mapping-health-data-in-r.html#cb613-8" tabindex="-1"></a>      <span class="at">year =</span> <span class="dv">2023</span></span>
<span id="cb613-9"><a href="mapping-health-data-in-r.html#cb613-9" tabindex="-1"></a>    )</span>
<span id="cb613-10"><a href="mapping-health-data-in-r.html#cb613-10" tabindex="-1"></a></span>
<span id="cb613-11"><a href="mapping-health-data-in-r.html#cb613-11" tabindex="-1"></a>  data_sf <span class="sc">%&gt;%</span></span>
<span id="cb613-12"><a href="mapping-health-data-in-r.html#cb613-12" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> estimate)) <span class="sc">+</span></span>
<span id="cb613-13"><a href="mapping-health-data-in-r.html#cb613-13" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> <span class="co"># &#39;color = NA&#39; removes the outline of the polygons</span></span>
<span id="cb613-14"><a href="mapping-health-data-in-r.html#cb613-14" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>) <span class="sc">+</span> <span class="co"># Example color scale</span></span>
<span id="cb613-15"><a href="mapping-health-data-in-r.html#cb613-15" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number Who Commute &gt; 1 hour by Car by Census Tract&quot;</span>,</span>
<span id="cb613-16"><a href="mapping-health-data-in-r.html#cb613-16" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;Los Angeles County, 2023 ACS Estimates&quot;</span>) <span class="sc">+</span></span>
<span id="cb613-17"><a href="mapping-health-data-in-r.html#cb613-17" tabindex="-1"></a>    <span class="fu">coord_sf</span>(<span class="at">crs =</span> wc_crs) <span class="sc">+</span></span>
<span id="cb613-18"><a href="mapping-health-data-in-r.html#cb613-18" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="co"># Removes axes and grid lines for a cleaner map</span></span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="mapping-health-data-in-r.html#cb614-1" tabindex="-1"></a>data_sf <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb614-2"><a href="mapping-health-data-in-r.html#cb614-2" tabindex="-1"></a>      <span class="at">state =</span> <span class="st">&quot;CT&quot;</span>,</span>
<span id="cb614-3"><a href="mapping-health-data-in-r.html#cb614-3" tabindex="-1"></a>      <span class="at">county =</span> <span class="st">&quot;Fairfield&quot;</span>,</span>
<span id="cb614-4"><a href="mapping-health-data-in-r.html#cb614-4" tabindex="-1"></a>      <span class="at">geography =</span> <span class="st">&quot;tract&quot;</span>,</span>
<span id="cb614-5"><a href="mapping-health-data-in-r.html#cb614-5" tabindex="-1"></a>      <span class="at">variables =</span> <span class="st">&quot;B08134_020&quot;</span>, <span class="co"># Commute &gt; 1 hour by car </span></span>
<span id="cb614-6"><a href="mapping-health-data-in-r.html#cb614-6" tabindex="-1"></a>      <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># includes shapefiles</span></span>
<span id="cb614-7"><a href="mapping-health-data-in-r.html#cb614-7" tabindex="-1"></a>      <span class="at">year =</span> <span class="dv">2021</span></span>
<span id="cb614-8"><a href="mapping-health-data-in-r.html#cb614-8" tabindex="-1"></a>    )</span>
<span id="cb614-9"><a href="mapping-health-data-in-r.html#cb614-9" tabindex="-1"></a></span>
<span id="cb614-10"><a href="mapping-health-data-in-r.html#cb614-10" tabindex="-1"></a>  data_sf <span class="sc">%&gt;%</span></span>
<span id="cb614-11"><a href="mapping-health-data-in-r.html#cb614-11" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> estimate)) <span class="sc">+</span></span>
<span id="cb614-12"><a href="mapping-health-data-in-r.html#cb614-12" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> <span class="co"># &#39;color = NA&#39; removes the outline of the polygons</span></span>
<span id="cb614-13"><a href="mapping-health-data-in-r.html#cb614-13" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>) <span class="sc">+</span> <span class="co"># Example color scale</span></span>
<span id="cb614-14"><a href="mapping-health-data-in-r.html#cb614-14" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number Who Commute &gt; 1 hour by Car by Census Tract&quot;</span>,</span>
<span id="cb614-15"><a href="mapping-health-data-in-r.html#cb614-15" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;Fairfield County, CT, 2023 ACS Estimates&quot;</span>) <span class="sc">+</span></span>
<span id="cb614-16"><a href="mapping-health-data-in-r.html#cb614-16" tabindex="-1"></a>    <span class="fu">coord_sf</span>(<span class="at">crs =</span> wc_crs) <span class="sc">+</span></span>
<span id="cb614-17"><a href="mapping-health-data-in-r.html#cb614-17" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="co"># Removes axes and grid lines for a cleaner map</span></span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="mapping-work-from-home" class="section level3 hasAnchor" number="30.5.2">
<h3><span class="header-section-number">30.5.2</span> Mapping Work From Home<a href="mapping-health-data-in-r.html#mapping-work-from-home" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="mapping-health-data-in-r.html#cb615-1" tabindex="-1"></a>data_sf <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb615-2"><a href="mapping-health-data-in-r.html#cb615-2" tabindex="-1"></a>      <span class="at">state =</span> <span class="st">&quot;NY&quot;</span>,</span>
<span id="cb615-3"><a href="mapping-health-data-in-r.html#cb615-3" tabindex="-1"></a>      <span class="at">county =</span> <span class="st">&quot;New York&quot;</span>,</span>
<span id="cb615-4"><a href="mapping-health-data-in-r.html#cb615-4" tabindex="-1"></a>      <span class="at">geography =</span> <span class="st">&quot;tract&quot;</span>,</span>
<span id="cb615-5"><a href="mapping-health-data-in-r.html#cb615-5" tabindex="-1"></a>      <span class="at">variables =</span> <span class="st">&quot;B08128_061&quot;</span>, <span class="co"># Work from Home </span></span>
<span id="cb615-6"><a href="mapping-health-data-in-r.html#cb615-6" tabindex="-1"></a>      <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># includes shapefiles</span></span>
<span id="cb615-7"><a href="mapping-health-data-in-r.html#cb615-7" tabindex="-1"></a>      <span class="at">year =</span> <span class="dv">2023</span></span>
<span id="cb615-8"><a href="mapping-health-data-in-r.html#cb615-8" tabindex="-1"></a>    )</span>
<span id="cb615-9"><a href="mapping-health-data-in-r.html#cb615-9" tabindex="-1"></a></span>
<span id="cb615-10"><a href="mapping-health-data-in-r.html#cb615-10" tabindex="-1"></a>  data_sf <span class="sc">%&gt;%</span></span>
<span id="cb615-11"><a href="mapping-health-data-in-r.html#cb615-11" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> estimate)) <span class="sc">+</span></span>
<span id="cb615-12"><a href="mapping-health-data-in-r.html#cb615-12" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> <span class="co"># &#39;color = NA&#39; removes the outline of the polygons</span></span>
<span id="cb615-13"><a href="mapping-health-data-in-r.html#cb615-13" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>) <span class="sc">+</span> <span class="co"># Example color scale</span></span>
<span id="cb615-14"><a href="mapping-health-data-in-r.html#cb615-14" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number Who Work From Home by Census Tract&quot;</span>,</span>
<span id="cb615-15"><a href="mapping-health-data-in-r.html#cb615-15" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;New York County, 2023 ACS Estimates&quot;</span>) <span class="sc">+</span></span>
<span id="cb615-16"><a href="mapping-health-data-in-r.html#cb615-16" tabindex="-1"></a>    <span class="fu">coord_sf</span>(<span class="at">crs =</span> wc_crs) <span class="sc">+</span></span>
<span id="cb615-17"><a href="mapping-health-data-in-r.html#cb615-17" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="co"># Removes axes and grid lines for a cleaner map</span></span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
</div>
<div id="mapping-and-merging-health-data" class="section level2 hasAnchor" number="30.6">
<h2><span class="header-section-number">30.6</span> Mapping and Merging Health Data<a href="mapping-health-data-in-r.html#mapping-and-merging-health-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lets start by downloading a data set by county, from the North Carolina Institute of Medicine (NCIOM), which has a downloadable Excel spreadsheet
with health data by county. This can be found at:
<a href="https://nciom.org/nc-health-data/map/" class="uri">https://nciom.org/nc-health-data/map/</a>
Look for the Download Data button at the lower left.
Click on this button to download and save the Excel file to your computer,
for now, in your Downloads folder.
We will go step by step on how to will this data into R, and merge it with Census data for counties in North Carolina.
Set up a folder to be the directory for this project,
and name it something like <code>nc_health</code>.
Create a folder named ‘data’ within this folder.
Then save the datafile as <code>nciom_health_data.xlsx</code> in the data directory.
Then make the <code>nc_health</code> folder into a New R project.
Then, in this folder, create a new quarto file called <code>nc_health_data.qmd</code>.</p>
<p>Then copy the code below into a code chunk in the quarto file,
and run the code below to read in the data.</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="mapping-health-data-in-r.html#cb616-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb616-2"><a href="mapping-health-data-in-r.html#cb616-2" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb616-3"><a href="mapping-health-data-in-r.html#cb616-3" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb616-4"><a href="mapping-health-data-in-r.html#cb616-4" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb616-5"><a href="mapping-health-data-in-r.html#cb616-5" tabindex="-1"></a></span>
<span id="cb616-6"><a href="mapping-health-data-in-r.html#cb616-6" tabindex="-1"></a>nciom_health_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="fu">here</span>(<span class="st">&quot;data/nciom_health_data.xlsx&quot;</span>),</span>
<span id="cb616-7"><a href="mapping-health-data-in-r.html#cb616-7" tabindex="-1"></a>                                <span class="at">col_names =</span> <span class="cn">TRUE</span>, <span class="at">skip =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb616-8"><a href="mapping-health-data-in-r.html#cb616-8" tabindex="-1"></a>                                  janitor<span class="sc">::</span><span class="fu">clean_names</span>() </span></code></pre></div>
<p>Now, take a look at this data. It has variables in the leftmost column,
and the counties as columns. This is a bit problematic for merging with
shapefile data, which is usually in a long format, with one row per county.
We will need to pivot this data to a long format, with one row per county
and one column per variable.</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="mapping-health-data-in-r.html#cb617-1" tabindex="-1"></a>nciom_health_data_long <span class="ot">&lt;-</span> nciom_health_data <span class="sc">|&gt;</span> </span>
<span id="cb617-2"><a href="mapping-health-data-in-r.html#cb617-2" tabindex="-1"></a>  <span class="fu">select</span>(x2, x3, alamance<span class="sc">:</span>yancey) <span class="sc">|&gt;</span> </span>
<span id="cb617-3"><a href="mapping-health-data-in-r.html#cb617-3" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>x2<span class="sc">:</span>x3, <span class="at">names_to =</span> <span class="st">&quot;county&quot;</span>, </span>
<span id="cb617-4"><a href="mapping-health-data-in-r.html#cb617-4" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb617-5"><a href="mapping-health-data-in-r.html#cb617-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_replace_all</span>(county, <span class="st">&quot;_&quot;</span>, <span class="st">&quot;&quot;</span>))</span></code></pre></div>
<p>Now this is in long format by county in lower case, with
variables names and definitions in the first two columns.
We can now merge this with the Census data for North Carolina counties
(as long as we make the county names clean and in lower case)</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="mapping-health-data-in-r.html#cb618-1" tabindex="-1"></a>nc_population <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb618-2"><a href="mapping-health-data-in-r.html#cb618-2" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb618-3"><a href="mapping-health-data-in-r.html#cb618-3" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">&quot;B01003_001&quot;</span>, <span class="co"># Total population variable</span></span>
<span id="cb618-4"><a href="mapping-health-data-in-r.html#cb618-4" tabindex="-1"></a>  <span class="at">state =</span> <span class="st">&quot;NC&quot;</span>,</span>
<span id="cb618-5"><a href="mapping-health-data-in-r.html#cb618-5" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2021</span>, </span>
<span id="cb618-6"><a href="mapping-health-data-in-r.html#cb618-6" tabindex="-1"></a>  <span class="at">survey =</span> <span class="st">&quot;acs5&quot;</span>,</span>
<span id="cb618-7"><a href="mapping-health-data-in-r.html#cb618-7" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># Include geographic boundaries</span></span>
<span id="cb618-8"><a href="mapping-health-data-in-r.html#cb618-8" tabindex="-1"></a>  <span class="at">cache_table =</span> <span class="cn">TRUE</span></span>
<span id="cb618-9"><a href="mapping-health-data-in-r.html#cb618-9" tabindex="-1"></a>)</span></code></pre></div>
<p>Note that all the county names have a single word, followed by “County, North Carolina”. How will we remove this bit and make the county names lower case? Google “R remove text from string” and you will find the str_extract function, which is part of the stringr package, which is part of the tidyverse. Try to mutate the county name to a clean lower case name</p>
<div id="solution" class="section level3 hasAnchor" number="30.6.1">
<h3><span class="header-section-number">30.6.1</span> Solution<a href="mapping-health-data-in-r.html#solution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="mapping-health-data-in-r.html#cb619-1" tabindex="-1"></a>nc_population <span class="ot">&lt;-</span> nc_population <span class="sc">%&gt;%</span></span>
<span id="cb619-2"><a href="mapping-health-data-in-r.html#cb619-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_extract</span>(NAME, <span class="st">&quot;.+(?= County, North Carolina)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb619-3"><a href="mapping-health-data-in-r.html#cb619-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">tolower</span>(county)) <span class="sc">%&gt;%</span></span>
<span id="cb619-4"><a href="mapping-health-data-in-r.html#cb619-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_replace_all</span>(county, <span class="st">&quot; &quot;</span>, <span class="st">&quot;&quot;</span>)) <span class="sc">%&gt;%</span> <span class="co"># Remove spaces) |&gt; </span></span>
<span id="cb619-5"><a href="mapping-health-data-in-r.html#cb619-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_trim</span>(county)) <span class="sc">%&gt;%</span> <span class="co"># Trim whitespace</span></span>
<span id="cb619-6"><a href="mapping-health-data-in-r.html#cb619-6" tabindex="-1"></a>  <span class="fu">select</span> (GEOID, county, geometry)</span></code></pre></div>
</div>
</div>
<div id="now-to-merge" class="section level2 hasAnchor" number="30.7">
<h2><span class="header-section-number">30.7</span> Now to merge<a href="mapping-health-data-in-r.html#now-to-merge" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We want to add the geometry from the nc_population data to the nciom_health_data_long data, in a one to many merge.
Let’s start with the nciom_health_data_long data (the one), and then merge it with the nc_population data (the many).</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="mapping-health-data-in-r.html#cb620-1" tabindex="-1"></a>nc_merged <span class="ot">&lt;-</span> nciom_health_data_long <span class="sc">%&gt;%</span></span>
<span id="cb620-2"><a href="mapping-health-data-in-r.html#cb620-2" tabindex="-1"></a>  <span class="fu">left_join</span>(nc_population, <span class="at">by =</span> <span class="st">&quot;county&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb620-3"><a href="mapping-health-data-in-r.html#cb620-3" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">variable =</span> x2, <span class="at">definition =</span> x3) <span class="sc">%&gt;%</span></span>
<span id="cb620-4"><a href="mapping-health-data-in-r.html#cb620-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">as.numeric</span>(value)) <span class="co"># Ensure value is numeric </span></span></code></pre></div>
<pre><code>## Warning: There was 1 warning in `mutate()`.
## ℹ In argument: `value = as.numeric(value)`.
## Caused by warning:
## ! NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="mapping-health-data-in-r.html#cb622-1" tabindex="-1"></a><span class="co"># Note that this does make the Metro variable NA</span></span></code></pre></div>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="mapping-health-data-in-r.html#cb623-1" tabindex="-1"></a>nc_merged <span class="sc">%&gt;%</span></span>
<span id="cb623-2"><a href="mapping-health-data-in-r.html#cb623-2" tabindex="-1"></a>  <span class="fu">filter</span>(variable <span class="sc">==</span> <span class="st">&quot;Opioid Prescribing Rate&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb623-3"><a href="mapping-health-data-in-r.html#cb623-3" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb623-4"><a href="mapping-health-data-in-r.html#cb623-4" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">geometry =</span> geometry), <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> </span>
<span id="cb623-5"><a href="mapping-health-data-in-r.html#cb623-5" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>) <span class="sc">+</span> <span class="co"># Example color scale</span></span>
<span id="cb623-6"><a href="mapping-health-data-in-r.html#cb623-6" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Opioid Prescribing Rate by County&quot;</span>,</span>
<span id="cb623-7"><a href="mapping-health-data-in-r.html#cb623-7" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;North Carolina, 2021 NCIOM Estimates&quot;</span>) <span class="sc">+</span></span>
<span id="cb623-8"><a href="mapping-health-data-in-r.html#cb623-8" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="co"># Removes axes and grid lines for a cleaner map</span></span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Note that Scotland County has 142.7 opioid prescriptions per 100 people, while Wake County has 41.1.</p>
</div>
<div id="texas-health-data" class="section level2 hasAnchor" number="30.8">
<h2><span class="header-section-number">30.8</span> Texas Health Data<a href="mapping-health-data-in-r.html#texas-health-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now let’s download some health data for Texas, from the Texas Health Data website. Go to:
<a href="https://www.countyhealthrankings.org/health-data/texas/data-and-resources" class="uri">https://www.countyhealthrankings.org/health-data/texas/data-and-resources</a>
Dowlnoad the first linked file, named 2025 Texas Health Data,
and save it in the data folder of your project, as <code>texas_health_data.xlsx</code>.
Then copy the code below into a code chunk in your quarto file, and run it to read in the data.</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb624-1"><a href="mapping-health-data-in-r.html#cb624-1" tabindex="-1"></a>texas_health_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="fu">here</span>(<span class="st">&quot;data/texas_health_data.xlsx&quot;</span>),</span>
<span id="cb624-2"><a href="mapping-health-data-in-r.html#cb624-2" tabindex="-1"></a>                                <span class="at">col_names =</span> <span class="cn">TRUE</span>, <span class="at">skip =</span> <span class="dv">1</span>,</span>
<span id="cb624-3"><a href="mapping-health-data-in-r.html#cb624-3" tabindex="-1"></a>                                <span class="at">sheet =</span><span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb624-4"><a href="mapping-health-data-in-r.html#cb624-4" tabindex="-1"></a>                                  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span></code></pre></div>
<p>See if you can pull the texas acs county data for population from the ACS to get the shapefiles, using the North Carolina example above, with the <code>get_acs()</code> function.
Then, merge the texas_health_data with the texas_population data, using the county name as the key.</p>
<div id="solution-to-acs" class="section level3 hasAnchor" number="30.8.1">
<h3><span class="header-section-number">30.8.1</span> Solution to ACS<a href="mapping-health-data-in-r.html#solution-to-acs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="mapping-health-data-in-r.html#cb625-1" tabindex="-1"></a>texas_population <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb625-2"><a href="mapping-health-data-in-r.html#cb625-2" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb625-3"><a href="mapping-health-data-in-r.html#cb625-3" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">&quot;B01003_001&quot;</span>, <span class="co"># Total population variable</span></span>
<span id="cb625-4"><a href="mapping-health-data-in-r.html#cb625-4" tabindex="-1"></a>  <span class="at">state =</span> <span class="st">&quot;TX&quot;</span>,</span>
<span id="cb625-5"><a href="mapping-health-data-in-r.html#cb625-5" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2023</span>, </span>
<span id="cb625-6"><a href="mapping-health-data-in-r.html#cb625-6" tabindex="-1"></a>  <span class="at">survey =</span> <span class="st">&quot;acs5&quot;</span>,</span>
<span id="cb625-7"><a href="mapping-health-data-in-r.html#cb625-7" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># Include geographic boundaries</span></span>
<span id="cb625-8"><a href="mapping-health-data-in-r.html#cb625-8" tabindex="-1"></a>  <span class="at">cache_table =</span> <span class="cn">TRUE</span></span>
<span id="cb625-9"><a href="mapping-health-data-in-r.html#cb625-9" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb625-10"><a href="mapping-health-data-in-r.html#cb625-10" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_remove</span>(NAME, <span class="st">&quot; County, Texas&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb625-11"><a href="mapping-health-data-in-r.html#cb625-11" tabindex="-1"></a>  <span class="fu">select</span> (GEOID, county, geometry)</span></code></pre></div>
</div>
<div id="solution-to-merge" class="section level3 hasAnchor" number="30.8.2">
<h3><span class="header-section-number">30.8.2</span> Solution to Merge<a href="mapping-health-data-in-r.html#solution-to-merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="mapping-health-data-in-r.html#cb626-1" tabindex="-1"></a>texas_merged <span class="ot">&lt;-</span> texas_health_data <span class="sc">%&gt;%</span></span>
<span id="cb626-2"><a href="mapping-health-data-in-r.html#cb626-2" tabindex="-1"></a>  <span class="fu">right_join</span>(texas_population, <span class="at">by =</span> <span class="st">&quot;county&quot;</span>)</span></code></pre></div>
<p>See if you can map the “percent_vaccinated” (for influenza) variable by county, using the same method as above.</p>
</div>
<div id="solution-to-mapping" class="section level3 hasAnchor" number="30.8.3">
<h3><span class="header-section-number">30.8.3</span> Solution to Mapping<a href="mapping-health-data-in-r.html#solution-to-mapping" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="mapping-health-data-in-r.html#cb627-1" tabindex="-1"></a>texas_merged <span class="sc">%&gt;%</span></span>
<span id="cb627-2"><a href="mapping-health-data-in-r.html#cb627-2" tabindex="-1"></a>  <span class="fu">select</span>(GEOID, county, percent_vaccinated, geometry) <span class="sc">|&gt;</span> </span>
<span id="cb627-3"><a href="mapping-health-data-in-r.html#cb627-3" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> percent_vaccinated)) <span class="sc">+</span></span>
<span id="cb627-4"><a href="mapping-health-data-in-r.html#cb627-4" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">geometry =</span> geometry), <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span> <span class="co">#try without borders</span></span>
<span id="cb627-5"><a href="mapping-health-data-in-r.html#cb627-5" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>,</span>
<span id="cb627-6"><a href="mapping-health-data-in-r.html#cb627-6" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">&quot;% Vax </span><span class="sc">\n</span><span class="st">for Flu&quot;</span>) <span class="sc">+</span></span>
<span id="cb627-7"><a href="mapping-health-data-in-r.html#cb627-7" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Percent Vaccinated for Influenza by County&quot;</span>,</span>
<span id="cb627-8"><a href="mapping-health-data-in-r.html#cb627-8" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;Texas, 2025 Health Data Estimates&quot;</span>) <span class="sc">+</span></span>
<span id="cb627-9"><a href="mapping-health-data-in-r.html#cb627-9" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="co"># Removes axes and grid lines for a cleaner map</span></span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
</div>
<div id="mapping-california" class="section level2 hasAnchor" number="30.9">
<h2><span class="header-section-number">30.9</span> Mapping California<a href="mapping-health-data-in-r.html#mapping-california" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s try mapping some health data for California, using the California Health Data website.
Go to: <a href="https://www.countyhealthrankings.org/health-data/california/data-and-resources" class="uri">https://www.countyhealthrankings.org/health-data/california/data-and-resources</a>
Download the first linked file, named 2025 California Health Data,
and save it in the data folder of your project, as <code>california_health_data.xlsx</code>.
Then copy the code below into a code chunk in your quarto file, and run it to read in the data.</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="mapping-health-data-in-r.html#cb628-1" tabindex="-1"></a>california_health_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="fu">here</span>(<span class="st">&quot;data/california_health_data.xlsx&quot;</span>),</span>
<span id="cb628-2"><a href="mapping-health-data-in-r.html#cb628-2" tabindex="-1"></a>                                <span class="at">col_names =</span> <span class="cn">TRUE</span>, <span class="at">skip =</span> <span class="dv">1</span>,</span>
<span id="cb628-3"><a href="mapping-health-data-in-r.html#cb628-3" tabindex="-1"></a>                                <span class="at">sheet =</span><span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb628-4"><a href="mapping-health-data-in-r.html#cb628-4" tabindex="-1"></a>                                  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span></code></pre></div>
<p>Now pull the California shapefiles, using the population variable code from tidycensus. Modify the County names as needed.
Then, merge the california_health_data with the california_population data, using the county name as the key.</p>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="mapping-health-data-in-r.html#cb629-1" tabindex="-1"></a>california_population <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb629-2"><a href="mapping-health-data-in-r.html#cb629-2" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb629-3"><a href="mapping-health-data-in-r.html#cb629-3" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">&quot;B01003_001&quot;</span>, <span class="co"># Total population variable</span></span>
<span id="cb629-4"><a href="mapping-health-data-in-r.html#cb629-4" tabindex="-1"></a>  <span class="at">state =</span> <span class="st">&quot;CA&quot;</span>,</span>
<span id="cb629-5"><a href="mapping-health-data-in-r.html#cb629-5" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2023</span>, </span>
<span id="cb629-6"><a href="mapping-health-data-in-r.html#cb629-6" tabindex="-1"></a>  <span class="at">survey =</span> <span class="st">&quot;acs5&quot;</span>,</span>
<span id="cb629-7"><a href="mapping-health-data-in-r.html#cb629-7" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># Include geographic boundaries</span></span>
<span id="cb629-8"><a href="mapping-health-data-in-r.html#cb629-8" tabindex="-1"></a>  <span class="at">cache_table =</span> <span class="cn">TRUE</span></span>
<span id="cb629-9"><a href="mapping-health-data-in-r.html#cb629-9" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb629-10"><a href="mapping-health-data-in-r.html#cb629-10" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_remove</span>(NAME, <span class="st">&quot; County, California&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb629-11"><a href="mapping-health-data-in-r.html#cb629-11" tabindex="-1"></a>  <span class="fu">select</span> (GEOID, county, geometry)</span></code></pre></div>
<p>Now merge the data, and map the “low_birth_weight” variable by county, using the same method as above.</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="mapping-health-data-in-r.html#cb630-1" tabindex="-1"></a>california_merged <span class="ot">&lt;-</span> california_health_data <span class="sc">%&gt;%</span></span>
<span id="cb630-2"><a href="mapping-health-data-in-r.html#cb630-2" tabindex="-1"></a>  <span class="fu">right_join</span>(california_population, <span class="at">by =</span> <span class="st">&quot;county&quot;</span>)</span></code></pre></div>
<p>Now map</p>
<div class="sourceCode" id="cb631"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb631-1"><a href="mapping-health-data-in-r.html#cb631-1" tabindex="-1"></a>california_merged <span class="sc">%&gt;%</span></span>
<span id="cb631-2"><a href="mapping-health-data-in-r.html#cb631-2" tabindex="-1"></a>  <span class="fu">select</span>(GEOID, county, percent_low_birth_weight, geometry) <span class="sc">|&gt;</span> </span>
<span id="cb631-3"><a href="mapping-health-data-in-r.html#cb631-3" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> percent_low_birth_weight)) <span class="sc">+</span></span>
<span id="cb631-4"><a href="mapping-health-data-in-r.html#cb631-4" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">geometry =</span> geometry), <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span> <span class="co">#try without borders</span></span>
<span id="cb631-5"><a href="mapping-health-data-in-r.html#cb631-5" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>,</span>
<span id="cb631-6"><a href="mapping-health-data-in-r.html#cb631-6" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">&quot;% Low </span><span class="sc">\n</span><span class="st">Birth Weight&quot;</span>) <span class="sc">+</span></span>
<span id="cb631-7"><a href="mapping-health-data-in-r.html#cb631-7" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Percent Low Birth Weight by County&quot;</span>,</span>
<span id="cb631-8"><a href="mapping-health-data-in-r.html#cb631-8" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;California, 2025 Health Data Estimates&quot;</span>) <span class="sc">+</span></span>
<span id="cb631-9"><a href="mapping-health-data-in-r.html#cb631-9" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="co"># Removes axes and grid lines for a cleaner map</span></span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/cal-plot-1.png" width="672" /></p>
</div>
<div id="a-bit-of-us-geographic-unit-history" class="section level2 hasAnchor" number="30.10">
<h2><span class="header-section-number">30.10</span> A bit of US geographic unit history<a href="mapping-health-data-in-r.html#a-bit-of-us-geographic-unit-history" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>GEOID and FIPS are both geographic identifiers used by the Census Bureau to classify and organize geographic areas. FIPS (Federal Information Processing Standards) codes are a part of the GEOID structure, but GEOID encompasses a broader range of geographic levels and combinations. Essentially, a GEOID is a unique numeric code that identifies a specific geographic area, and often incorporates FIPS codes for certain levels like state and county.</p>
<p>FIPS Codes:
.
These are a set of standards developed by the National Institute of Standards and Technology (NIST). They are used to identify geographic entities like states, counties, and places. FIPS codes are often embedded within GEOIDs. FiPS codes were originally created in the 1970s and have been used in various federal datasets, including those from the Census Bureau, until 2008, when they were (largely) replaced by GEOIDs.</p>
<p>GEOIDs:
.
GEOIDs are unique, numeric identifiers assigned by the Census Bureau to various geographic areas, such as census tracts, block groups, and blocks. They are used to link census data to geographic boundaries. A GEOID is often a combination of FIPS codes and other Census Bureau codes, depending on the geographic level. For example, a census tract GEOID might include the state (2 digit) and county (3 digit) FIPS codes, along with a census tract code.
In simpler terms, you can think of it like this: FIPS codes are like building blocks, and GEOIDs are like the structures built using those blocks, along with other components.</p>
<p>FIPS codes are an older part of the larger GEOID system.
GEOIDs are used by the Census Bureau to uniquely identify and organize geographic areas for data tabulation down to the census block.
FIPS codes are still used in various contexts, particularly in older datasets and systems.
The Census Bureau assigns GEOIDs to a wide range of geographic entities, including those not specifically covered by FIPS codes.
A longer GEOID with more digits means that it has more granularity, with extra digits representing more specific geographic areas, such as census tracts or block groups.
A census tract GEOID (e.g., 53065950101) includes the state code (53), the county code (065), and the tract code (950101).</p>
<p>By now you may have noticed that the County Health Rankings website has
national health data in a spreadsheet as well.
If you go to:
<a href="https://www.countyhealthrankings.org/health-data/methodology-and-sources/data-documentation" class="uri">https://www.countyhealthrankings.org/health-data/methodology-and-sources/data-documentation</a>
You can find and download to your data folder a file named
<code>2025 County Health Rankings National Data</code> as something like
<code>national_health_data.xlsx</code>.
and you can also find a useful data dictionary file named
<code>2025 County Health Rankings Data Dictionary</code>.
There are also trend files available to explore.
Let’s start by examining the national data file by county.</p>
<p>First we will load the shapefiles and population by county for the
entire us using the <code>get_acs</code> function from tidycensus.</p>
<div id="problems-with-extraction---223-divisions-not-named-county" class="section level4 hasAnchor" number="30.10.0.1">
<h4><span class="header-section-number">30.10.0.1</span> problems with extraction - 223 divisions not named county<a href="mapping-health-data-in-r.html#problems-with-extraction---223-divisions-not-named-county" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Alaska - Borough (13), Census Area (11), 4 City and Borough
Puerto Rico - Municipio, (78)
Louisiana - Parish, (64)
Connecticut - Planning Region (9)
Some in Virginia - city, 40 lowercase, 2 “City County”
Maryland: Baltimore city
Missouri: St. Louis city
Nevada: Carson City
District of Columbia - District of Columbia, District of Columbia</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="mapping-health-data-in-r.html#cb632-1" tabindex="-1"></a>us_counties <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb632-2"><a href="mapping-health-data-in-r.html#cb632-2" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb632-3"><a href="mapping-health-data-in-r.html#cb632-3" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">&quot;B01003_001&quot;</span>, <span class="co"># Total population variable</span></span>
<span id="cb632-4"><a href="mapping-health-data-in-r.html#cb632-4" tabindex="-1"></a>  <span class="at">state =</span> <span class="cn">NULL</span>, <span class="co"># all states</span></span>
<span id="cb632-5"><a href="mapping-health-data-in-r.html#cb632-5" tabindex="-1"></a>  <span class="at">year =</span> <span class="dv">2023</span>, </span>
<span id="cb632-6"><a href="mapping-health-data-in-r.html#cb632-6" tabindex="-1"></a>  <span class="at">survey =</span> <span class="st">&quot;acs5&quot;</span>,</span>
<span id="cb632-7"><a href="mapping-health-data-in-r.html#cb632-7" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">TRUE</span>, <span class="co"># Include geographic boundaries</span></span>
<span id="cb632-8"><a href="mapping-health-data-in-r.html#cb632-8" tabindex="-1"></a>  <span class="at">cache_table =</span> <span class="cn">TRUE</span></span>
<span id="cb632-9"><a href="mapping-health-data-in-r.html#cb632-9" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb632-10"><a href="mapping-health-data-in-r.html#cb632-10" tabindex="-1"></a>  <span class="fu">shift_geometry</span>() <span class="sc">|&gt;</span> <span class="co">#shifting AK, HI, PR to fit US map better</span></span>
<span id="cb632-11"><a href="mapping-health-data-in-r.html#cb632-11" tabindex="-1"></a>  <span class="co"># will need to change to case_when</span></span>
<span id="cb632-12"><a href="mapping-health-data-in-r.html#cb632-12" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">str_remove</span>(NAME, <span class="st">&quot;^.+County,&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb632-13"><a href="mapping-health-data-in-r.html#cb632-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_remove</span>(NAME, <span class="st">&quot; County,.+$&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb632-14"><a href="mapping-health-data-in-r.html#cb632-14" tabindex="-1"></a>  <span class="fu">select</span> (GEOID, state, county, geometry)</span></code></pre></div>
<p>Now we will read in the national health data file, and merge it with the US counties data. Note that this file includes total rows for the each state and the District of Columbia (with an empty [NA] county name).</p>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="mapping-health-data-in-r.html#cb633-1" tabindex="-1"></a>national_health_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="fu">here</span>(<span class="st">&quot;data/national_health_data.xlsx&quot;</span>),</span>
<span id="cb633-2"><a href="mapping-health-data-in-r.html#cb633-2" tabindex="-1"></a>                                <span class="at">col_names =</span> <span class="cn">TRUE</span>, <span class="at">skip =</span> <span class="dv">1</span>, <span class="at">sheet =</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb633-3"><a href="mapping-health-data-in-r.html#cb633-3" tabindex="-1"></a>                                  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb633-4"><a href="mapping-health-data-in-r.html#cb633-4" tabindex="-1"></a></span>
<span id="cb633-5"><a href="mapping-health-data-in-r.html#cb633-5" tabindex="-1"></a>natl_health_data_cty <span class="ot">&lt;-</span> national_health_data <span class="sc">|&gt;</span> </span>
<span id="cb633-6"><a href="mapping-health-data-in-r.html#cb633-6" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(county))</span></code></pre></div>
</div>
</div>
<div id="merge-problems" class="section level2 hasAnchor" number="30.11">
<h2><span class="header-section-number">30.11</span> Merge problems<a href="mapping-health-data-in-r.html#merge-problems" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Alaska - Borough,
Louisiana - Parish,
Connecticut - Planning Region,
Some Virginia counties have “City” in the name</p>
</div>
<div id="instead-of-using-names-match-by-geoid-in-us-counties-fips-health-data" class="section level2 hasAnchor" number="30.12">
<h2><span class="header-section-number">30.12</span> Instead of using names, match by GEOID (in us counties) = fips (health data)<a href="mapping-health-data-in-r.html#instead-of-using-names-match-by-geoid-in-us-counties-fips-health-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="mapping-health-data-in-r.html#cb634-1" tabindex="-1"></a>national_health_merged <span class="ot">&lt;-</span> natl_health_data_cty <span class="sc">%&gt;%</span></span>
<span id="cb634-2"><a href="mapping-health-data-in-r.html#cb634-2" tabindex="-1"></a>  <span class="fu">right_join</span>(us_counties, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;fips&quot;</span> <span class="ot">=</span> <span class="st">&quot;GEOID&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb634-3"><a href="mapping-health-data-in-r.html#cb634-3" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">county =</span> county.x) </span></code></pre></div>
<p>Now map</p>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb635-1"><a href="mapping-health-data-in-r.html#cb635-1" tabindex="-1"></a>national_health_merged <span class="sc">%&gt;%</span></span>
<span id="cb635-2"><a href="mapping-health-data-in-r.html#cb635-2" tabindex="-1"></a>  <span class="fu">select</span>(fips, county, average_number_of_mentally_unhealthy_days, geometry) <span class="sc">|&gt;</span> </span>
<span id="cb635-3"><a href="mapping-health-data-in-r.html#cb635-3" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> average_number_of_mentally_unhealthy_days)) <span class="sc">+</span></span>
<span id="cb635-4"><a href="mapping-health-data-in-r.html#cb635-4" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">geometry =</span> geometry), <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span> </span>
<span id="cb635-5"><a href="mapping-health-data-in-r.html#cb635-5" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>,</span>
<span id="cb635-6"><a href="mapping-health-data-in-r.html#cb635-6" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">&quot;Average </span><span class="sc">\n</span><span class="st">Mentally </span><span class="sc">\n</span><span class="st">Unhealthy </span><span class="sc">\n</span><span class="st">Days&quot;</span>) <span class="sc">+</span></span>
<span id="cb635-7"><a href="mapping-health-data-in-r.html#cb635-7" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Average Mentally Unhealthy Days by County&quot;</span>,</span>
<span id="cb635-8"><a href="mapping-health-data-in-r.html#cb635-8" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;US, 2025 Health Data Estimates&quot;</span>) <span class="sc">+</span></span>
<span id="cb635-9"><a href="mapping-health-data-in-r.html#cb635-9" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="co"># Removes axes and grid lines for a cleaner map</span></span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/nat-health-plot-1.png" width="672" /></p>
</div>
<div id="mapping-distances" class="section level2 hasAnchor" number="30.13">
<h2><span class="header-section-number">30.13</span> Mapping Distances<a href="mapping-health-data-in-r.html#mapping-distances" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Acute illness and trauma from MVI (motor vehicle injury) is a major cause of death and disability in the US, and is a major public health problem.
Outcomes are influenced by distance/time from specialty care. Using {mapboxapi} and the {tigris} package, we can map distances from a set of census tracs to a hospital at a given location, which can serve as a measure of time to travel to reach specialty care.</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="mapping-health-data-in-r.html#cb636-1" tabindex="-1"></a><span class="fu">library</span>(mapboxapi)</span>
<span id="cb636-2"><a href="mapping-health-data-in-r.html#cb636-2" tabindex="-1"></a><span class="fu">library</span>(tigris)</span>
<span id="cb636-3"><a href="mapping-health-data-in-r.html#cb636-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb636-4"><a href="mapping-health-data-in-r.html#cb636-4" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb636-5"><a href="mapping-health-data-in-r.html#cb636-5" tabindex="-1"></a><span class="fu">library</span>(crsuggest)</span>
<span id="cb636-6"><a href="mapping-health-data-in-r.html#cb636-6" tabindex="-1"></a><span class="co"># Set up Mapbox API key</span></span>
<span id="cb636-7"><a href="mapping-health-data-in-r.html#cb636-7" tabindex="-1"></a><span class="co"># You need to set up a Mapbox account and get an API key</span></span>
<span id="cb636-8"><a href="mapping-health-data-in-r.html#cb636-8" tabindex="-1"></a><span class="co"># see https://docs.mapbox.com/help/getting-started/access-tokens/</span></span>
<span id="cb636-9"><a href="mapping-health-data-in-r.html#cb636-9" tabindex="-1"></a><span class="co"># and then store this token in your .Renviron file as MAPBOX_API_KEY</span></span>
<span id="cb636-10"><a href="mapping-health-data-in-r.html#cb636-10" tabindex="-1"></a><span class="co"># mapbox_key &lt;- Sys.getenv(&quot;MAPBOX_API_KEY&quot;)</span></span>
<span id="cb636-11"><a href="mapping-health-data-in-r.html#cb636-11" tabindex="-1"></a><span class="co"># mb_access_token(mapbox_key, install = TRUE) # run this once</span></span>
<span id="cb636-12"><a href="mapping-health-data-in-r.html#cb636-12" tabindex="-1"></a></span>
<span id="cb636-13"><a href="mapping-health-data-in-r.html#cb636-13" tabindex="-1"></a><span class="co"># Load Census tracts for the state of Michigan using (tigris)</span></span>
<span id="cb636-14"><a href="mapping-health-data-in-r.html#cb636-14" tabindex="-1"></a></span>
<span id="cb636-15"><a href="mapping-health-data-in-r.html#cb636-15" tabindex="-1"></a>mi_tracts <span class="ot">&lt;-</span> </span>
<span id="cb636-16"><a href="mapping-health-data-in-r.html#cb636-16" tabindex="-1"></a>  <span class="fu">tracts</span>(<span class="at">state =</span> <span class="st">&quot;MI&quot;</span>, <span class="at">cb =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb636-17"><a href="mapping-health-data-in-r.html#cb636-17" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">2163</span>) <span class="co"># a coordinate reference system transformation</span></span>
<span id="cb636-18"><a href="mapping-health-data-in-r.html#cb636-18" tabindex="-1"></a></span>
<span id="cb636-19"><a href="mapping-health-data-in-r.html#cb636-19" tabindex="-1"></a><span class="co"># Find the right coordinate system to use; in this case we&#39;ll use 26990</span></span>
<span id="cb636-20"><a href="mapping-health-data-in-r.html#cb636-20" tabindex="-1"></a></span>
<span id="cb636-21"><a href="mapping-health-data-in-r.html#cb636-21" tabindex="-1"></a>mi_crs <span class="ot">&lt;-</span> <span class="fu">suggest_top_crs</span>(mi_tracts, <span class="at">units =</span> <span class="st">&quot;m&quot;</span>)</span>
<span id="cb636-22"><a href="mapping-health-data-in-r.html#cb636-22" tabindex="-1"></a></span>
<span id="cb636-23"><a href="mapping-health-data-in-r.html#cb636-23" tabindex="-1"></a><span class="co"># Get the location of the University of Michigan hospital in Ann Arbor, Michigan</span></span>
<span id="cb636-24"><a href="mapping-health-data-in-r.html#cb636-24" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb636-25"><a href="mapping-health-data-in-r.html#cb636-25" tabindex="-1"></a><span class="co"># You can use the mb_geocode() function to get the coordinates of a location</span></span>
<span id="cb636-26"><a href="mapping-health-data-in-r.html#cb636-26" tabindex="-1"></a></span>
<span id="cb636-27"><a href="mapping-health-data-in-r.html#cb636-27" tabindex="-1"></a>hospital_location <span class="ot">&lt;-</span> <span class="fu">mb_geocode</span>(<span class="st">&quot;University of Michigan Hospital, Ann Arbor, MI&quot;</span>)</span>
<span id="cb636-28"><a href="mapping-health-data-in-r.html#cb636-28" tabindex="-1"></a></span>
<span id="cb636-29"><a href="mapping-health-data-in-r.html#cb636-29" tabindex="-1"></a><span class="co"># Use mb_matrix() to calculate driving time from all Michigan Census tracts to the hospital</span></span>
<span id="cb636-30"><a href="mapping-health-data-in-r.html#cb636-30" tabindex="-1"></a></span>
<span id="cb636-31"><a href="mapping-health-data-in-r.html#cb636-31" tabindex="-1"></a><span class="co"># mi_tracts_points &lt;- mi_tracts %&gt;%</span></span>
<span id="cb636-32"><a href="mapping-health-data-in-r.html#cb636-32" tabindex="-1"></a><span class="co">#   st_transform(mi_crs) %&gt;%</span></span>
<span id="cb636-33"><a href="mapping-health-data-in-r.html#cb636-33" tabindex="-1"></a><span class="co">#   erase_water(area_threshold = 0.95) %&gt;% # can&#39;t drive through lakes</span></span>
<span id="cb636-34"><a href="mapping-health-data-in-r.html#cb636-34" tabindex="-1"></a><span class="co">#   st_point_on_surface()</span></span>
<span id="cb636-35"><a href="mapping-health-data-in-r.html#cb636-35" tabindex="-1"></a></span>
<span id="cb636-36"><a href="mapping-health-data-in-r.html#cb636-36" tabindex="-1"></a><span class="co"># Now get driving time to the hospital from each tract</span></span>
<span id="cb636-37"><a href="mapping-health-data-in-r.html#cb636-37" tabindex="-1"></a><span class="co"># Takes a few minutes to map driving times</span></span>
<span id="cb636-38"><a href="mapping-health-data-in-r.html#cb636-38" tabindex="-1"></a><span class="co"># by default uses the centroid of each census tract as origin point</span></span>
<span id="cb636-39"><a href="mapping-health-data-in-r.html#cb636-39" tabindex="-1"></a>time_to_hospital <span class="ot">&lt;-</span> <span class="fu">mb_matrix</span>(</span>
<span id="cb636-40"><a href="mapping-health-data-in-r.html#cb636-40" tabindex="-1"></a>  <span class="at">origins =</span> mi_tracts,</span>
<span id="cb636-41"><a href="mapping-health-data-in-r.html#cb636-41" tabindex="-1"></a>  <span class="at">destinations =</span> hospital_location</span>
<span id="cb636-42"><a href="mapping-health-data-in-r.html#cb636-42" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb636-43"><a href="mapping-health-data-in-r.html#cb636-43" tabindex="-1"></a>  <span class="fu">as.vector</span>()</span>
<span id="cb636-44"><a href="mapping-health-data-in-r.html#cb636-44" tabindex="-1"></a></span>
<span id="cb636-45"><a href="mapping-health-data-in-r.html#cb636-45" tabindex="-1"></a><span class="co"># Add the driving time to the Census tracts data</span></span>
<span id="cb636-46"><a href="mapping-health-data-in-r.html#cb636-46" tabindex="-1"></a></span>
<span id="cb636-47"><a href="mapping-health-data-in-r.html#cb636-47" tabindex="-1"></a>mi_tracts<span class="sc">$</span>time_to_hospital <span class="ot">&lt;-</span> time_to_hospital</span>
<span id="cb636-48"><a href="mapping-health-data-in-r.html#cb636-48" tabindex="-1"></a>mi_tracts<span class="sc">$</span>time_to_hospital <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(mi_tracts<span class="sc">$</span>time_to_hospital)</span>
<span id="cb636-49"><a href="mapping-health-data-in-r.html#cb636-49" tabindex="-1"></a><span class="co"># Remove any NA values (if any)</span></span>
<span id="cb636-50"><a href="mapping-health-data-in-r.html#cb636-50" tabindex="-1"></a><span class="co">#mi_tracts &lt;- mi_tracts %&gt;%</span></span>
<span id="cb636-51"><a href="mapping-health-data-in-r.html#cb636-51" tabindex="-1"></a>  <span class="co">#filter(!is.na(time_to_hospital))</span></span>
<span id="cb636-52"><a href="mapping-health-data-in-r.html#cb636-52" tabindex="-1"></a>  </span>
<span id="cb636-53"><a href="mapping-health-data-in-r.html#cb636-53" tabindex="-1"></a><span class="co"># Visualize the driving time to the hospital using ggplot2</span></span>
<span id="cb636-54"><a href="mapping-health-data-in-r.html#cb636-54" tabindex="-1"></a><span class="fu">ggplot</span>(mi_tracts, <span class="fu">aes</span>(<span class="at">fill =</span> time_to_hospital)) <span class="sc">+</span></span>
<span id="cb636-55"><a href="mapping-health-data-in-r.html#cb636-55" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb636-56"><a href="mapping-health-data-in-r.html#cb636-56" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>, <span class="at">name =</span> <span class="st">&quot;Driving Time (minutes)&quot;</span>) <span class="sc">+</span></span>
<span id="cb636-57"><a href="mapping-health-data-in-r.html#cb636-57" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb636-58"><a href="mapping-health-data-in-r.html#cb636-58" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Driving Time to The University of Michigan Hospital&quot;</span>,</span>
<span id="cb636-59"><a href="mapping-health-data-in-r.html#cb636-59" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;From Individual Census Tracts in Michigan&quot;</span>,</span>
<span id="cb636-60"><a href="mapping-health-data-in-r.html#cb636-60" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data source: Mapbox Directions API&quot;</span></span>
<span id="cb636-61"><a href="mapping-health-data-in-r.html#cb636-61" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb636-62"><a href="mapping-health-data-in-r.html#cb636-62" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb636-63"><a href="mapping-health-data-in-r.html#cb636-63" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> mi_crs)</span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/a2-1.png" width="672" /></p>
</div>
<div id="we-can-narrow-this-down-to-a-smaller-area-such-as-philadelphia-and-driving-time-to-the-childrens-hospital-of-philadelphia-chop." class="section level2 hasAnchor" number="30.14">
<h2><span class="header-section-number">30.14</span> We can narrow this down to a smaller Area, such as Philadelphia, and driving time to the Children’s Hospital of Philadelphia (CHOP).<a href="mapping-health-data-in-r.html#we-can-narrow-this-down-to-a-smaller-area-such-as-philadelphia-and-driving-time-to-the-childrens-hospital-of-philadelphia-chop." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When your child is sick, you might want to race them to the local Children’s Hospital. How long will it take?</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="mapping-health-data-in-r.html#cb637-1" tabindex="-1"></a>philly_tracts <span class="ot">&lt;-</span> </span>
<span id="cb637-2"><a href="mapping-health-data-in-r.html#cb637-2" tabindex="-1"></a>  <span class="fu">tracts</span>(<span class="at">state =</span> <span class="st">&quot;PA&quot;</span>, <span class="at">county =</span> <span class="st">&quot;Philadelphia&quot;</span>, <span class="at">cb =</span> <span class="cn">TRUE</span>, <span class="at">class=</span><span class="st">&quot;sf&quot;</span>) </span>
<span id="cb637-3"><a href="mapping-health-data-in-r.html#cb637-3" tabindex="-1"></a>chop <span class="ot">&lt;-</span> <span class="fu">mb_geocode</span>(<span class="st">&quot;Children&#39;s Hospital of Philadelphia, Philadelphia, PA&quot;</span>)</span>
<span id="cb637-4"><a href="mapping-health-data-in-r.html#cb637-4" tabindex="-1"></a></span>
<span id="cb637-5"><a href="mapping-health-data-in-r.html#cb637-5" tabindex="-1"></a><span class="co"># takes about 40 seconds</span></span>
<span id="cb637-6"><a href="mapping-health-data-in-r.html#cb637-6" tabindex="-1"></a>time_to_chop <span class="ot">&lt;-</span> <span class="fu">mb_matrix</span>(</span>
<span id="cb637-7"><a href="mapping-health-data-in-r.html#cb637-7" tabindex="-1"></a>  <span class="at">origins =</span> philly_tracts,</span>
<span id="cb637-8"><a href="mapping-health-data-in-r.html#cb637-8" tabindex="-1"></a>  <span class="at">destinations =</span> chop) <span class="sc">%&gt;%</span></span>
<span id="cb637-9"><a href="mapping-health-data-in-r.html#cb637-9" tabindex="-1"></a>  <span class="fu">as.vector</span>()</span>
<span id="cb637-10"><a href="mapping-health-data-in-r.html#cb637-10" tabindex="-1"></a></span>
<span id="cb637-11"><a href="mapping-health-data-in-r.html#cb637-11" tabindex="-1"></a>philly_tracts<span class="sc">$</span>time_to_chop <span class="ot">&lt;-</span> time_to_chop</span>
<span id="cb637-12"><a href="mapping-health-data-in-r.html#cb637-12" tabindex="-1"></a></span>
<span id="cb637-13"><a href="mapping-health-data-in-r.html#cb637-13" tabindex="-1"></a><span class="fu">ggplot</span>(philly_tracts, <span class="fu">aes</span>(<span class="at">fill =</span> time_to_chop)) <span class="sc">+</span></span>
<span id="cb637-14"><a href="mapping-health-data-in-r.html#cb637-14" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb637-15"><a href="mapping-health-data-in-r.html#cb637-15" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>, <span class="at">name =</span> <span class="st">&quot;Driving Time (minutes)&quot;</span>) <span class="sc">+</span></span>
<span id="cb637-16"><a href="mapping-health-data-in-r.html#cb637-16" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb637-17"><a href="mapping-health-data-in-r.html#cb637-17" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Driving Time to The Children&#39;s Hospital of Philadelphia&quot;</span>,</span>
<span id="cb637-18"><a href="mapping-health-data-in-r.html#cb637-18" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;From Individual Census Tracts in Philadelphia&quot;</span>,</span>
<span id="cb637-19"><a href="mapping-health-data-in-r.html#cb637-19" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data source: Mapbox Directions API&quot;</span></span>
<span id="cb637-20"><a href="mapping-health-data-in-r.html#cb637-20" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb637-21"><a href="mapping-health-data-in-r.html#cb637-21" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/chop-1.png" width="672" /></p>
<p>This is not the only way to map distances, but it is a good way to get started.</p>
<p>You can use the Google Distance API via the {googleway} package, or the {osrm} package to access the Open Source Routing Machine, which is a free routing service that uses OpenStreetMap data.</p>
<p>There is the R5 routing engine, which is a free routing service that uses OpenStreetMap data, and the {r5r} package to access it.</p>
<p>There is the Valhalla routing engine, which is a free routing service that uses OpenStreetMap data, and the {valhallar} package to access it.</p>
<p>The Mapbox and Google options are great for smaller jobs as they are very quick to set up once you have an API key and they have traffic built-in. But be careful - they can get expensive quickly if you are mapping thousands of individual addresses. Mapbox limits you to 100K free geocodes per month. Google limits you to a maximum of 25 origins or 25 destinations per request, and a rate limit of 3000 elements (origins * destinations) per minute.</p>
<p>For bigger jobs, look to r5r and Valhalla - both based on open-source engines.</p>
<p>While these tools are more challenging to set up than using an API, they are well worth it for batch jobs.</p>
<p>Valhalla in particular can be tricky to set up; it may be best used with Docker.</p>
<p>There are lots of great resources in this space.</p>
</div>
<div id="driving-to-ucla-reagan-hospital" class="section level2 hasAnchor" number="30.15">
<h2><span class="header-section-number">30.15</span> Driving to UCLA Reagan Hospital<a href="mapping-health-data-in-r.html#driving-to-ucla-reagan-hospital" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If you are living in the traffic jam that makes up the 5 county Los Angeles metro area, you might want to know how long it will take to get to the UCLA Reagan Hospital in Westwood.</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="mapping-health-data-in-r.html#cb638-1" tabindex="-1"></a><span class="fu">library</span>(mapboxapi)</span>
<span id="cb638-2"><a href="mapping-health-data-in-r.html#cb638-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb638-3"><a href="mapping-health-data-in-r.html#cb638-3" tabindex="-1"></a><span class="fu">library</span>(tigris)</span>
<span id="cb638-4"><a href="mapping-health-data-in-r.html#cb638-4" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb638-5"><a href="mapping-health-data-in-r.html#cb638-5" tabindex="-1"></a><span class="fu">library</span>(crsuggest)</span>
<span id="cb638-6"><a href="mapping-health-data-in-r.html#cb638-6" tabindex="-1"></a><span class="co"># Set up Mapbox API key</span></span>
<span id="cb638-7"><a href="mapping-health-data-in-r.html#cb638-7" tabindex="-1"></a><span class="co"># You need to set up a Mapbox account and get an API key</span></span>
<span id="cb638-8"><a href="mapping-health-data-in-r.html#cb638-8" tabindex="-1"></a><span class="co"># see https://docs.mapbox.com/help/getting-started/access-tokens/</span></span>
<span id="cb638-9"><a href="mapping-health-data-in-r.html#cb638-9" tabindex="-1"></a><span class="co"># and then store this token in your .Renviron file as MAPBOX_API_KEY</span></span>
<span id="cb638-10"><a href="mapping-health-data-in-r.html#cb638-10" tabindex="-1"></a><span class="co"># mb_access_token(Sys.getenv(&quot;MAPBOX_API_KEY&quot;), install = TRUE)</span></span>
<span id="cb638-11"><a href="mapping-health-data-in-r.html#cb638-11" tabindex="-1"></a></span>
<span id="cb638-12"><a href="mapping-health-data-in-r.html#cb638-12" tabindex="-1"></a><span class="co"># Load Census tracts for the Los Angeles metro area using (tigris)</span></span>
<span id="cb638-13"><a href="mapping-health-data-in-r.html#cb638-13" tabindex="-1"></a><span class="co"># Note that this will take a few minutes to run</span></span>
<span id="cb638-14"><a href="mapping-health-data-in-r.html#cb638-14" tabindex="-1"></a></span>
<span id="cb638-15"><a href="mapping-health-data-in-r.html#cb638-15" tabindex="-1"></a>la_tracts <span class="ot">&lt;-</span> </span>
<span id="cb638-16"><a href="mapping-health-data-in-r.html#cb638-16" tabindex="-1"></a>  <span class="fu">tracts</span>(<span class="at">state =</span> <span class="st">&quot;CA&quot;</span>, <span class="at">county =</span> <span class="fu">c</span>(<span class="st">&quot;Los Angeles&quot;</span>, <span class="st">&quot;Orange&quot;</span>, </span>
<span id="cb638-17"><a href="mapping-health-data-in-r.html#cb638-17" tabindex="-1"></a>      <span class="st">&quot;Riverside&quot;</span>, <span class="st">&quot;San Bernardino&quot;</span>, <span class="st">&quot;Ventura&quot;</span>), <span class="at">cb =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb638-18"><a href="mapping-health-data-in-r.html#cb638-18" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">26910</span>) <span class="co"># a coordinate reference system transformation</span></span>
<span id="cb638-19"><a href="mapping-health-data-in-r.html#cb638-19" tabindex="-1"></a></span>
<span id="cb638-20"><a href="mapping-health-data-in-r.html#cb638-20" tabindex="-1"></a><span class="co"># Find the right coordinate system to use; in this case we&#39;ll use 26910</span></span>
<span id="cb638-21"><a href="mapping-health-data-in-r.html#cb638-21" tabindex="-1"></a></span>
<span id="cb638-22"><a href="mapping-health-data-in-r.html#cb638-22" tabindex="-1"></a>la_crs <span class="ot">&lt;-</span> <span class="fu">suggest_top_crs</span>(la_tracts, <span class="at">units =</span> <span class="st">&quot;m&quot;</span>)</span>
<span id="cb638-23"><a href="mapping-health-data-in-r.html#cb638-23" tabindex="-1"></a></span>
<span id="cb638-24"><a href="mapping-health-data-in-r.html#cb638-24" tabindex="-1"></a><span class="co"># Get the location of the UCLA Reagan Hospital in Westwood, Los Angeles, California</span></span>
<span id="cb638-25"><a href="mapping-health-data-in-r.html#cb638-25" tabindex="-1"></a></span>
<span id="cb638-26"><a href="mapping-health-data-in-r.html#cb638-26" tabindex="-1"></a>hospital_location <span class="ot">&lt;-</span> <span class="fu">mb_geocode</span>(<span class="st">&quot;UCLA Ronald Reagan Medical Center, Los Angeles, CA&quot;</span>)</span>
<span id="cb638-27"><a href="mapping-health-data-in-r.html#cb638-27" tabindex="-1"></a><span class="co"># Use mb_matrix() to calculate driving time from all Los Angeles metro Census tracts to the hospital - about 4 minutes</span></span>
<span id="cb638-28"><a href="mapping-health-data-in-r.html#cb638-28" tabindex="-1"></a></span>
<span id="cb638-29"><a href="mapping-health-data-in-r.html#cb638-29" tabindex="-1"></a>time_to_hospital <span class="ot">&lt;-</span> <span class="fu">mb_matrix</span>(</span>
<span id="cb638-30"><a href="mapping-health-data-in-r.html#cb638-30" tabindex="-1"></a>  <span class="at">origins =</span> la_tracts,</span>
<span id="cb638-31"><a href="mapping-health-data-in-r.html#cb638-31" tabindex="-1"></a>  <span class="at">destinations =</span> hospital_location</span>
<span id="cb638-32"><a href="mapping-health-data-in-r.html#cb638-32" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb638-33"><a href="mapping-health-data-in-r.html#cb638-33" tabindex="-1"></a>  <span class="fu">as.vector</span>()</span>
<span id="cb638-34"><a href="mapping-health-data-in-r.html#cb638-34" tabindex="-1"></a></span>
<span id="cb638-35"><a href="mapping-health-data-in-r.html#cb638-35" tabindex="-1"></a><span class="co"># Add the driving time to the Census tracts data</span></span>
<span id="cb638-36"><a href="mapping-health-data-in-r.html#cb638-36" tabindex="-1"></a></span>
<span id="cb638-37"><a href="mapping-health-data-in-r.html#cb638-37" tabindex="-1"></a>la_tracts<span class="sc">$</span>time_to_hospital <span class="ot">&lt;-</span> time_to_hospital</span>
<span id="cb638-38"><a href="mapping-health-data-in-r.html#cb638-38" tabindex="-1"></a><span class="co"># Remove any NA values (if any)</span></span>
<span id="cb638-39"><a href="mapping-health-data-in-r.html#cb638-39" tabindex="-1"></a></span>
<span id="cb638-40"><a href="mapping-health-data-in-r.html#cb638-40" tabindex="-1"></a>la_tracts <span class="ot">&lt;-</span> la_tracts <span class="sc">%&gt;%</span></span>
<span id="cb638-41"><a href="mapping-health-data-in-r.html#cb638-41" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(time_to_hospital))</span>
<span id="cb638-42"><a href="mapping-health-data-in-r.html#cb638-42" tabindex="-1"></a></span>
<span id="cb638-43"><a href="mapping-health-data-in-r.html#cb638-43" tabindex="-1"></a><span class="co"># Visualize the driving time to the hospital using ggplot2</span></span>
<span id="cb638-44"><a href="mapping-health-data-in-r.html#cb638-44" tabindex="-1"></a></span>
<span id="cb638-45"><a href="mapping-health-data-in-r.html#cb638-45" tabindex="-1"></a><span class="fu">ggplot</span>(la_tracts, <span class="fu">aes</span>(<span class="at">fill =</span> time_to_hospital)) <span class="sc">+</span></span>
<span id="cb638-46"><a href="mapping-health-data-in-r.html#cb638-46" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb638-47"><a href="mapping-health-data-in-r.html#cb638-47" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>, <span class="at">name =</span> <span class="st">&quot;Driving Time (minutes)&quot;</span>) <span class="sc">+</span></span>
<span id="cb638-48"><a href="mapping-health-data-in-r.html#cb638-48" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb638-49"><a href="mapping-health-data-in-r.html#cb638-49" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Driving Time to UCLA Ronald Reagan Medical Center&quot;</span>,</span>
<span id="cb638-50"><a href="mapping-health-data-in-r.html#cb638-50" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;From Individual Census Tracts in the Los Angeles Metro Area&quot;</span>,</span>
<span id="cb638-51"><a href="mapping-health-data-in-r.html#cb638-51" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data source: Mapbox Directions API&quot;</span></span>
<span id="cb638-52"><a href="mapping-health-data-in-r.html#cb638-52" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb638-53"><a href="mapping-health-data-in-r.html#cb638-53" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb638-54"><a href="mapping-health-data-in-r.html#cb638-54" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> la_crs)</span></code></pre></div>
<p><img src="io60-mapping_health_data_files/figure-html/la-1.png" width="672" /></p>
<p>Note that for some census tracts on the east side, it can take ~ 5 hours to drive to the hospital, while for some on the west side, it can take as little as 10 minutes.</p>
</div>
<div id="you-can-learn-about-other-mapping-packages-like" class="section level2 hasAnchor" number="30.16">
<h2><span class="header-section-number">30.16</span> You can learn about other mapping packages, like<a href="mapping-health-data-in-r.html#you-can-learn-about-other-mapping-packages-like" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>general R mapping ebook with chaters on tmap, ggplot2, leaflet, mapbox
<a href="https://bookdown.org/nicohahn/making_maps_with_r5/docs/introduction.html" class="uri">https://bookdown.org/nicohahn/making_maps_with_r5/docs/introduction.html</a></li>
</ul>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;

    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="helping-out-with-ggplot.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="resources-for-learning-more-about-mapgl.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["rmrwr.pdf", "rmrwr.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
